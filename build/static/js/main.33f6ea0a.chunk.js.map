{"version":3,"sources":["firebase.js","pages/login.js","components/Item.js","components/Numpad.js","components/ChangeAlert.js","pages/merchant/Print.js","pages/merchant/Checkout.js","pages/merchant/End.js","pages/merchant/Barcode.js","pages/Notfound.js","pages/Pay.js","pages/admin/Admin.js","pages/admin/Dashboard.js","components/Alert.js","components/Popup.js","components/Stock_Item.js","pages/admin/Stock.js","pages/CustomerView.js","pages/admin/Report.js","pages/Test.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Login","history","useHistory","Cookie","useEffect","auth","onAuthStateChanged","user","replace","className","style","color","fontSize","Item","order","name","amount","price","del","id","customer","barcode","styles","border","outline","background","cursor","onClick","icon","faTimes","display","justifyContent","alignItems","backgroundColor","boxShadow","borderRadius","width","height","Numpad","onPress","clear","useState","number","setNumber","prev","gridColumnStart","gridColumnEnd","old","pop","faBackspace","ChangeAlert","Print","GlobalItem","useContext","Context","window","print","setTimeout","counter","console","log","flexDirection","gap","alignSelf","fontWeight","type","Date","getUTCDate","getUTCMonth","getFullYear","getHours","getMinutes","margin","billNumber","item","map","overflow","toString","marginTop","total","change","Alert","show","msg","position","minWidth","minHeight","padding","Conclusion","close","setGlobalItem","thousand","setThousand","fivehund","setFivehund","hundred","setHundred","fifty","setFifty","twenty","setTwenty","ten","setTen","five","setFive","two","setTwo","one","setOne","setOrder","money","setMoney","setTotal","profit","setProfit","lastOpen","setLastOpen","a","conclusion","last_open","firestore","collection","doc","update","salary","FieldValue","serverTimestamp","faArrowLeft","size","value","onChange","e","target","get","then","data","BillCancel","bill","setBarcode","onSubmit","preventDefault","status","items","alert","catch","err","Custom","open","setItem","setValue","exactValue","split","shift","parseInt","reduce","Math","abs","placeholder","autoFocus","QRScanStatus","setShow","URL","location","href","searchParams","set","qrBill","merge","faQrcode","Checkout","setChange","setUser","setClear","changeOpen","closeShop","setCloseShop","multiply","setMultiply","voidCounter","setVoidCounter","billVoid","setBillVoid","setVoidItem","setCounter","custom","setCustom","setBill","countdown","setCountdown","checkout","setCheckout","qrPay","setQrPay","setQRBill","cookies","Cookies","getChange","url","Fetch","getStatus","fetch","response","json","QRPayFunc","timeout","length","clearTimeout","QRbillNumber","getDate","getMonth","getSeconds","qrCreate","QRGen","time","code","keyPress","document","getElementById","focus","addEventListener","removeEventListener","scroll","scrollTop","scrollHeight","BillDelete","random","increment","Payment","payIn","join","now","Scann","item_scan","exists","same","find","new_list","filter","barId","onScan","blur","overflowY","index","maxWidth","maxHeight","marginBottom","wordWrap","End","today","seconds","isToday","months","BarcodeGen","flexWrap","Notfound","Pay","payItem","Admin","email","setEmail","password","setPassword","errMsg","setErrMsg","submit","setSubmit","signInWithEmailAndPassword","Dashboard","setSalary","chart","setChart","hits","setHits","onSnapshot","orderBy","limit","docs","forEach","push","faSignOutAlt","signOut","undefined","day","month","flex","stroke","parent","animate","duration","onLoad","interpolation","x","y","label","axisLabel","dependentAxis","faCartArrowDown","faChartLine","isShow","right","top","opacity","transition","Scan","add","setExist","faBarcode","AddAmount","from","setAmount","setErr","addItemAmount","old_data","stock_amount","add_amount","front_amount","reload","borderBottom","Popup","stock","exist","item_check","bool","Items","item_barcode","item_name","item_price","removeItem","front","addItem","success","barcodes","setName","setPrice","isEdit","setIsEdit","setMsg","edit","item_amount","addToDb","createdAt","editItem","faTrash","delete","Stock","setFront","setAddItem","isLoading","setIsLoading","last","setLast","frontItem","setFrontItem","stockItem","setStockItem","count","setCount","setRead","setSuccess","infiniteLoad","currentTarget","round","innerHeight","scrollY","body","offsetHeight","startAfter","some","faPlus","sort","b","front_item","stock_item","CustomerView","useParams","marginLeft","paddingLeft","marginRight","src","scrolling","frameborder","allowfullscreen","allow","bgColor","Report","Test","createContext","App","Provider","path","exact","component","Barcode","NotFound","ReportHub","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.33f6ea0a.chunk.js","sourcesContent":["import firebase from  \"firebase/app\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/auth\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAHVu0llKTeO9kxjqpR9o0a99mLhgQKCQk\",\r\n    authDomain: \"mart-fdeb3.firebaseapp.com\",\r\n    projectId: \"mart-fdeb3\",\r\n    storageBucket: \"mart-fdeb3.appspot.com\",\r\n    messagingSenderId: \"390862191046\",\r\n    appId: \"1:390862191046:web:c92bd906fa40ffda701ac7\",\r\n    measurementId: \"G-E7FGTMGT9F\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport default firebase\r\n\r\n\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport firebase from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Cookie from \"universal-cookie\";\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const cookie = new Cookie();\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        history.replace(\"merchant/checkout\");\r\n      }\r\n    });\r\n\r\n    // firebase.auth().signOut()\r\n    // console.log(firebase.auth().currentUser !== null);\r\n    // firebase\r\n    //   .auth()\r\n    //   .signInAnonymously()\r\n    //   .then(() => cookie.set(\"logined\", \"true\"))\r\n    //   .catch((err) => console.log(err));\r\n    // firebase.firestore().collection(\"test\").doc(\"iJd4VqFRxVMc2MiAXjiT\").get().then(doc => alert(doc.data().status)).catch((err) => alert(err.code))\r\n    // firebase.auth().signOut().then(()=> alert(\"Signed Out !\"))\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"loginBox\">\r\n        <h3 style={{ color: \"red\", fontSize: 22 }}>\r\n          ไม่ได้รับอนุญาต หากเกิดข้อผิดพลาดติดต่อแอดมิน\r\n        </h3>\r\n        {/* <div className=\"loginForm\">\r\n          <input type=\"text\" placeholder=\"ชื่อผู้ใช้\" className=\"formBox\" />\r\n          <input type=\"text\" placeholder=\"รหัผ่าน\" className=\"formBox\"/>\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Item({ order, name, amount, price, del, id, customer , barcode }) {\r\n  return (\r\n    <div style={styles}>\r\n      <h3>{order}</h3>\r\n      <h3>{name}</h3>\r\n      <h3>{amount} ชิ้น </h3>\r\n      <h3>{price} บาท</h3>\r\n      {!customer && (\r\n        <span\r\n          style={{\r\n            border: \"none\",\r\n            outline: \"none\",\r\n            background: \"none\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={() => del({id , barcode , amount})}\r\n        >\r\n          <FontAwesomeIcon icon={faTimes} />\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n\r\nconst styles = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-around\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"white\",\r\n  boxShadow: \"0px 0px 2px 2px rgba(0,0,0,0.25)\",\r\n  borderRadius: \"20px\",\r\n  width: \"70%\",\r\n  height: \"100px\",\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBackspace } from \"@fortawesome/free-solid-svg-icons\";\r\nfunction Numpad({ onPress, clear }) {\r\n  const [number, setNumber] = useState([]);\r\n\r\n  useEffect(() => {\r\n    onPress(number);\r\n  }, [number]);\r\n\r\n  useEffect(() => {\r\n    setNumber([]);\r\n  }, [clear]);\r\n  return (\r\n    <div className=\"change-form\">\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 1])}>\r\n        1\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 2])}>\r\n        2\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 3])}>\r\n        3\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 4])}>\r\n        4\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 5])}>\r\n        5\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 6])}>\r\n        6\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 7])}>\r\n        7\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 8])}>\r\n        8\r\n      </div>\r\n      <div className=\"payIn\" onClick={() => setNumber((prev) => [...prev, 9])}>\r\n        9\r\n      </div>\r\n      <div\r\n        className=\"payIn\"\r\n        style={{ gridColumnStart: 0, gridColumnEnd: 3 }}\r\n        onClick={() => setNumber((prev) => [...prev, 0])}\r\n      >\r\n        0\r\n      </div>\r\n      <div\r\n        className=\"payIn\"\r\n        // style={{ gridColumnStart: 3, gridColumnEnd: 6 }}\r\n        onClick={() =>\r\n          setNumber((prev) => {\r\n            const old = [...prev];\r\n            old.pop();\r\n            return [...old];\r\n          })\r\n        }\r\n      >\r\n        <FontAwesomeIcon icon={faBackspace} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Numpad;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Numpad from \"../components/Numpad\";\r\nimport firebase from \"../firebase\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction ChangeAlert({ counterId, open }) {\r\n  const [change, setChange] = useState([]);\r\n  const [show, setShow] = useState(true);\r\n  const [time, setTime] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setShow(open);\r\n  }, [open]);\r\n  const Submit = () => {\r\n    setShow(false);\r\n    setChange([]);\r\n\r\n    firebase\r\n      .firestore()\r\n      .collection(\"counter\")\r\n      .doc(counterId)\r\n      .set({ change: parseInt(change.join(\"\")) }, { merge: true });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const now = new Date();\r\n    setTimeout(() => {\r\n      setTime(now);\r\n    }, 1000);\r\n  }, [time]);\r\n\r\n  // useEffect(() => {\r\n  //   if (time !== null && time.getHours() === 16) {\r\n  //     setShow(true);\r\n  //     firebase\r\n  //       .firestore()\r\n  //       .collection(\"admin\")\r\n  //       .doc(\"salary\")\r\n  //       .get()\r\n  //       .then((doc) => {\r\n  //         const date = new Date().getDay() - 1;\r\n  //         const day = [\"จันทร์\", \"อังคาร\", \"พุธ\", \"พฤหัส\", \"ศุกร์\"];\r\n\r\n  //         const chart = [...doc.data().chart];\r\n  //         chart.filter((value, index) => index !== date);\r\n  //         firebase\r\n  //           .firestore()\r\n  //           .collection(\"admin\")\r\n  //           .doc(\"salary\")\r\n  //           .set(\r\n  //             {\r\n  //               chart: [\r\n  //                 ...chart.filter((value, index) => index !== date),\r\n  //                 { day: day[date], amount: doc.data().amount.day },\r\n  //               ],\r\n  //             },\r\n  //             { merge: true }\r\n  //           );\r\n  //       });\r\n  //   }\r\n  // }, [time]);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        display: show ? \"flex\" : \"none\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        background: \"rgba(0,0,0,0.5)\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          background: \"white\",\r\n          minWidth: \"50%\",\r\n          minHeight: \"70%\",\r\n          padding: 20,\r\n          borderRadius: 20,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <FontAwesomeIcon\r\n          icon={faTimes}\r\n          size=\"2x\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 40,\r\n            right: 40,\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={() => setShow(false)}\r\n        />\r\n        <h1>กรอกเงินทอน</h1>\r\n        <div style={{ height: \"50px\" }}>\r\n          <h1>{change.join(\"\").replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}</h1>\r\n        </div>\r\n        <Numpad\r\n          onPress={(number) => setChange(number)}\r\n          clear={show === false}\r\n        />\r\n\r\n        <button\r\n          style={{\r\n            background: \"#08c318\",\r\n            border: \"none\",\r\n            padding: \"20px 20%\",\r\n            borderRadius: 50,\r\n            color: \"white\",\r\n            cursor: \"pointer\",\r\n            boxShadow: \"0px 0px 10px 2px rgba(0, 0, 0, 0.25)\",\r\n            outline: \"none\",\r\n          }}\r\n          onClick={Submit}\r\n        >\r\n          <h2>ตกลง</h2>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeAlert;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Context } from \"../../App\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport QRCode from \"react-qr-code\";\r\nimport Barcode from \"react-barcode\";\r\n// import Cookies from 'Cook'\r\n\r\nfunction Print() {\r\n  const [month, setMonth] = useState(\"\");\r\n  const { GlobalItem } = useContext(Context);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    window.print();\r\n    setTimeout(() => {\r\n      history.replace(`/merchant/checkout?counter=${GlobalItem.counter}`);\r\n    }, 1000);\r\n    console.log(GlobalItem.counter);\r\n  }, []);\r\n\r\n  const months = [\r\n    \"ม.ค\",\r\n    \"ก.พ\",\r\n    \"มี.ค\",\r\n    \"เม.ย\",\r\n    \"พ.ค\",\r\n    \"มิ.ย\",\r\n    \"ก.ค\",\r\n    \"ส.ค\",\r\n    \"ก.ย\",\r\n    \"ต.ค\",\r\n    \"พ.ย\",\r\n    \"ธ.ค\",\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n          background: \"white\",\r\n          gap: 10,\r\n        }}\r\n      >\r\n        {/* <img style={{ width: 60 }} src=\"/img/pkw_logo.jpeg\" /> */}\r\n        <h4 style={{ alignSelf: \"center\", fontWeight: \"lighter\" }}>\r\n          มินิมาร์ท โรงเรียนภูเก็ตวิทยาลัย\r\n        </h4>\r\n\r\n        {GlobalItem.type === \"qr\" && (\r\n          <h4 style={{ alignSelf: \"center\", fontWeight: \"bold\" }}>\r\n            แสกนจ่ายผ่านแอพ ได้เพย์\r\n          </h4>\r\n        )}\r\n\r\n        <h4 style={{ fontWeight: \"lighter\" }}>\r\n          {`${new Date().getUTCDate()} ${months[new Date().getUTCMonth()]} ${\r\n            new Date().getFullYear() + 543\r\n          } `}{\" \"}\r\n          {`${\r\n            new Date().getHours() <= 9\r\n              ? `0${new Date().getHours()}`\r\n              : new Date().getHours()\r\n          } :${\r\n            new Date().getMinutes() <= 9\r\n              ? `0${new Date().getMinutes()}`\r\n              : new Date().getMinutes()\r\n          } น. `}\r\n        </h4>\r\n\r\n        <div\r\n          style={{\r\n            margin: 0,\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"400px\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <h4>หมายเลขบิล</h4>\r\n\r\n          <h3>{GlobalItem.billNumber}</h3>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            margin: 0,\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"400px\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <h4>\r\n            บิลเครื่องที่{\" \"}\r\n            {GlobalItem.counter === \"counter01@pkw.ac.th\"\r\n              ? 1\r\n              : GlobalItem.counter === \"counter02@pkw.ac.th\"\r\n              ? 2\r\n              : \"admin\"}\r\n          </h4>\r\n        </div>\r\n\r\n        <h4 style={{ fontWeight: \"lighter\" }}>\r\n          ===============================\r\n        </h4>\r\n        {GlobalItem.item.map(({ name, amount, price }) => (\r\n          <div\r\n            key={name}\r\n            style={{\r\n              margin: 0,\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <div style={{ width: \"50%\", overflow: \"hidden\" }}>\r\n              <h4 style={{ fontWeight: \"lighter\" }}>{name}</h4>\r\n            </div>\r\n            <h4 style={{ fontWeight: \"lighter\" }}>\r\n              x {amount.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\r\n            </h4>\r\n            <h4 style={{ fontWeight: \"lighter\" }}>\r\n              {price.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท\r\n            </h4>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"flex-end\",\r\n          marginTop: 20,\r\n        }}\r\n      >\r\n        <h4 style={{ fontWeight: \"lighter\" }}>\r\n          สุทธิ{\" \"}\r\n          {GlobalItem.price\r\n            .toString()\r\n            .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n          บาท\r\n        </h4>\r\n        {GlobalItem.type !== \"qr\" && (\r\n          <>\r\n            <h4 style={{ fontWeight: \"lighter\" }}>\r\n              รับเงินมา{\" \"}\r\n              {GlobalItem.total\r\n                .toString()\r\n                .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n              บาท\r\n            </h4>\r\n            <h4 style={{ fontWeight: \"lighter\" }}>\r\n              เงินทอน{\" \"}\r\n              {GlobalItem.change\r\n                .toString()\r\n                .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n              บาท\r\n            </h4>\r\n          </>\r\n        )}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          gap: 20,\r\n          marginTop: 20,\r\n        }}\r\n      >\r\n        <h4 style={{ fontWeight: \"lighter\" }}>ขอบคุณที่มาอุดหนุน</h4>\r\n        {/* <h6>โหลดแอพได้เพย์ได้ที่ Play Store และ App Store ได้แล้ววันนี้</h6>\r\n        <QRCode value=\"https://daipayapp.com\" size={100} /> */}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Print;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"../../App.css\";\r\nimport Item from \"../../components/Item\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Context } from \"../../App\";\r\nimport firebase from \"../../firebase\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport BarcodeScanner from \"react-barcode-reader\";\r\nimport ChangeAlert from \"../../components/ChangeAlert\";\r\nimport Numpad from \"../../components/Numpad\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faBarcode,\r\n  faQrcode,\r\n  faArrowLeft,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { v4 as uuid } from \"uuid\";\r\nimport Print from \"./Print\";\r\n\r\nconst Alert = ({ show, onClick, change, msg }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        minWidth: \"100vw\",\r\n        minHeight: \"100vh\",\r\n        display: show ? \"flex\" : \"none\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          backgroundColor: \"white\",\r\n          borderRadius: 50,\r\n          width: \"500px\",\r\n          height: \"300px\",\r\n          gap: 20,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <h1 style={{}}>เงินทอน</h1>\r\n          <h1 className=\"MediumText\">\r\n            <span style={{ color: \"#0099FF\" }}>{change}</span> บาท\r\n          </h1>\r\n        </div>\r\n        <button\r\n          style={{\r\n            cursor: \"pointer\",\r\n            border: \"none\",\r\n            outline: \"none\",\r\n            backgroundColor: \"#0099FF\",\r\n            padding: \"10px 100px\",\r\n            borderRadius: 20,\r\n            fontSize: 28,\r\n            color: \"white\",\r\n          }}\r\n          onClick={() => onClick()}\r\n        >\r\n          ปิด\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Conclusion = ({ counter, show, close, setGlobalItem, history }) => {\r\n  const [thousand, setThousand] = useState(\"\");\r\n  const [fivehund, setFivehund] = useState(\"\");\r\n  const [hundred, setHundred] = useState(\"\");\r\n  const [fifty, setFifty] = useState(\"\");\r\n  const [twenty, setTwenty] = useState(\"\");\r\n  const [ten, setTen] = useState(\"\");\r\n  const [five, setFive] = useState(\"\");\r\n  const [two, setTwo] = useState(\"\");\r\n  const [one, setOne] = useState(\"\");\r\n\r\n  const [order, setOrder] = useState(1);\r\n\r\n  const [money, setMoney] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n  const [profit, setProfit] = useState(null);\r\n  const [lastOpen, setLastOpen] = useState(\"\");\r\n  useEffect(() => {\r\n    setMoney(\r\n      thousand * 1000 +\r\n        fivehund * 500 +\r\n        hundred * 100 +\r\n        fifty * 50 +\r\n        twenty * 20 +\r\n        ten * 10 +\r\n        five * 5 +\r\n        two * 2 +\r\n        one * 1\r\n    );\r\n  }, [thousand, fivehund, hundred, fifty, twenty, ten, five, two, one]);\r\n\r\n  const Calculate = () => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"counter\")\r\n      .doc(counter)\r\n      .get()\r\n      .then((doc) => {\r\n        const total = doc.data().salary;\r\n        setLastOpen(doc.data().last_open);\r\n        setProfit(money - 5000 - total);\r\n        setTotal(total);\r\n        setOrder(2);\r\n      });\r\n  };\r\n\r\n  const Print = async () => {\r\n    setGlobalItem({\r\n      conclusion: true,\r\n      total: total + 5000,\r\n      change: 5000,\r\n      profit: profit,\r\n      counter: counter,\r\n      last_open: lastOpen,\r\n    });\r\n    await firebase.firestore().collection(\"counter\").doc(counter).update({\r\n      salary: 0,\r\n      last_open: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    history.replace(\"/merchant/end\");\r\n  };\r\n\r\n  if (order === 2)\r\n    return (\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          backgroundColor: \"rgba(0,0,0,0.5)\",\r\n          minWidth: \"100vw\",\r\n          minHeight: \"100vh\",\r\n          display: show ? \"flex\" : \"none\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: 50,\r\n            width: \"500px\",\r\n            minHeight: \"300px\",\r\n            gap: 20,\r\n            padding: 20,\r\n          }}\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={faArrowLeft}\r\n            size=\"2x\"\r\n            onClick={() => setOrder(1)}\r\n            style={{ alignSelf: \"flex-start\", cursor: \"pointer\" }}\r\n          />\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"white\",\r\n              borderRadius: 50,\r\n              width: \"500px\",\r\n              minHeight: \"300px\",\r\n              gap: 20,\r\n              padding: 10,\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"flex-start\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <h1>เงินทั้งหมด</h1>\r\n              <h1>เงินทอน </h1>\r\n              <h1>เงินสุทธิ </h1>\r\n              <h1 style={{ color: profit > 0 ? \"#08c318\" : \"red\" }}>\r\n                {profit > 0 ? \"เงินเกิน\" : \"เงินขาด\"}\r\n              </h1>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"flex-start\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <h1>\r\n                {\" \"}\r\n                {money.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท\r\n              </h1>\r\n              <h1> 5,000 บาท</h1>\r\n              <h1>\r\n                {\" \"}\r\n                {(money - 5000)\r\n                  .toString()\r\n                  .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n                บาท\r\n              </h1>\r\n              <h1 style={{ color: profit > 0 ? \"#08c318\" : \"red\" }}>\r\n                {profit.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n                <span style={{ color: \"black\" }}>บาท</span>\r\n              </h1>\r\n            </div>\r\n          </div>\r\n          <button\r\n            style={{\r\n              cursor: \"pointer\",\r\n              border: \"none\",\r\n              outline: \"none\",\r\n              backgroundColor: \"#0099FF\",\r\n              padding: \"10px 50px\",\r\n              borderRadius: 20,\r\n              fontSize: 22,\r\n              color: \"white\",\r\n            }}\r\n            onClick={Print}\r\n          >\r\n            ปริ้นท์\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  if (order === 1)\r\n    return (\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          backgroundColor: \"rgba(0,0,0,0.5)\",\r\n          minWidth: \"100vw\",\r\n          minHeight: \"100vh\",\r\n          display: show ? \"flex\" : \"none\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: 50,\r\n            width: \"500px\",\r\n            minHeight: \"300px\",\r\n            gap: 20,\r\n            padding: 10,\r\n          }}\r\n        >\r\n          <h1>สรุปยอดการขายวันนี้</h1>\r\n          <h2>{money} บาท</h2>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"row\",\r\n              gap: 20,\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"flex-start\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <label>1,000</label>\r\n              <label>500</label>\r\n              <label>100</label>\r\n              <label>50</label>\r\n              <label>20</label>\r\n              <label>10</label>\r\n              <label>5</label>\r\n              <label>2</label>\r\n              <label>1</label>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"flex-start\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <input\r\n                type=\"number\"\r\n                value={thousand}\r\n                onChange={(e) => setThousand(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={fivehund}\r\n                onChange={(e) => setFivehund(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={hundred}\r\n                onChange={(e) => setHundred(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={fifty}\r\n                onChange={(e) => setFifty(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={twenty}\r\n                onChange={(e) => setTwenty(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={ten}\r\n                onChange={(e) => setTen(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={five}\r\n                onChange={(e) => setFive(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={two}\r\n                onChange={(e) => setTwo(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={one}\r\n                onChange={(e) => setOne(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              alignItems: \"center\",\r\n              gap: 20,\r\n            }}\r\n          >\r\n            <button\r\n              style={{\r\n                cursor: \"pointer\",\r\n                border: \"none\",\r\n                outline: \"none\",\r\n                backgroundColor: \"#0099FF\",\r\n                padding: \"10px 50px\",\r\n                borderRadius: 20,\r\n                fontSize: 22,\r\n                color: \"white\",\r\n              }}\r\n              onClick={Calculate}\r\n            >\r\n              ตกลง\r\n            </button>\r\n            <button\r\n              style={{\r\n                cursor: \"pointer\",\r\n                border: \"none\",\r\n                outline: \"none\",\r\n                backgroundColor: \"red\",\r\n                padding: \"10px 50px\",\r\n                borderRadius: 20,\r\n                fontSize: 22,\r\n                color: \"white\",\r\n              }}\r\n              onClick={close}\r\n            >\r\n              ยกเลิก\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nconst BillCancel = ({ show, close, bill }) => {\r\n  const [barcode, setBarcode] = useState(\"\");\r\n\r\n  const GetBill = () => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"history\")\r\n      .doc(barcode)\r\n      .get()\r\n      .then((doc) => {\r\n        // console.log(doc.data());\r\n        if (doc.data().status === \"normal\") {\r\n          bill({\r\n            item: [...doc.data().items],\r\n            bill: barcode,\r\n            counter: doc.data().counter,\r\n          });\r\n          close();\r\n        } else {\r\n          alert(\"ไม่พบบิลนี้\");\r\n        }\r\n      })\r\n      .catch((err) => alert(\"ไม่พบบิลนี้\"));\r\n  };\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          backgroundColor: \"rgba(0,0,0,0.5)\",\r\n          minWidth: \"100vw\",\r\n          minHeight: \"100vh\",\r\n          display: show ? \"flex\" : \"none\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: 50,\r\n            width: \"500px\",\r\n            minHeight: \"300px\",\r\n            gap: 20,\r\n            padding: 10,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: \"25vw\",\r\n              minHeight: \"30vh\",\r\n              background: \"white\",\r\n              borderRadius: 10,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"space-around\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <h1>กรอกหมายเลขบิล</h1>\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                GetBill();\r\n              }}\r\n            >\r\n              <input\r\n                style={{\r\n                  borderRadius: 10,\r\n                  outline: \"none\",\r\n                  border: \"1px solid black\",\r\n                  padding: 10,\r\n                }}\r\n                type=\"number\"\r\n                value={barcode}\r\n                onChange={(e) => setBarcode(e.target.value)}\r\n              />\r\n            </form>\r\n\r\n            <button\r\n              style={{\r\n                cursor: \"pointer\",\r\n                outline: \"none\",\r\n                background: \"red\",\r\n                border: \"none\",\r\n                borderRadius: 20,\r\n                padding: \"10px 40px\",\r\n                color: \"white\",\r\n              }}\r\n              onClick={() => close()}\r\n            >\r\n              ยกเลิก\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Custom = ({ open, close, setItem }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"fixed\",\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        background: \"rgba(0,0,0,0.25)\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          background: \"white\",\r\n          width: \"20%\",\r\n          minHeight: 100,\r\n          padding: 20,\r\n          borderRadius: 10,\r\n          gap: 20,\r\n        }}\r\n      >\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            const exactValue = value.split(\"+\");\r\n            exactValue.shift();\r\n            const price = exactValue\r\n              .map((value) => parseInt(value))\r\n              .reduce((total, price) => price + total, 0);\r\n\r\n            setItem(Math.abs(price));\r\n          }}\r\n        >\r\n          <input\r\n            placeholder=\"ใส่จำนวนเงิน\"\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n            autoFocus\r\n            style={{\r\n              padding: 10,\r\n              background: \"white\",\r\n              outline: \"none\",\r\n              border: \"1px solid #0099FF\",\r\n              borderRadius: 20,\r\n            }}\r\n          />\r\n        </form>\r\n\r\n        <button\r\n          style={{\r\n            cursor: \"pointer\",\r\n            outline: \"none\",\r\n            background: \"red\",\r\n            border: \"none\",\r\n            borderRadius: 20,\r\n            padding: \"10px 40px\",\r\n            color: \"white\",\r\n          }}\r\n          onClick={() => close()}\r\n        >\r\n          ยกเลิก\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst QRScanStatus = ({ open }) => {\r\n  const [show, setShow] = useState(false);\r\n  const url = new URL(window.location.href);\r\n  const counter = url.searchParams.get(\"counter\");\r\n\r\n  useEffect(() => {\r\n    setShow(open);\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    const reset = () => {\r\n      firebase\r\n        .firestore()\r\n        .collection(\"counter\")\r\n        .doc(counter)\r\n        .set({ qrBill: \"\" }, { merge: true });\r\n    };\r\n    reset();\r\n  }, [show]);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        minWidth: \"100vw\",\r\n        minHeight: \"100vh\",\r\n        display: show ? \"flex\" : \"none\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          backgroundColor: \"white\",\r\n          borderRadius: 50,\r\n          width: \"500px\",\r\n          height: \"300px\",\r\n          gap: 20,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={faQrcode}\r\n            size=\"2x\"\r\n            style={{ alignSelf: \"center\", cursor: \"pointer\" }}\r\n          />\r\n\r\n          <h1>รอลูกค้าแสกนผ่านแอพ</h1>\r\n        </div>\r\n        <button\r\n          style={{\r\n            cursor: \"pointer\",\r\n            border: \"none\",\r\n            outline: \"none\",\r\n            backgroundColor: \"#0099FF\",\r\n            padding: \"10px 50px\",\r\n            borderRadius: 20,\r\n            fontSize: 18,\r\n            color: \"white\",\r\n          }}\r\n          onClick={() => setShow(false)}\r\n        >\r\n          ปิด\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Checkout() {\r\n  const [item, setItem] = useState([]);\r\n  const [show, setShow] = useState(false);\r\n  const [money, setMoney] = useState([]);\r\n  const [change, setChange] = useState(0);\r\n  const [user, setUser] = useState([]);\r\n  const [clear, setClear] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n  const [changeOpen, setChangeOpen] = useState(false);\r\n  const [closeShop, setCloseShop] = useState(false);\r\n  const [multiply, setMultiply] = useState(1);\r\n  const [voidCounter, setVoidCounter] = useState(\"\");\r\n  const [billVoid, setBillVoid] = useState(false);\r\n  const [VoidItem, setVoidItem] = useState([]);\r\n  const [counter, setCounter] = useState(null);\r\n  const [custom, setCustom] = useState(false);\r\n  const [bill, setBill] = useState(\"\");\r\n  const [countdown, setCountdown] = useState(60);\r\n  const [checkout, setCheckout] = useState(false);\r\n  const [qrPay, setQrPay] = useState(false);\r\n  const [qrBill, setQRBill] = useState(\"\");\r\n  const history = useHistory();\r\n  const cookies = new Cookies();\r\n\r\n  const getChange = cookies.get(\"change\");\r\n  const { GlobalItem, setGlobalItem } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    const Fetch = async () => {\r\n      const url = new URL(window.location.href);\r\n      const counter = url.searchParams.get(\"counter\");\r\n      setCounter(counter);\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"counter\")\r\n        .doc(counter)\r\n        .set({ qrBill: \"\" }, { merge: true });\r\n    };\r\n    Fetch();\r\n  }, []);\r\n\r\n  //QR Payment\r\n\r\n  useEffect(() => {\r\n    const getStatus = async () => {\r\n      const response = await fetch(\r\n        `https://asia-south1-daipay.cloudfunctions.net/QRCheck?qr=${qrBill}&token=testtoken`\r\n      );\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.status === \"success\") {\r\n        QRPayFunc();\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"counter\")\r\n          .doc(counter)\r\n          .set({ qrBill: \"\" }, { merge: true });\r\n      }\r\n    };\r\n    const timeout = setTimeout(() => {\r\n      qrPay && item.length > 0 && qrBill !== \"\" && getStatus();\r\n      setCountdown((prev) => prev - 1);\r\n    }, 1000);\r\n    return () => clearTimeout(timeout);\r\n  }, [countdown, qrBill]);\r\n\r\n  useEffect(() => {\r\n    const QRbillNumber = `${new Date().getDate()}${new Date().getMonth()}${new Date().getHours()}${new Date().getMinutes()}${new Date().getSeconds()}`;\r\n    setQRBill(QRbillNumber);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const QRGen = async () => {\r\n      if (qrPay) {\r\n        const qrCreate = await fetch(\r\n          `https://asia-south1-daipay.cloudfunctions.net/QRGen?qr=${qrBill}&token=testtoken`\r\n        );\r\n        const data = await qrCreate.json();\r\n        if (data.status === \"success\") {\r\n          await firebase\r\n            .firestore()\r\n            .collection(\"counter\")\r\n            .doc(counter)\r\n            .set({ qrBill: qrBill }, { merge: true });\r\n        }\r\n      }\r\n    };\r\n    qrPay && QRGen();\r\n  }, [qrPay]);\r\n\r\n  const QRPayFunc = async () => {\r\n    setCheckout(true);\r\n    await firebase\r\n      .firestore()\r\n      .collection(\"e-history\")\r\n      .doc(qrBill)\r\n      .set({\r\n        items: item,\r\n        time: new Date(),\r\n        status: \"normal\",\r\n        price: total,\r\n        counter: counter,\r\n      })\r\n      .then(() => {})\r\n      .catch((err) => alert(`Add Failed! ${err.code}`));\r\n\r\n    setGlobalItem({\r\n      type: \"qr\",\r\n      item: item,\r\n      billNumber: qrBill,\r\n      price: total,\r\n      counter: counter,\r\n    });\r\n\r\n    history.replace(\"/merchant/print\");\r\n  };\r\n  //QR Payment --- End\r\n\r\n  useEffect(() => {\r\n    const keyPress = (e) => {\r\n      (e.code === \"NumpadDivide\" || e.code === \"Slash\" || e.code === \"Space\") &&\r\n        document.getElementById(\"money\").focus();\r\n      if (e.code === \"NumpadMultiply\") {\r\n        setMultiply(\"\");\r\n        document.getElementById(\"multiply\").focus();\r\n      }\r\n\r\n      if (e.code === \"NumpadEnter\") {\r\n        setChange(0);\r\n        cookies.set(\"change\", 0);\r\n      }\r\n\r\n      if (\r\n        e.code === \"NumpadSubtract\" ||\r\n        e.code === \"Minus\" ||\r\n        e.code === \"NumpadAdd\"\r\n      ) {\r\n        setCustom(true);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", keyPress, false);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", keyPress, false);\r\n    };\r\n\r\n    const show = cookies.get(\"show\");\r\n\r\n    setShow(show);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setChange(getChange);\r\n  }, [getChange]);\r\n\r\n  useEffect(() => {\r\n    const scroll = document.getElementById(\"items\");\r\n    scroll.scrollTop = scroll.scrollHeight;\r\n  }, [item]);\r\n\r\n  const BillDelete = async () => {\r\n    if (bill === \"\") {\r\n      setItem([]);\r\n      setMoney([]);\r\n      setClear(Math.random());\r\n    } else {\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"history\")\r\n        .doc(bill)\r\n        .update({ status: \"cancel\" }, { merge: true })\r\n        .then(() => console.log(\"success\"));\r\n\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"history\")\r\n        .doc(bill)\r\n        .get()\r\n        .then(async (doc) => {\r\n          const price = doc.data().price;\r\n\r\n          await firebase\r\n            .firestore()\r\n            .collection(\"counter\")\r\n            .doc(voidCounter)\r\n            .update(\r\n              { salary: firebase.firestore.FieldValue.increment(-price) },\r\n              { merge: true }\r\n            )\r\n            .then(() => console.log(\"remove\"));\r\n\r\n          setItem([]);\r\n          setMoney([]);\r\n          setBill(\"\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const Payment = async () => {\r\n    if (counter == null) return alert(\"err !\");\r\n    if (checkout) return;\r\n    if (item.length === 0) return;\r\n\r\n    const billNumber = `${new Date().getDate()}${new Date().getMonth()}${new Date().getHours()}${new Date().getMinutes()}${new Date().getSeconds()}`;\r\n\r\n    const payIn = typeof money === \"object\" ? parseInt(money.join(\"\")) : money;\r\n\r\n    // if (bill === \"\") {\r\n    if (payIn >= total) {\r\n      setCheckout(true);\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"history\")\r\n        .doc(billNumber)\r\n        .set({\r\n          payIn: payIn,\r\n          items: item,\r\n          time: new Date(),\r\n          status: \"normal\",\r\n          price: total,\r\n          counter: counter,\r\n        })\r\n        .catch((err) => alert(`Add Failed! ${err.code}`));\r\n\r\n      // await item.forEach(({ barId, amount, name }) => {\r\n      //   firebase\r\n      //     .firestore()\r\n      //     .collection(\"stock\")\r\n      //     .doc(barId)\r\n      //     .update({\r\n      //       front_amount: firebase.firestore.FieldValue.increment(-amount),\r\n      //     });\r\n      //   // firebase\r\n      //   //   .firestore()\r\n      //   //   .collection(\"admin\")\r\n      //   //   .doc(\"hits\")\r\n      //   //   .collection(\"items\")\r\n      //   //   .doc(name)\r\n      //   //   .set(\r\n      //   //     {\r\n      //   //       name: name,\r\n      //   //       amount: firebase.firestore.FieldValue.increment(amount),\r\n      //   //     },\r\n      //   //     { merge: true }\r\n      //   //   );\r\n      // });\r\n\r\n      setChange(payIn - total);\r\n\r\n      counter !== null &&\r\n        (await firebase\r\n          .firestore()\r\n          .collection(\"counter\")\r\n          .doc(counter)\r\n          .update({\r\n            change: payIn - total,\r\n            salary: firebase.firestore.FieldValue.increment(total),\r\n          }));\r\n\r\n      setGlobalItem({\r\n        item: item,\r\n        total: payIn,\r\n        change: payIn - total,\r\n        billNumber: billNumber,\r\n        price: total,\r\n        counter: counter,\r\n      });\r\n      await cookies.set(\"change\", payIn - total);\r\n\r\n      history.replace(\"/merchant/print\");\r\n    }\r\n    // } else {\r\n    //   await firebase.firestore().collection(\"history\").doc(bill).delete();\r\n\r\n    //   await firebase\r\n    //     .firestore()\r\n    //     .collection(\"history\")\r\n    //     .doc(bill)\r\n    //     .set({\r\n    //       payIn: payIn,\r\n    //       items: item,\r\n    //       time: new Date(),\r\n    //       status: \"normal\",\r\n    //       price: total,\r\n    //       counter: voidCounter,\r\n    //     })\r\n    //     .then(() => {})\r\n    //     .catch((err) => alert(`Add Failed! ${err.code}`));\r\n\r\n    //   let price = 0;\r\n    //   for (let item of VoidItem) {\r\n    //     await firebase\r\n    //       .firestore()\r\n    //       .collection(\"stock\")\r\n    //       .doc(item.barcode)\r\n    //       .get()\r\n    //       .then((doc) => (price += doc.data().price));\r\n    //   }\r\n\r\n    //   await firebase\r\n    //     .firestore()\r\n    //     .collection(\"counter\")\r\n    //     .doc(voidCounter)\r\n    //     .update(\r\n    //       { salary: firebase.firestore.FieldValue.increment(-price) },\r\n    //       { merge: true }\r\n    //     )\r\n    //     .then(() => console.log(\"remove\"));\r\n\r\n    //   await firebase\r\n    //     .firestore()\r\n    //     .collection(\"counter\")\r\n    //     .doc(voidCounter)\r\n    //     .update(\r\n    //       { salary: firebase.firestore.FieldValue.increment(total) },\r\n    //       { merge: true }\r\n    //     )\r\n    //     .then(() => console.log(\"add\"));\r\n\r\n    //   setGlobalItem({\r\n    //     item: item,\r\n    //     billNumber: bill,\r\n    //     billVoid: true,\r\n    //     total: payIn,\r\n    //     price: total,\r\n    //     change: payIn - total,\r\n    //   });\r\n\r\n    //   history.replace(\"/merchant/print\");\r\n    // }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setUser(user);\r\n      if (!user) {\r\n        history.replace(\"/\");\r\n      }\r\n    });\r\n\r\n    // await firebase\r\n    //   .firestore()\r\n    //   .collection(\"admin\")\r\n    //   .doc(\"salary\")\r\n    //   .get()\r\n    //   .then((doc) => {\r\n    //     const date = new Date(doc.data().last_update.seconds * 1000).getDate();\r\n    //     const today = new Date().getDate();\r\n\r\n    //     date !== today &&\r\n    //       firebase\r\n    //         .firestore()\r\n    //         .collection(\"admin\")\r\n    //         .doc(\"salary\")\r\n    //         .update({\r\n    //           amount: { day: 0, month: doc.data().amount.month },\r\n    //           last_update: firebase.firestore.FieldValue.serverTimestamp(),\r\n    //         });\r\n    //   });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const total = item.reduce((total, { price }) => total + price, 0);\r\n    setTotal(total);\r\n  }, [item]);\r\n\r\n  // useEffect(() => {\r\n  //   if (item.length === 0 && total !== 0) {\r\n  //     firebase\r\n  //       .firestore()\r\n  //       .collection(\"admin\")\r\n  //       .doc(\"salary\")\r\n  //       .set(\r\n  //         {\r\n  //           amount: {\r\n  //             day: firebase.firestore.FieldValue.increment(total),\r\n  //             month: firebase.firestore.FieldValue.increment(total),\r\n  //           },\r\n  //           last_update: firebase.firestore.FieldValue.serverTimestamp(),\r\n  //         },\r\n  //         { merge: true }\r\n  //       );\r\n\r\n  //     setTotal(0);\r\n  //   }\r\n  // }, [item]);\r\n\r\n  //Wait for Daipay\r\n  useEffect(() => {\r\n    counter !== null &&\r\n      !changeOpen &&\r\n      firebase\r\n        .firestore()\r\n        .collection(\"counter\")\r\n        .doc(counter)\r\n        .update({ now: item }, { merge: true });\r\n  }, [item, counter]);\r\n\r\n  useEffect(() => {\r\n    changeOpen &&\r\n      counter !== null &&\r\n      item.length === 0 &&\r\n      firebase\r\n        .firestore()\r\n        .collection(\"counter\")\r\n        .doc(counter)\r\n        .update({ change: 0 }, { merge: true });\r\n\r\n    !changeOpen &&\r\n      counter !== null &&\r\n      firebase\r\n        .firestore()\r\n        .collection(\"counter\")\r\n        .doc(counter)\r\n        .update({ change: 0 }, { merge: true });\r\n  }, [changeOpen]);\r\n\r\n  const Scann = async (data) => {\r\n    let amount = 1;\r\n    if (multiply !== null) amount = multiply;\r\n    setMultiply(1);\r\n    const item_scan = await firebase\r\n      .firestore()\r\n      .collection(\"stock\")\r\n      .doc(data)\r\n      .get();\r\n    if (item_scan.exists) {\r\n      const same = item.find(({ name }) => name === item_scan.data().name);\r\n      if (same) {\r\n        const new_list = item.filter(\r\n          ({ name }) => name !== item_scan.data().name\r\n        );\r\n        setItem(() => [\r\n          ...new_list,\r\n          {\r\n            ...item_scan.data(),\r\n            amount: parseInt(same.amount) + parseInt(amount),\r\n            price:\r\n              item_scan.data().price *\r\n              (parseInt(same.amount) + parseInt(amount)),\r\n            barId: data,\r\n          },\r\n        ]);\r\n      } else {\r\n        setItem((prev) => [\r\n          ...prev,\r\n          {\r\n            ...item_scan.data(),\r\n            amount: amount,\r\n            price: item_scan.data().price * amount,\r\n          },\r\n        ]);\r\n      }\r\n    } else {\r\n      alert(\"ไม่พบสินค้าชิ้นนี้\");\r\n    }\r\n  };\r\n\r\n  if (user === []) return <div id=\"items\"></div>;\r\n\r\n  return (\r\n    <>\r\n      <BillCancel\r\n        show={billVoid}\r\n        close={() => setBillVoid(false)}\r\n        bill={(data) => (\r\n          setItem(data.item), setBill(data.bill), setVoidCounter(data.counter)\r\n        )}\r\n      />\r\n      {custom && (\r\n        <Custom\r\n          close={() => setCustom(false)}\r\n          setItem={(data) => {\r\n            setItem((prev) => [\r\n              ...prev,\r\n              { name: \"ไม่มีบาร์โค้ด\", price: parseInt(data), amount: 1 },\r\n            ]);\r\n            setCustom(false);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <Conclusion\r\n        counter={counter}\r\n        show={closeShop}\r\n        close={() => setCloseShop(false)}\r\n        setGlobalItem={(data) => setGlobalItem(data)}\r\n        history={history}\r\n      />\r\n      <QRScanStatus open={qrPay} />\r\n      {/* <ChangeAlert counterId=\"test1\" open={changeOpen} /> */}\r\n      <BarcodeScanner onScan={!billVoid && Scann} />\r\n      <Alert\r\n        show={change > 0}\r\n        onClick={() => {\r\n          setChange(0);\r\n          cookies.set(\"change\", 0);\r\n        }}\r\n        change={change}\r\n      />\r\n      <div className=\"container\">\r\n        <div className=\"checkout-flex\">\r\n          <div className=\"left-panel\">\r\n            <h1\r\n              style={{\r\n                marginTop: 50,\r\n                color:\r\n                  counter === \"counter01@pkw.ac.th\" ||\r\n                  counter === \"counter02@pkw.ac.th\"\r\n                    ? \"black\"\r\n                    : \"red\",\r\n              }}\r\n            >\r\n              {counter === \"counter01@pkw.ac.th\"\r\n                ? \"เครื่องที่  1\"\r\n                : counter === \"counter02@pkw.ac.th\"\r\n                ? \"เครื่องที่  2\"\r\n                : \"เปิดโปรแกรมใหม่ !\"}\r\n            </h1>\r\n            <h3 style={{ fontSize: 48 }}>รายการสินค้า {item.length} ชิ้น</h3>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <h1>x</h1>\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  document.getElementById(\"multiply\").blur();\r\n                }}\r\n              >\r\n                <input\r\n                  id=\"multiply\"\r\n                  style={{ fontSize: 28, border: \"none\", width: \"100px\" }}\r\n                  type=\"number\"\r\n                  value={multiply}\r\n                  onChange={(e) => setMultiply(e.target.value)}\r\n                />\r\n              </form>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                overflowY: \"scroll\",\r\n                height: 500,\r\n                width: \"90%\",\r\n                padding: 10,\r\n              }}\r\n              id=\"items\"\r\n            >\r\n              <div className=\"all-items\">\r\n                {item.map(({ name, amount, price, barcode }, index) => (\r\n                  <Item\r\n                    barcode={barcode}\r\n                    key={index}\r\n                    order={index + 1}\r\n                    name={name}\r\n                    id={index}\r\n                    amount={amount}\r\n                    price={price}\r\n                    del={({ id, barcode, amount }) => {\r\n                      bill !== \"\" &&\r\n                        setVoidItem((prev) => [\r\n                          ...prev,\r\n                          { barcode: barcode, amount: amount },\r\n                        ]);\r\n                      setItem((prev) =>\r\n                        prev.filter((data, index) => index !== id)\r\n                      );\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"center\",\r\n                gap: 10,\r\n              }}\r\n            >\r\n              <button\r\n                style={{\r\n                  marginTop: 20,\r\n                  border: \"none\",\r\n                  background: \"#0099FF\",\r\n                  color: \"white\",\r\n                  padding: \"20px 40px\",\r\n                  borderRadius: 20,\r\n                  cursor: \"pointer\",\r\n                  outline: \"none\",\r\n                }}\r\n                onClick={() => setCloseShop(true)}\r\n              >\r\n                สรุปยอดรายวัน\r\n              </button>\r\n\r\n              <button\r\n                style={{\r\n                  marginTop: 20,\r\n                  border: \"none\",\r\n                  background: \"#0099FF\",\r\n                  color: \"white\",\r\n                  padding: \"20px 40px\",\r\n                  borderRadius: 20,\r\n                  cursor: \"pointer\",\r\n                  outline: \"none\",\r\n                }}\r\n                onClick={() => setBillVoid(true)}\r\n              >\r\n                ยกเลิกบิล\r\n              </button>\r\n              <button\r\n                style={{\r\n                  marginTop: 20,\r\n                  border: \"none\",\r\n                  background: \"#0099FF\",\r\n                  color: \"white\",\r\n                  padding: \"20px 40px\",\r\n                  borderRadius: 20,\r\n                  cursor: \"pointer\",\r\n                  outline: \"none\",\r\n                }}\r\n                onClick={() => setCustom(true)}\r\n              >\r\n                ขายเอง\r\n              </button>\r\n              <button\r\n                style={{\r\n                  marginTop: 20,\r\n                  border: \"none\",\r\n                  background: \"#0099FF\",\r\n                  color: \"white\",\r\n                  padding: \"20px 40px\",\r\n                  borderRadius: 20,\r\n                  cursor: \"pointer\",\r\n                  outline: \"none\",\r\n                }}\r\n                onClick={() => setQrPay(true)}\r\n              >\r\n                แสกนจ่าย\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"right-panel\">\r\n            <div\r\n              style={{\r\n                marginTop: 20,\r\n                padding: 10,\r\n                maxWidth: \"90%\",\r\n              }}\r\n            >\r\n              <h1 style={{ fontSize: 24 }}>รวมทั้งหมด </h1>\r\n              <h1 style={{}} className=\"BigText\">\r\n                {total.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท\r\n              </h1>\r\n              <h1 style={{ fontSize: 24 }}>รับเงินมา</h1>\r\n\r\n              <div\r\n                style={{\r\n                  maxWidth: \"100%\",\r\n                  height: \"120px\",\r\n                  maxHeight: \"150px\",\r\n                  marginBottom: \"20%\",\r\n                  wordWrap: \"break-word\",\r\n                }}\r\n              >\r\n                <h1\r\n                  style={{\r\n                    fontSize: \"48px\",\r\n                  }}\r\n                >\r\n                  <form\r\n                    onSubmit={(e) => {\r\n                      e.preventDefault();\r\n                      Payment();\r\n                    }}\r\n                  >\r\n                    <input\r\n                      style={{\r\n                        backgroundColor: \"white\",\r\n                        borderRadius: 20,\r\n                        border: \"1px solid black\",\r\n                        outline: \"none\",\r\n                        fontSize: 18,\r\n                        padding: \"10px 16px\",\r\n                      }}\r\n                      type=\"number\"\r\n                      value={money}\r\n                      id=\"money\"\r\n                      onChange={(e) => setMoney(e.target.value)}\r\n                    />\r\n                  </form>\r\n                  {typeof money === \"object\"\r\n                    ? money.join(\"\").replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\r\n                    : money}\r\n                  {money.length > 0 && \"บาท\"}\r\n                </h1>\r\n              </div>\r\n\r\n              <Numpad onPress={(number) => setMoney(number)} clear={clear} />\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flexDirection: \"column\",\r\n                gap: 10,\r\n              }}\r\n            >\r\n              <div\r\n                className=\"payment\"\r\n                onClick={() => item.length > 0 && Payment()}\r\n              >\r\n                <h2>ทอนเงิน</h2>\r\n              </div>\r\n              <div\r\n                className=\"payment\"\r\n                style={{ backgroundColor: \"red\" }}\r\n                onClick={() => BillDelete()}\r\n              >\r\n                <h2>ยกเลิก</h2>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Context } from \"../../App\";\r\nfunction End() {\r\n  const { GlobalItem } = useContext(Context);\r\n  const { profit, total } = GlobalItem;\r\n  const today = new Date();\r\n  const last_open = new Date(GlobalItem.last_open.seconds * 1000);\r\n  const history = useHistory();\r\n  const isToday =\r\n    today.getDate() +\r\n      today.getMonth() -\r\n      (last_open.getDate() + last_open.getMonth()) ===\r\n    0;\r\n\r\n  useEffect(() => {\r\n    window.print();\r\n    setTimeout(() => {\r\n      history.replace(`/merchant/checkout?counter=${GlobalItem.counter}`);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  const months = [\r\n    \"ม.ค\",\r\n    \"ก.พ\",\r\n    \"มี.ค\",\r\n    \"เม.ย\",\r\n    \"พ.ค\",\r\n    \"มิ.ย\",\r\n    \"ก.ค\",\r\n    \"ส.ค\",\r\n    \"ก.ย\",\r\n    \"ต.ค\",\r\n    \"พ.ย\",\r\n    \"ธ.ค\",\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h3>สรุปยอดการขาย</h3>\r\n      {!isToday ? (\r\n        <h3>\r\n          {`${last_open.getUTCDate()} ${months[last_open.getUTCMonth()]} ${\r\n            last_open.getFullYear() + 543\r\n          } `}\r\n          {\" - \"}\r\n          {`${today.getUTCDate()} ${months[today.getUTCMonth()]} ${\r\n            today.getFullYear() + 543\r\n          } `}\r\n        </h3>\r\n      ) : (\r\n        <h3>\r\n          {`${today.getUTCDate()} ${months[today.getUTCMonth()]} ${\r\n            today.getFullYear() + 543\r\n          } `}\r\n        </h3>\r\n      )}\r\n      <h3>\r\n        เคาท์เตอร์ที่{\" \"}\r\n        {GlobalItem.counter === \"counter01@pkw.ac.th\"\r\n          ? 1\r\n          : GlobalItem.counter === \"counter02@pkw.ac.th\"\r\n          ? 2\r\n          : \"admin\"}\r\n      </h3>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          backgroundColor: \"white\",\r\n          borderRadius: 50,\r\n          width: \"500px\",\r\n          minHeight: \"300px\",\r\n          gap: 20,\r\n          padding: 10,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"flex-start\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <h1>เงินทั้งหมด</h1>\r\n          <h1>เงินทอน </h1>\r\n          <h1>เงินสุทธิ </h1>\r\n          <h1 style={{ color: profit > 0 ? \"#08c318\" : \"red\" }}>\r\n            {profit > 0 ? \"เงินเกิน\" : \"เงินขาด\"}\r\n          </h1>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"flex-start\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <h1>\r\n            {\" \"}\r\n            {total.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท\r\n          </h1>\r\n          <h1> -5,000 บาท</h1>\r\n          <h1>\r\n            {\" \"}\r\n            {parseInt(total - 5000)\r\n              .toString()\r\n              .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n            บาท\r\n          </h1>\r\n          <h1 style={{ color: profit > 0 ? \"#08c318\" : \"red\" }}>\r\n            {profit.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n            <span style={{ color: \"black\" }}>บาท</span>\r\n          </h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default End;\r\n","import React, { useState } from \"react\";\r\nimport Barcode from \"react-barcode\";\r\nfunction BarcodeGen() {\r\n  const [item, setItem] = useState([\r\n    { name: \"สมุดปกแข็ง(เล่ม)\" },\r\n    { name: \"สมุดปกแข็ง(แพค)\" },\r\n    { name: \"สมุดปกอ่อน(เล่ม)\" },\r\n    { name: \"สมุดปกอ่อน(แพค)\" },\r\n    { name: \"สมุดรายงาน\" },\r\n    { name: \"แฟ้มรายงาน\" },\r\n    { name: \"ถุงเท้า (ข้อสั้น)\" },\r\n    { name: \"ถุงเท้า (ข้อยาว)\" },\r\n    { name: \"กระเป๋านักเรียน (ถือ)\" },\r\n    { name: \"กระเป๋านักเรียน (เป้)\" },\r\n    { name: \"กระเป๋าสะพาย (ผ้า)\" },\r\n    { name: \"เสื้อพละ\" },\r\n    { name: \"กางเกงพละ\" },\r\n    { name: \"ถุงเท้าลูกเสือ\" },\r\n    { name: \"ผ้าพันคอลูกเสือ\" },\r\n    { name: \"วอคเกิลลส./นร.\" },\r\n    { name: \"หมวกลูกเสือ\" },\r\n    { name: \"อินธนู\" },\r\n    { name: \"เข็มลูกเสือหน้าหมวก\" },\r\n    { name: \"เข็มลูกเสือติดเสื้อ\" },\r\n    { name: \"ป้ายชื่อ ร.ร\" },\r\n    { name: \"เงื่อนลูกเสือ\" },\r\n    { name: \"หน้ากากอนามัย\" },\r\n    { name: \"กระดาษอนามัย (เล็ก)\" },\r\n    { name: \"กระดาษอนามัย (ใหญ่)\" },\r\n    { name: \"โบว์\" },\r\n  ]);\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"flex-start\",\r\n        flexDirection: \"column\",\r\n        flexWrap : \"wrap\",\r\n        height : \"100vh\"\r\n      }}\r\n    >\r\n      {item.map(({ name }, index) => (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <Barcode value={`1000000000${index}`} />\r\n          <h3>{name}</h3>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BarcodeGen;\r\n","import React from \"react\";\r\nimport \"../App.css\"\r\nfunction Notfound() {\r\n  return (\r\n    <div className=\"container\">\r\n      <h3 style={{color : \"red\"}}>404 ไม่พบหน้านี้</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notfound;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { Context } from \"../App\";\r\n\r\nfunction Pay() {\r\n  const { payItem } = useContext(Context);\r\n  return <div>\r\n      Pay\r\n  </div>;\r\n}\r\n\r\nexport default Pay;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../../App.css\";\r\n\r\nimport firebase from \"../../firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nfunction Admin() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [errMsg, setErrMsg] = useState(\"\");\r\n\r\n  const [submit, setSubmit] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const cookies = new Cookies();\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        history.replace(\"/admin/dashboard\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const Login = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!submit && email.length > 0 && password.length > 0) {\r\n      setSubmit(true);\r\n      await firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then(\r\n          async () => (\r\n            await cookies.set(\"admin\", \"true\"),\r\n            history.replace(\"/admin/dashboard\")\r\n          )\r\n        )\r\n        .catch(\r\n          (err) => (\r\n            console.log(err.code),\r\n            err.code === \"auth/user-not-found\" && setErrMsg(\"ไม่พบผู้ใช้นี้\"),\r\n            err.code === \"auth/wrong-password\" && setErrMsg(\"รหัสผ่านผิด\")\r\n          )\r\n        );\r\n      setSubmit(false);\r\n    }\r\n    // await firebase\r\n    //   .auth()\r\n    //   .signInWithEmailAndPassword(email, password)\r\n    //   .then(() => console.log(\"signIn\"))\r\n    //   .catch((err) => alert(err.code)),\r\n  };\r\n  return (\r\n    <div className=\"container\" id=\"form\">\r\n      <form\r\n        onSubmit={Login}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          backgroundColor: \"white\",\r\n          width: \"30%\",\r\n          boxShadow: \"0px 0px 2px 0.5px rgba(0,0,0,0.5)\",\r\n          borderRadius: 20,\r\n          padding: 20,\r\n        }}\r\n      >\r\n        <h2>ล็อคอิน</h2>\r\n\r\n        <h3\r\n          style={{\r\n            display: errMsg.length > 0 ? \"block\" : \"none\",\r\n            color: \"red\",\r\n          }}\r\n        >\r\n          {errMsg}\r\n        </h3>\r\n\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginTop: 20,\r\n            marginBottom: 20,\r\n          }}\r\n        >\r\n          <h4>อีเมล</h4>\r\n          <input\r\n            className=\"loginBox\"\r\n            type=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginBottom: 20,\r\n          }}\r\n        >\r\n          <h4>รหัสผ่าน</h4>\r\n          <input\r\n            className=\"loginBox\"\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          style={{\r\n            cursor:\r\n              !submit && email.length > 0 && password.length > 0\r\n                ? \"pointer\"\r\n                : \"not-allowed\",\r\n            border: \"none\",\r\n            background:\r\n              !submit && email.length > 0 && password.length > 0\r\n                ? \"#0099FF\"\r\n                : \"lightGrey\",\r\n            outline: \"none\",\r\n            padding: \"16px 50px\",\r\n            borderRadius: 50,\r\n            color: \"white\",\r\n          }}\r\n        >\r\n          เข้าสู่ระบบ\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCartArrowDown,\r\n  faChartLine,\r\n  faSignOutAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport firebase from \"../../firebase\";\r\nimport { VictoryChart, VictoryLine, VictoryAxis } from \"victory\";\r\nimport \"../../App.css\";\r\n// firebase.firestore().useEmulator(\"localhost\", 8080);\r\nfunction Dashboard() {\r\n  const cookies = new Cookies();\r\n  const history = useHistory();\r\n  const [user, setUser] = useState([]);\r\n  const [salary, setSalary] = useState({});\r\n  const [chart, setChart] = useState([]);\r\n  const [hits, setHits] = useState([]);\r\n  const isAdmin = cookies.get(\"admin\");\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setUser(user);\r\n      if (!user) {\r\n        history.replace(\"/\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"admin\")\r\n      .doc(\"salary\")\r\n      .onSnapshot(\r\n        (doc) => (setSalary(doc.data().amount), setChart(doc.data().chart))\r\n      );\r\n\r\n    firebase\r\n      .firestore()\r\n      .collection(\"admin\")\r\n      .doc(\"hits\")\r\n      .collection(\"items\")\r\n      .orderBy(\"amount\", \"desc\")\r\n      .limit(3)\r\n      .onSnapshot((docs) => {\r\n        let data = [];\r\n        docs.forEach((doc) => data.push(doc.data()));\r\n\r\n        setHits(data);\r\n      });\r\n  }, []);\r\n\r\n  if (user === []) return <div></div>;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"flex-start\",\r\n        background: \"#eee\",\r\n        minHeight: \"100vh\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          marginTop: 10,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          borderRadius: 20,\r\n          padding: \"50px 20px\",\r\n          background: \"white\",\r\n          width: \"50%\",\r\n          flexWrap: \"wrap\",\r\n          minHeight: \"60vh\",\r\n\r\n          // maxHeight: \"79vh\",\r\n        }}\r\n      >\r\n        <div style={{ width: \"100%\" }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              flexWrap: \"wrap\",\r\n            }}\r\n          >\r\n            <h1>ระบบจัดการหลังร้านมาร์ท</h1>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                gap: 20,\r\n              }}\r\n            >\r\n              <h3>\r\n                ผู้ใช้ :{\" \"}\r\n                {user !== null && user.email\r\n                  ? user.email.replace(/@.+/g, \"\")\r\n                  : \"กำลังโหลด\"}\r\n              </h3>\r\n\r\n              <FontAwesomeIcon\r\n                icon={faSignOutAlt}\r\n                color=\"red\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => firebase.auth().signOut()}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-start\",\r\n              alignItems: \"center\",\r\n              width: \"100%\",\r\n              flexWrap: \"wrap\",\r\n              gap: 40,\r\n            }}\r\n          >\r\n            <div style={{ marginTop: 20 }}>\r\n              <h3>รายได้วันนี้</h3>\r\n              <h1 style={{ fontSize: \"3rem\" }}>\r\n                {salary.day === undefined\r\n                  ? \"กำลังโหลด\"\r\n                  : `${salary.day\r\n                      .toString()\r\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท`}{\" \"}\r\n              </h1>\r\n            </div>\r\n\r\n            {/* <div style={{ marginTop: 20 }}>\r\n              <h3>รายได้สัปดาห์นี้</h3>\r\n              <h1 style={{ fontSize: \"3rem\" }}>\r\n                {salary.day === undefined\r\n                  ? \"กำลังโหลด\"\r\n                  : `${salary.day\r\n                      .toString()\r\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท`}{\" \"}\r\n              </h1>\r\n            </div> */}\r\n            <div style={{ marginTop: 20 }}>\r\n              <h3>รายได้เดือนนี้</h3>\r\n              <h1 style={{ fontSize: \"3rem\" }}>\r\n                {salary.month === undefined\r\n                  ? \"กำลังโหลด\"\r\n                  : `${salary.month\r\n                      .toString()\r\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")} บาท`}{\" \"}\r\n              </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"50vh\",\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"flex-start\",\r\n            // background : \"gold\"\r\n          }}\r\n        >\r\n          <div style={{ width: \"100%\", flex: 0.5, height: 300 }}>\r\n            <VictoryChart>\r\n              <VictoryLine\r\n                style={{\r\n                  data: { stroke: \"#0099FF\" },\r\n                  parent: { border: \"1px solid black\" },\r\n                }}\r\n                animate={{\r\n                  duration: 2000,\r\n                  onLoad: { duration: 1000 },\r\n                }}\r\n                interpolation=\"linear\"\r\n                data={chart}\r\n                x=\"day\"\r\n                y=\"amount\"\r\n              />\r\n              <VictoryAxis label=\"\" style={{ axisLabel: { padding: 10 } }} />\r\n              <VictoryAxis\r\n                label=\"จำนวนเงิน\"\r\n                dependentAxis\r\n                style={{ axisLabel: { padding: 40 } }}\r\n              />\r\n            </VictoryChart>\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              // background: \"#0099FF\",\r\n              flex: 0.4,\r\n              display: \"flex\",\r\n              justifyContent: \"flex-start\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n              gap: 20,\r\n            }}\r\n          >\r\n            <h3 style={{ marginTop: 20 }}>สินค้าขายดีสุดในสัปดาห์นี้</h3>\r\n            {hits.map(({ name, amount }) => (\r\n              <div\r\n                style={{\r\n                  minWidth: \"60%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  flexDirection: \"row\",\r\n                  background: \"#f6f6f6\",\r\n                  padding: \"10px 30px\",\r\n                  borderRadius: 10,\r\n                  gap: 10,\r\n                }}\r\n              >\r\n                <h4>{name}</h4>\r\n                <h4>{amount} ชิ้น</h4>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"center\",\r\n            gap: 20,\r\n            flexWrap: \"wrap\",\r\n            marginTop: 20,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"row\",\r\n              alignItems: \"center\",\r\n              gap: 20,\r\n              background: \"#bebebe\",\r\n              padding: 10,\r\n              borderRadius: 6,\r\n              color: \"white\",\r\n              cursor: \"pointer\",\r\n            }}\r\n            onClick={() => history.push(\"/admin/stock\")}\r\n          >\r\n            <FontAwesomeIcon icon={faCartArrowDown} size=\"1x\" />\r\n            <h3>จัดการสต็อก</h3>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"row\",\r\n              alignItems: \"center\",\r\n              gap: 20,\r\n              background: \"grey\",\r\n              padding: 10,\r\n              borderRadius: 6,\r\n              color: \"white\",\r\n              cursor: \"pointer\",\r\n            }}\r\n            onClick={() => history.push(\"/admin/report/hub\")}\r\n          >\r\n            <FontAwesomeIcon icon={faChartLine} size=\"1x\" />\r\n            <h3>รายงาน</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nfunction Alert({ isShow , msg }) {\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setShow(isShow);\r\n    setTimeout(() => {\r\n      setShow(false);\r\n    }, 3000);\r\n  }, [isShow]);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        right: 20,\r\n        top: 20,\r\n        width: \"300px\",\r\n        height: \"70px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: \"black\",\r\n        boxShadow: \"0px 0px 2px 0.5px rgba(0,0,0,0.5)\",\r\n        borderRadius: 20,\r\n        background: \"white\",\r\n        opacity: show ? 1 : 0,\r\n        transition: \"opacity 0.5s\",\r\n      }}\r\n    >\r\n      <h3>{msg}</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Alert;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBarcode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport BarcodeScanner from \"react-barcode-reader\";\r\nimport firebase from \"../firebase\";\r\nfunction Scan({ add, close, setItem, item, err , setExist }) {\r\n  const [show, setShow] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setShow(add);\r\n  }, [add]);\r\n  return (\r\n    <>\r\n      <BarcodeScanner onScan={(data) => setItem(data)} />\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          display: show ? \"flex\" : \"none\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          minWidth: \"100vw\",\r\n          minHeight: \"100vh\",\r\n          background: \"rgba(0,0,0,0.25)\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: \"25vw\",\r\n            minHeight: \"30vh\",\r\n            background: \"white\",\r\n            borderRadius: 10,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"space-around\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <h1>{err === null ? \"Scan Barcode\" : \"ไม่พบสินค้านี้\"}</h1>\r\n          <FontAwesomeIcon icon={faBarcode} size=\"4x\" />\r\n\r\n          <button\r\n            style={{\r\n              cursor: \"pointer\",\r\n              outline: \"none\",\r\n              background: \"red\",\r\n              border: \"none\",\r\n              borderRadius: 20,\r\n              padding: \"10px 40px\",\r\n              color: \"white\",\r\n            }}\r\n            onClick={() => (close() , setExist(null))}\r\n          >\r\n            ยกเลิก\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst AddAmount = ({ item, close, add, from }) => {\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [err, setErr] = useState(false);\r\n\r\n  const addItemAmount = async () => {\r\n    const old_data = await firebase\r\n      .firestore()\r\n      .collection(\"stock\")\r\n      .doc(item)\r\n      .get();\r\n\r\n    if (from === \"front\") {\r\n      if (old_data.data().stock_amount < amount || amount <= 0) {\r\n        setErr(true);\r\n      } else {\r\n        const add_amount = parseInt(amount);\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"stock\")\r\n          .doc(item)\r\n          .update({\r\n            front_amount: old_data.data().front_amount + add_amount,\r\n            stock_amount: old_data.data().stock_amount - add_amount,\r\n          })\r\n          .then(() => window.location.reload());\r\n      }\r\n    } else {\r\n      if (amount <= 0) {\r\n        setErr(true);\r\n      } else {\r\n        const add_amount = parseInt(amount);\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"stock\")\r\n          .doc(item)\r\n          .update({\r\n            stock_amount: old_data.data().stock_amount + add_amount,\r\n          })\r\n          .then(() => window.location.reload());\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        display: add ? \"flex\" : \"none\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        minWidth: \"100vw\",\r\n        minHeight: \"100vh\",\r\n        background: \"rgba(0,0,0,0.25)\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          width: \"25vw\",\r\n          minHeight: \"40vh\",\r\n          background: \"white\",\r\n          borderRadius: 10,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"space-around\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <h1>ใส่จำนวนสินค้า</h1>\r\n        <p style={{ color: \"red\", display: err ? \"block\" : \"none\" }}>\r\n          เช็คจำนวนของอีกครั้ง\r\n        </p>\r\n        <input\r\n          type=\"number\"\r\n          value={amount}\r\n          autoFocus\r\n          style={{\r\n            borderBottom: \"4px solid #0099FF\",\r\n            width: \"20%\",\r\n            outline: \"none\",\r\n            border: \"none\",\r\n            background: \"none\",\r\n            fontSize: 28,\r\n          }}\r\n          onChange={(e) => setAmount(e.target.value)}\r\n        />\r\n\r\n        <button\r\n          style={{\r\n            background: \"green\",\r\n            outline: \"none\",\r\n            border: \"none\",\r\n            borderRadius: 20,\r\n            padding: \"10px 40px\",\r\n            color: \"white\",\r\n            fontSize: 16,\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={addItemAmount}\r\n        >\r\n          เพิ่ม\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Popup = ({ add, close, stock }) => {\r\n  const [item, setItem] = useState(\"\");\r\n  const [exist, setExist] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const item_check = async () => {\r\n      const items = await firebase\r\n        .firestore()\r\n        .collection(\"stock\")\r\n        .doc(item)\r\n        .get();\r\n      if (!items.exists) {\r\n        setExist(false);\r\n        setItem(\"\")\r\n      } else {\r\n        setExist(true);\r\n        \r\n      }\r\n    };\r\n    item !== \"\" && item_check();\r\n  }, [item , exist]);\r\n\r\n  useEffect(() => {\r\n    console.log(exist)\r\n  },[exist])\r\n  return (\r\n    <>\r\n      {item && exist ? (\r\n        <AddAmount\r\n          item={item}\r\n          close={close}\r\n          add={add}\r\n          from={stock ? \"stock\" : \"front\"}\r\n        />\r\n      ) : (\r\n        <Scan\r\n          add={add}\r\n          close={close}\r\n          setItem={(barId) => setItem(barId)}\r\n          err={exist}\r\n          setExist={(bool) => setExist(bool)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport \"../App.css\";\r\nimport {\r\n  faTrash,\r\n  faArrowLeft,\r\n  faPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport firebase from \"../firebase\";\r\n\r\nimport Alert from \"../components/Alert\";\r\n\r\nconst Items = ({\r\n  item_barcode,\r\n  item_name,\r\n  item_price,\r\n  front_amount,\r\n  stock_amount,\r\n  removeItem,\r\n  front,\r\n  addItem,\r\n  doc,\r\n  success,\r\n  barcodes,\r\n}) => {\r\n  const [barcode, setBarcode] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setBarcode(item_barcode);\r\n\r\n    setName(item_name);\r\n    setPrice(item_price);\r\n    const item_amount = front ? front_amount : stock_amount;\r\n    setAmount(item_amount);\r\n  }, [front]);\r\n\r\n  useEffect(() => {\r\n    let edit;\r\n    const item_amount = front ? front_amount : stock_amount;\r\n\r\n    if (barcode !== item_barcode) edit = true;\r\n    if (name !== item_name) edit = true;\r\n    if (price !== item_price) edit = true;\r\n    if (amount !== item_amount) edit = true;\r\n\r\n    if (\r\n      barcode === item_barcode &&\r\n      name === item_name &&\r\n      price === item_price &&\r\n      amount === item_amount\r\n    )\r\n      edit = false;\r\n    !addItem && setIsEdit(edit);\r\n  }, [name, barcode, price, amount]);\r\n\r\n  const addToDb = async () => {\r\n    const same_check = await firebase\r\n      .firestore()\r\n      .collection(\"stock\")\r\n      .doc(barcode)\r\n      .get();\r\n\r\n    if (!same_check.exists) {\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"stock\")\r\n        .doc(barcode)\r\n        .set({\r\n          barcode : barcode,\r\n          name: name,\r\n          price: parseInt(price),\r\n          front_amount: 0,\r\n          stock_amount: parseInt(amount),\r\n          createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n        })\r\n        .then(\r\n          () => (\r\n            success(),\r\n            firebase\r\n              .firestore()\r\n              .collection(\"stock\")\r\n              .doc(\"count\")\r\n              .update({ amount: firebase.firestore.FieldValue.increment(1) }),\r\n            setMsg(\"เพิ่มสินค้าสำเร็จ\"),\r\n            setTimeout(() => {\r\n              removeItem();\r\n            }, 1000)\r\n          )\r\n        );\r\n    } else {\r\n      setMsg(\"เพิ่มสินค้าไม่สำเร็จ\");\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setMsg(\"\");\r\n    }, 1000);\r\n  };\r\n\r\n  const editItem = async () => {\r\n    if (front) {\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"stock\")\r\n        .doc(doc)\r\n        .update({\r\n          barcode: barcode,\r\n          name: name,\r\n          price: parseInt(price),\r\n          front_amount: parseInt(amount),\r\n        })\r\n        .then(() => setIsEdit(false));\r\n    } else {\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"stock\")\r\n        .doc(doc)\r\n        .update({\r\n          barcode: barcode,\r\n          name: name,\r\n          price: parseInt(price),\r\n          stock_amount: parseInt(amount),\r\n        })\r\n        .then(() => setIsEdit(false))\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const remove = () => {\r\n    removeItem(name);\r\n    firebase.firestore().collection(\"stock\").doc(doc).delete();\r\n  };\r\n  return (\r\n    <>\r\n      <Alert isShow={msg !== \"\"} msg={msg} />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          background: \"white\",\r\n          boxShadow: \"0px 0px 6px 0.5px rgba(0,0,0,0.25)\",\r\n          minWidth: \"70%\",\r\n          padding: 10,\r\n          minHeight: \"50px\",\r\n          borderRadius: 10,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-around\",\r\n            alignItems: \"center\",\r\n            flexWrap: \"wrap\",\r\n            gap: 20,\r\n          }}\r\n        >\r\n          <label>บาร์โค้ด :</label>\r\n          {addItem ? (\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"123456789\"\r\n              className=\"items-input\"\r\n              value={barcode}\r\n              onChange={(e) => setBarcode(e.target.value)}\r\n            />\r\n          ) : (\r\n            <h3\r\n              className=\"items-input\"\r\n              // style={{ width: \"2vw\", color: amount > 5 ? \"black\" : \"red\" }}\r\n            >\r\n              {barcode}\r\n            </h3>\r\n          )}\r\n\r\n          <label>ชื่อ :</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"น้ำดื่มตรา ภว.\"\r\n            className=\"items-input\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          {!front && (\r\n            <>\r\n              <label>ราคา :</label>\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"5\"\r\n                className=\"items-input\"\r\n                style={{ width: \"5vw\" }}\r\n                value={price}\r\n                onChange={(e) => setPrice(parseInt(e.target.value))}\r\n              />\r\n              <label>บาท</label>\r\n            </>\r\n          )}\r\n\r\n          <>\r\n            <label>{front ? \"จำนวนในหน้าร้าน : \" : \"จำนวนในสต็อก :\"}</label>\r\n            {!front ? (\r\n              <>\r\n                <input\r\n                  type=\"number\"\r\n                  value={amount}\r\n                  className=\"items-input\"\r\n                  style={{ width: \"5vw\" }}\r\n                  onChange={(e) => setAmount(e.target.value)}\r\n                />\r\n                <label>ชิ้น</label>\r\n              </>\r\n            ) : (\r\n              <h3\r\n                className=\"items-input\"\r\n                style={{ width: \"2vw\", color: amount > 5 ? \"black\" : \"red\" }}\r\n              >\r\n                {amount > 0\r\n                  ? amount.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\r\n                  : \"หมด\"}\r\n              </h3>\r\n            )}\r\n          </>\r\n\r\n          {addItem ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                gap: 20,\r\n              }}\r\n            >\r\n              <FontAwesomeIcon\r\n                icon={faTrash}\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => removeItem()}\r\n              />\r\n              <button\r\n                onClick={addToDb}\r\n                style={{\r\n                  background: \"green\",\r\n                  color: \"white\",\r\n                  outline: \"none\",\r\n                  border: \"none\",\r\n                  padding: 10,\r\n                  borderRadius: 10,\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                เพิ่มเข้าสต็อก\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div\r\n              style={{\r\n                display: !front ? \"flex\" : \"none\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={remove}\r\n            >\r\n              <FontAwesomeIcon icon={faTrash} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        {isEdit && (\r\n          <button\r\n            onClick={editItem}\r\n            style={{\r\n              marginTop: 20,\r\n              width: \"100px\",\r\n              background: \"orange \",\r\n              color: \"white\",\r\n              outline: \"none\",\r\n              border: \"none\",\r\n              padding: 10,\r\n              borderRadius: 10,\r\n              cursor: \"pointer\",\r\n              alignSelf: \"flex-end\",\r\n            }}\r\n          >\r\n            แก้ไขสินค้า\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Items;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport \"../../App.css\";\r\nimport {\r\n  faTrash,\r\n  faArrowLeft,\r\n  faPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"../../App.css\";\r\nimport firebase from \"../../firebase\";\r\nimport Alert from \"../../components/Alert\";\r\nimport Popup from \"../../components/Popup\";\r\nimport Items from \"../../components/Stock_Item\";\r\n// firebase.firestore().useEmulator(\"localhost\", 8080);\r\n\r\nfunction Stock() {\r\n  const cookies = new Cookies();\r\n  const history = useHistory();\r\n  const [user, setUser] = useState([]);\r\n  const [front, setFront] = useState(true);\r\n  const [addItem, setAddItem] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [last, setLast] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const [frontItem, setFrontItem] = useState(false);\r\n  const [stockItem, setStockItem] = useState(false);\r\n  const [count, setCount] = useState(0);\r\n  const [read, setRead] = useState(0);\r\n  const [success, setSuccess] = useState(0);\r\n\r\n  //All Items\r\n  const [item, setItem] = useState([]);\r\n\r\n  //Auth Status\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setUser(user);\r\n      if (!user) {\r\n        history.replace(\"/\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"stock\")\r\n      .orderBy(\"createdAt\", \"asc\")\r\n      .limit(5)\r\n      .get()\r\n      .then((docs) => {\r\n        const data = [];\r\n        let last;\r\n        docs.forEach((doc) => {\r\n          doc.id !== \"count\" && data.push({ ...doc.data(), id: doc.id });\r\n          setRead((prev) => prev + 1);\r\n\r\n          last = doc.data().createdAt;\r\n        });\r\n        setItem((prev) => [...data]);\r\n        setLast(last);\r\n        // console.log(JSON.stringify(data[0]));\r\n      });\r\n\r\n    firebase\r\n      .firestore()\r\n      .collection(\"stock\")\r\n      .doc(\"count\")\r\n      .get()\r\n      // .onSnapshot((doc) => setCount(doc.data().amount));\r\n      .then((doc) => setCount(doc.data().amount));\r\n  }, [success]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(last)\r\n  // },[last])\r\n  const infiniteLoad = (e) => {\r\n    const { window } = e.currentTarget;\r\n\r\n    if (\r\n      Math.round(window.innerHeight + window.scrollY) ===\r\n        document.body.offsetHeight &&\r\n      last !== undefined\r\n    ) {\r\n      setIsLoading(true);\r\n      firebase\r\n        .firestore()\r\n        .collection(\"stock\")\r\n        .orderBy(\"createdAt\", \"asc\")\r\n        .startAfter(last)\r\n        .limit(5)\r\n        .get()\r\n        .then((docs) => {\r\n          const data = [];\r\n          let last;\r\n          docs.forEach((doc) => {\r\n            if (\r\n              doc.id === \"count\" &&\r\n              item.some(({ name }) => name === doc.data().name)\r\n            ) {\r\n              return;\r\n            }\r\n            data.push({ ...doc.data(), id: doc.id });\r\n            last = doc.data().createdAt;\r\n          });\r\n          setItem((prev) => [...prev, ...data]);\r\n          setLast(last);\r\n          setIsLoading(false);\r\n        })\r\n        .catch((err) => console.log(err.code));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", infiniteLoad);\r\n    console.log(item)\r\n    return () => window.removeEventListener(\"scroll\", infiniteLoad);\r\n  }, [last]);\r\n\r\n  if (user === []) return <div></div>;\r\n  return (\r\n    <>\r\n      <Popup add={frontItem} close={() => setFrontItem(false)} />\r\n      <Popup add={stockItem} close={() => setStockItem(false)} stock />\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          background: front ? \"#0099FF\" : \"white\",\r\n          minHeight: \"100vh\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"flex-start\",\r\n            padding: \"50px 20px\",\r\n            background: front ? \"white\" : \"#0099FF\",\r\n            width: \"90%\",\r\n            flexWrap: \"wrap\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"100%\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"center\",\r\n                gap: 20,\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={() => history.replace(\"/admin/dashboard\")}\r\n            >\r\n              <FontAwesomeIcon\r\n                icon={faArrowLeft}\r\n                size=\"1x\"\r\n                color={front ? \"black\" : \"white\"}\r\n              />\r\n              <h4 style={{ color: front ? \"black\" : \"white\" }}>กลับหน้าหลัก</h4>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                borderRadius: 50,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                width: \"100%\",\r\n                flexWrap: \"wrap\",\r\n                gap: 100,\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  marginTop: 20,\r\n                  borderBottom: front ? \"6px solid #0099FF\" : \"6px solid white\",\r\n                }}\r\n              >\r\n                <h2 style={{ color: front ? \"black\" : \"white\" }}>\r\n                  สินค้าทั้งหมด\r\n                </h2>\r\n                <h1 style={{ fontSize: 64, color: front ? \"black\" : \"white\" }}>\r\n                  {count.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}{\" \"}\r\n                  ชิ้น\r\n                </h1>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                marginTop: 50,\r\n                height: 100,\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                gap: 100,\r\n              }}\r\n            >\r\n              <div\r\n                onClick={() => setFront(!front)}\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                  borderBottom: front\r\n                    ? \"4px solid #0099FF\"\r\n                    : \"0px solid #0099FF\",\r\n                  transition: \"border-bottom 100ms\",\r\n                }}\r\n              >\r\n                <h3\r\n                  style={{\r\n                    fontSize: \"1.25em\",\r\n                    color: front ? \"black\" : \"white\",\r\n                  }}\r\n                >\r\n                  สินค้าหน้าร้าน\r\n                </h3>\r\n              </div>\r\n              <div\r\n                onClick={() => setFront(!front)}\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                  borderBottom: front ? \"0px solid #0099FF\" : \"4px solid white\",\r\n                  transition: \"border-bottom 100ms\",\r\n                }}\r\n              >\r\n                <h3\r\n                  style={{\r\n                    fontSize: \"1.25em\",\r\n                    color: front ? \"black\" : \"white\",\r\n                  }}\r\n                >\r\n                  สินค้าในสต็อก\r\n                </h3>\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                width: \"100%\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  // width: \"100px\",\r\n                  padding: 20,\r\n                  borderRadius: 20,\r\n                  display: front ? \"flex\" : \"none\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  gap: 10,\r\n                  color: \"black\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => setFrontItem(true)}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n                <h4>เติมสินค้าหน้าร้าน</h4>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  width: \"100px\",\r\n                  padding: 20,\r\n                  borderRadius: 20,\r\n                  display: !front ? \"flex\" : \"none\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  gap: 10,\r\n                  color: \"white\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => setAddItem(true)}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n                <h4>เพิ่มสินค้า</h4>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  // width: \"100px\",\r\n                  padding: 20,\r\n                  borderRadius: 20,\r\n                  display: !front ? \"flex\" : \"none\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  gap: 10,\r\n                  color: \"#58EF2E\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => setStockItem(true)}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n                <h4>เติมสินค้าในสต็อก</h4>\r\n              </div>\r\n            </div>\r\n            {addItem && !front && (\r\n              <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                <Items\r\n                  from=\"stock\"\r\n                  removeItem={() => setAddItem(false)}\r\n                  addItem\r\n                  success={() => setSuccess((prev) => prev + 1)}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              marginTop: 100,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n              width: \"100%\",\r\n              gap: 20,\r\n            }}\r\n          >\r\n            {item.length === 0 && <h3>ไม่มีสินค้า</h3>}\r\n            {item\r\n              .sort((a, b) =>\r\n                front\r\n                  ? b.front_item - a.front_item\r\n                  : b.stock_item - a.stock_item\r\n              )\r\n              .map(\r\n                ({ name, barcode, price, front_amount, stock_amount, id }) => (\r\n                  <Items\r\n                    key={id}\r\n                    doc={id}\r\n                    item_barcode={id}\r\n                    item_name={name.toString()}\r\n                    item_price={price}\r\n                    front_amount={front_amount}\r\n                    stock_amount={stock_amount}\r\n                    front={front}\r\n                    removeItem={(item_name) => (\r\n                      setItem((prev) =>\r\n                        prev.filter(({ name }) => name !== item_name)\r\n                      ),\r\n                      firebase\r\n                        .firestore()\r\n                        .collection(\"stock\")\r\n                        .doc(\"count\")\r\n                        .update({\r\n                          amount: firebase.firestore.FieldValue.increment(-1),\r\n                        }),\r\n                      setSuccess((prev) => prev - 1)\r\n                    )}\r\n                  />\r\n                )\r\n              )}\r\n            {isLoading && <h2>กำลังโหลด</h2>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Stock;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"../App.css\";\r\nimport Item from \"../components/Item\";\r\nimport firebase from \"../firebase\";\r\nimport QRCode from \"react-qr-code\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst QRPay = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"fixed\",\r\n        background: \"rgba(0,0,0,0.5)\",\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        zIndex: 9999,\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nfunction CustomerView() {\r\n  const [item, setItem] = useState([]);\r\n  const cookies = new Cookies();\r\n\r\n  const total = item.reduce((total, { price }) => total + price, 0);\r\n  const [change, setChange] = useState(0);\r\n  const [qrBill, setQRBill] = useState(\"\");\r\n  const { counter } = useParams();\r\n  useEffect(() => {\r\n    const Fetch = async () => {\r\n      const url = new URL(window.location.href);\r\n      const counter = url.searchParams.get(\"counter\");\r\n      firebase\r\n        .firestore()\r\n        .collection(\"counter\")\r\n        .doc(counter)\r\n        .onSnapshot(\r\n          (doc) => (\r\n            setItem([...doc.data().now]),\r\n            setChange(doc.data().change, setQRBill(doc.data().qrBill))\r\n          )\r\n        );\r\n    };\r\n    Fetch();\r\n  }, []);\r\n\r\n  //variable\r\n  // const time = new Date().getTime();\r\n  // const price = 100;\r\n  // const fcmToken =\r\n  //   \"fABPHAW3XUG7vNn4KWRW97:APA91bFGbG4mExN8AXP7WUtlK4RvfqPG81tVEGWCOIkaLgtZlh4akkF8w8D98ivyI9qNnUMoyMRMYANqQYYNXQSlyxOB6ID9K6exySOhAD03ZsgJa3NKoyoWsnFTM6QtPMqChEexPUr6\";\r\n\r\n  return (\r\n    <>\r\n      {/* <QRPay /> */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          minHeight: \"100vh\",\r\n          gap: 20,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            overflow: \"hidden\",\r\n            marginLeft: 20,\r\n            minWidth: \"60%\",\r\n            background: \"black\",\r\n            height: \"90vh\",\r\n            backgroundColor: \"white\",\r\n            boxShadow: \"0px 0px 5px 2px rgba(0, 0, 0, 0.2)\",\r\n            paddingLeft: \"50px\",\r\n            borderRadius: \"40px\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          <h3 style={{ marginTop: 50, fontSize: 48 }}>\r\n            รายการสินค้า {item.length} ชิ้น\r\n          </h3>\r\n          <div\r\n            style={{\r\n              overflowY: \"scroll\",\r\n              maxHeight: 650,\r\n              width: \"90%\",\r\n              padding: 10,\r\n            }}\r\n            id=\"items\"\r\n          >\r\n            <div className=\"all-items\">\r\n              {item.map(({ name, amount, price }, index) => (\r\n                <Item\r\n                  key={index}\r\n                  order={index + 1}\r\n                  name={name}\r\n                  id={index}\r\n                  amount={amount}\r\n                  price={price}\r\n                  customer\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"90vh\",\r\n            marginRight: 20,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"space-around\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: \"95%\",\r\n              minHeight: \"60%\",\r\n              backgroundColor: \"white\",\r\n              boxShadow: \"0px 0px 5px 2px rgba(0, 0, 0, 0.2)\",\r\n              paddingLeft: \"50px\",\r\n              borderRadius: \"20px\",\r\n              padding: 20,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n              gap: 20,\r\n            }}\r\n          >\r\n            {qrBill === \"\" ? (\r\n              <>\r\n                <iframe\r\n                  src=\"https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2FPKWSchoolOfficial%2Fposts%2F927637251140980&show_text=true&width=500\"\r\n                  width=\"350\"\r\n                  height=\"574\"\r\n                  style={{ border: \"none\", overflow: \"hidden\" }}\r\n                  scrolling=\"no\"\r\n                  frameborder=\"0\"\r\n                  allowfullscreen=\"true\"\r\n                  allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\r\n                ></iframe>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <h1>แสกนจ่ายตรงนี้เลย !</h1>\r\n                <div\r\n                  style={{\r\n                    background: \"white\",\r\n                    boxShadow: \"0px 6px 1.5px 1px rgba(0,0,0,0.25)\",\r\n                    padding: 20,\r\n                    borderRadius: 20,\r\n                  }}\r\n                >\r\n                  <QRCode\r\n                    bgColor=\"transparent\"\r\n                    value={`660966353408${total}B102${qrBill}`}\r\n                    size={300}\r\n                  />\r\n                </div>\r\n                <h3>\r\n                  แสกนจ่ายในแอพ{\" \"}\r\n                  <span style={{ color: \"#0099FF\" }}>ได้เพย์</span>\r\n                </h3>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div\r\n            style={{\r\n              background: \"white\",\r\n              width: \"100%\",\r\n              height: \"30%\",\r\n              borderRadius: 20,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"row\",\r\n              boxShadow: \"0px 0px 5px 2px rgba(0, 0, 0, 0.2)\",\r\n              gap: 20,\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"flex-end\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <h3 style={{ fontSize: \"3rem\" }}>รวมทั้งหมด</h3>\r\n              <h3 style={{ fontSize: \"3rem\" }}>เงินทอน</h3>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <div>\r\n                <span\r\n                  style={{\r\n                    color: \"#0099FF\",\r\n                    fontSize: \"3rem\",\r\n                    marginRight: 10,\r\n                  }}\r\n                >\r\n                  {item.reduce((total, { price }) => total + price, 0)}\r\n                </span>\r\n                <span style={{ fontSize: \"3rem\", fontWeight: \"bold\" }}>\r\n                  บาท\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <span\r\n                  style={{\r\n                    color: \"#0099FF\",\r\n                    fontSize: \"3rem\",\r\n                    marginRight: 10,\r\n                  }}\r\n                >\r\n                  {change}\r\n                </span>{\" \"}\r\n                <span style={{ fontSize: \"3rem\", fontWeight: \"bold\" }}>\r\n                  บาท\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CustomerView;\r\n","import React from 'react'\r\n\r\nfunction Report() {\r\n    return (\r\n        <div>\r\n            Report\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Report\r\n","import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"../firebase\";\r\nfunction Test() {\r\n  const [money, setMoney] = useState([]);\r\n  const [bill, setBill] = useState([]);\r\n  useEffect(() => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"history\")\r\n      .orderBy(\"time\", \"desc\")\r\n      .limit(84)\r\n      .get()\r\n      .then((docs) => {\r\n        const items = [];\r\n        docs.forEach((doc) => {\r\n          items.push(doc.data());\r\n\r\n          console.log(new Date(doc.data().time.seconds * 1000).getDate());\r\n        });\r\n        \r\n        let total = 0;\r\n        \r\n        items\r\n        .filter(({ status }) => status !== \"cancel\")\r\n        .forEach(({ price }) => (total += price));\r\n        \r\n        console.log(items.filter(({ status }) => status !== \"cancel\").length)\r\n        console.log(total);\r\n        // setMoney((prev) => [...prev, total])\r\n      });\r\n    // const fn = () => {\r\n    //   firebase\r\n    //     .firestore()\r\n    //     .collection(\"admin\")\r\n    //     .doc(\"salary\")\r\n    //     .get()\r\n    //     .then((doc) => {\r\n    //       const date = new Date().getDay() - 1;\r\n    //       const day = [\"จันทร์\", \"อังคาร\", \"พุธ\", \"พฤหัส\", \"ศุกร์\"];\r\n    //       const chart = [...doc.data().chart];\r\n    //       chart.filter((value, index) => index !== date);\r\n    //       firebase\r\n    //         .firestore()\r\n    //         .collection(\"admin\")\r\n    //         .doc(\"salary\")\r\n    //         .set(\r\n    //           {\r\n    //             chart: [\r\n    //               ...chart.filter((value, index) => index !== date),\r\n    //               { day: day[date], amount: 0 },\r\n    //             ],\r\n    //           },\r\n    //           { merge: true }\r\n    //         );\r\n    //     });\r\n    // };\r\n    // fn();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {/* <div\r\n          style={{\r\n            display: \"column\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          {bill.map((bill) => (\r\n            <h1>{bill} : </h1>\r\n          ))}\r\n        </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Test;\r\n","import React, { useState, useEffect, createContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport Login from \"./pages/login\";\r\nimport Checkout from \"./pages/merchant/Checkout\";\r\nimport Print from \"./pages/merchant/Print\";\r\nimport End from \"./pages/merchant/End\";\r\nimport Barcode from \"./pages/merchant/Barcode\";\r\nimport NotFound from \"./pages/Notfound\";\r\nimport Pay from \"./pages/Pay\";\r\nimport Admin from \"./pages/admin/Admin\";\r\nimport Dashboard from \"./pages/admin/Dashboard\";\r\nimport Stock from \"./pages/admin/Stock\";\r\nimport CustomerView from \"./pages/CustomerView\";\r\nimport ReportHub from \"./pages/admin/Report\";\r\nimport firebase from \"./firebase\";\r\nimport Test from \"./pages/Test\";\r\n// firebase.firestore().useEmulator(\"localhost\", 8080);\r\nexport const Context = createContext();\r\nfunction App() {\r\n  const [logined, setLogined] = useState(false);\r\n\r\n  const [GlobalItem, setGlobalItem] = useState([]);\r\n\r\n  return (\r\n    <Context.Provider value={{ GlobalItem, setGlobalItem }}>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Login} />\r\n          <Route path=\"/test\" exact component={Test} />\r\n          <Route path=\"/merchant/checkout\" exact component={Checkout} />\r\n          <Route path=\"/merchant/print\" exact component={Print} />\r\n          <Route path=\"/merchant/end\" exact component={End} />\r\n          <Route path=\"/merchant/customer\" exact component={CustomerView} />\r\n          <Route path=\"/merchant/barcode\" exact component={Barcode} />\r\n          <Route path=\"/pay\" exact component={Pay} />\r\n          <Route path=\"/404\" exact component={NotFound} />\r\n          <Route path=\"/admin\" exact component={Admin} />\r\n          <Route path=\"/admin/dashboard\" exact component={Dashboard} />\r\n          <Route path=\"/admin/stock\" exact component={Stock} />\r\n          <Route path=\"/admin/report/hub\" exact component={ReportHub} />\r\n          {/* <Redirect to=\"/404\" /> */}\r\n        </Switch>\r\n      </Router>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}