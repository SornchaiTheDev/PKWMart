(this.webpackJsonpmart=this.webpackJsonpmart||[]).push([[0],{208:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(187),o=n.n(i),a=(n(208),n(5)),s=n(38),l=n(20),u=(n(42),n(130));n(366),n(209);u.a.initializeApp({apiKey:"AIzaSyAHVu0llKTeO9kxjqpR9o0a99mLhgQKCQk",authDomain:"mart-fdeb3.firebaseapp.com",projectId:"mart-fdeb3",storageBucket:"mart-fdeb3.appspot.com",messagingSenderId:"390862191046",appId:"1:390862191046:web:c92bd906fa40ffda701ac7",measurementId:"G-E7FGTMGT9F"});var d=u.a,j=n(31),b=n(1);var h=function(){var e=Object(l.f)();return new j.a,Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(t){t&&e.replace("merchant/checkout")}))}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"loginBox",children:Object(b.jsx)("h3",{style:{color:"red",fontSize:22},children:"\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15 \u0e2b\u0e32\u0e01\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19"})})})},f=n(45),x=n(18),p=n(11),O=n.n(p),m=n(19),g=n(16),y=n(17);var v=function(e){var t=e.order,n=e.name,c=e.amount,r=e.price,i=e.del,o=e.id,a=e.customer,s=e.barcode;return Object(b.jsxs)("div",{style:w,children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("h3",{children:n}),Object(b.jsxs)("h3",{children:[c," \u0e0a\u0e34\u0e49\u0e19 "]}),Object(b.jsxs)("h3",{children:[r," \u0e1a\u0e32\u0e17"]}),!a&&Object(b.jsx)("span",{style:{border:"none",outline:"none",background:"none",cursor:"pointer"},onClick:function(){return i({id:o,barcode:s,amount:c})},children:Object(b.jsx)(g.a,{icon:y.i})})]})},w={display:"flex",justifyContent:"space-around",alignItems:"center",backgroundColor:"white",boxShadow:"0px 0px 2px 2px rgba(0,0,0,0.25)",borderRadius:"20px",width:"70%",height:"100px"},k=n(105),C=n.n(k);var S=function(e){var t=e.onPress,n=e.clear,r=Object(c.useState)([]),i=Object(a.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){t(o)}),[o]),Object(c.useEffect)((function(){s([])}),[n]),Object(b.jsxs)("div",{className:"change-form",children:[Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[1])}))},children:"1"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[2])}))},children:"2"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[3])}))},children:"3"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[4])}))},children:"4"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[5])}))},children:"5"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[6])}))},children:"6"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[7])}))},children:"7"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[8])}))},children:"8"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[9])}))},children:"9"}),Object(b.jsx)("div",{className:"payIn",style:{gridColumnStart:0,gridColumnEnd:3},onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[0])}))},children:"0"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){var t=Object(x.a)(e);return t.pop(),Object(x.a)(t)}))},children:Object(b.jsx)(g.a,{icon:y.b})})]})};var I=n(128),D=n.n(I),F=n(129),R=n.n(F);var E=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=(t[0],t[1],Object(c.useContext)(ne).GlobalItem),r=Object(l.f)();return Object(c.useEffect)((function(){window.print(),setTimeout((function(){r.replace("/merchant/checkout?counter=".concat(n.counter))}),1e3),console.log(n.counter)}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",background:"white",gap:10},children:[Object(b.jsx)("h4",{style:{alignSelf:"center",fontWeight:"lighter"},children:"\u0e21\u0e34\u0e19\u0e34\u0e21\u0e32\u0e23\u0e4c\u0e17 \u0e42\u0e23\u0e07\u0e40\u0e23\u0e35\u0e22\u0e19\u0e20\u0e39\u0e40\u0e01\u0e47\u0e15\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22"}),"qr"===n.type&&Object(b.jsx)("h4",{style:{alignSelf:"center",fontWeight:"bold"},children:"\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22\u0e1c\u0e48\u0e32\u0e19\u0e41\u0e2d\u0e1e \u0e44\u0e14\u0e49\u0e40\u0e1e\u0e22\u0e4c"}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["".concat((new Date).getUTCDate()," ").concat(["\u0e21.\u0e04","\u0e01.\u0e1e","\u0e21\u0e35.\u0e04","\u0e40\u0e21.\u0e22","\u0e1e.\u0e04","\u0e21\u0e34.\u0e22","\u0e01.\u0e04","\u0e2a.\u0e04","\u0e01.\u0e22","\u0e15.\u0e04","\u0e1e.\u0e22","\u0e18.\u0e04"][(new Date).getUTCMonth()]," ").concat((new Date).getFullYear()+543," ")," ","".concat((new Date).getHours()<=9?"0".concat((new Date).getHours()):(new Date).getHours()," :").concat((new Date).getMinutes()<=9?"0".concat((new Date).getMinutes()):(new Date).getMinutes()," \u0e19. ")]}),Object(b.jsxs)("div",{style:{margin:0,display:"flex",justifyContent:"center",alignItems:"center",width:"400px",flexDirection:"column"},children:[Object(b.jsx)("h4",{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e34\u0e25"}),Object(b.jsx)("h3",{children:n.billNumber})]}),Object(b.jsx)("div",{style:{margin:0,display:"flex",justifyContent:"center",alignItems:"center",width:"400px",flexDirection:"column"},children:Object(b.jsxs)("h4",{children:["\u0e1a\u0e34\u0e25\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e35\u0e48"," ","counter01@pkw.ac.th"===n.counter?1:"counter02@pkw.ac.th"===n.counter?2:"admin"]})}),Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:"==============================="}),n.item.map((function(e){var t=e.name,n=e.amount,c=e.price;return Object(b.jsxs)("div",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(b.jsx)("div",{style:{width:"50%",overflow:"hidden"},children:Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:t})}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["x ",n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:[c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]})]},t)}))]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:20},children:[Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e2a\u0e38\u0e17\u0e18\u0e34"," ",n.price.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),"qr"!==n.type&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e23\u0e31\u0e1a\u0e40\u0e07\u0e34\u0e19\u0e21\u0e32"," ",n.total.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"," ",n.change.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]})]})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:20,marginTop:20},children:Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:"\u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e17\u0e35\u0e48\u0e21\u0e32\u0e2d\u0e38\u0e14\u0e2b\u0e19\u0e38\u0e19"})})]})},T=function(e){var t=e.show,n=e.onClick,c=e.change;e.msg;return Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",height:"300px",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h1",{style:{},children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"}),Object(b.jsxs)("h1",{className:"MediumText",children:[Object(b.jsx)("span",{style:{color:"#0099FF"},children:c})," \u0e1a\u0e32\u0e17"]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 100px",borderRadius:20,fontSize:28,color:"white"},onClick:function(){return n()},children:"\u0e1b\u0e34\u0e14"})]})})},N=function(e){var t=e.counter,n=e.show,r=e.close,i=e.setGlobalItem,o=e.history,s=Object(c.useState)(""),l=Object(a.a)(s,2),u=l[0],j=l[1],h=Object(c.useState)(""),f=Object(a.a)(h,2),x=f[0],p=f[1],v=Object(c.useState)(""),w=Object(a.a)(v,2),k=w[0],C=w[1],S=Object(c.useState)(""),I=Object(a.a)(S,2),D=I[0],F=I[1],R=Object(c.useState)(""),E=Object(a.a)(R,2),T=E[0],N=E[1],W=Object(c.useState)(""),z=Object(a.a)(W,2),H=z[0],_=z[1],B=Object(c.useState)(""),M=Object(a.a)(B,2),A=M[0],$=M[1],L=Object(c.useState)(""),G=Object(a.a)(L,2),q=G[0],P=G[1],U=Object(c.useState)(""),V=Object(a.a)(U,2),Y=V[0],K=V[1],Q=Object(c.useState)(1),J=Object(a.a)(Q,2),X=J[0],Z=J[1],ee=Object(c.useState)(0),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)(0),ie=Object(a.a)(re,2),oe=ie[0],ae=ie[1],se=Object(c.useState)(null),le=Object(a.a)(se,2),ue=le[0],de=le[1],je=Object(c.useState)(""),be=Object(a.a)(je,2),he=be[0],fe=be[1];Object(c.useEffect)((function(){ce(1e3*u+500*x+100*k+50*D+20*T+10*H+5*A+2*q+1*Y)}),[u,x,k,D,T,H,A,q,Y]);var xe=function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({conclusion:!0,total:oe+5e3,change:5e3,profit:ue,counter:t,last_open:he}),e.next=3,d.firestore().collection("counter").doc(t).update({salary:0,last_open:d.firestore.FieldValue.serverTimestamp()});case 3:o.replace("/merchant/end");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 2===X?Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:n?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:20},children:[Object(b.jsx)(g.a,{icon:y.a,size:"2x",onClick:function(){return Z(1)},style:{alignSelf:"flex-start",cursor:"pointer"}}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 "}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e38\u0e17\u0e18\u0e34 "}),Object(b.jsx)("h1",{style:{color:ue>0?"#08c318":"red"},children:ue>0?"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e01\u0e34\u0e19":"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsxs)("h1",{children:[" ",ne.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{children:" 5,000 \u0e1a\u0e32\u0e17"}),Object(b.jsxs)("h1",{children:[" ",(ne-5e3).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h1",{style:{color:ue>0?"#08c318":"red"},children:[ue.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ",Object(b.jsx)("span",{style:{color:"black"},children:"\u0e1a\u0e32\u0e17"})]})]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:xe,children:"\u0e1b\u0e23\u0e34\u0e49\u0e19\u0e17\u0e4c"})]})}):1===X?Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:n?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsx)("h1",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h2",{children:[ne," \u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("label",{children:"1,000"}),Object(b.jsx)("label",{children:"500"}),Object(b.jsx)("label",{children:"100"}),Object(b.jsx)("label",{children:"50"}),Object(b.jsx)("label",{children:"20"}),Object(b.jsx)("label",{children:"10"}),Object(b.jsx)("label",{children:"5"}),Object(b.jsx)("label",{children:"2"}),Object(b.jsx)("label",{children:"1"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("input",{type:"number",value:u,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:x,onChange:function(e){return p(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:k,onChange:function(e){return C(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:D,onChange:function(e){return F(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:T,onChange:function(e){return N(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:H,onChange:function(e){return _(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:A,onChange:function(e){return $(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:q,onChange:function(e){return P(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:Y,onChange:function(e){return K(e.target.value)}})]})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",gap:20},children:[Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:function(){d.firestore().collection("counter").doc(t).get().then((function(e){var t=e.data().salary;fe(e.data().last_open),de(ne-5e3-t),ae(t),Z(2)}))},children:"\u0e15\u0e01\u0e25\u0e07"}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"red",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:r,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})]})}):void 0},W=function(e){var t=e.show,n=e.close,r=e.bill,i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"30vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"\u0e01\u0e23\u0e2d\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e34\u0e25"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),d.firestore().collection("history").doc(s).get().then((function(e){"normal"===e.data().status?(r({item:Object(x.a)(e.data().items),bill:s,counter:e.data().counter}),n()):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1a\u0e34\u0e25\u0e19\u0e35\u0e49")})).catch((function(e){return alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1a\u0e34\u0e25\u0e19\u0e35\u0e49")}))},children:Object(b.jsx)("input",{style:{borderRadius:10,outline:"none",border:"1px solid black",padding:10},type:"number",value:s,onChange:function(e){return l(e.target.value)}})}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return n()},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})})})},z=function(e){e.open;var t=e.close,n=e.setItem,r=Object(c.useState)(""),i=Object(a.a)(r,2),o=i[0],s=i[1];return Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"white",width:"20%",minHeight:100,padding:20,borderRadius:10,gap:20},children:[Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(Math.abs(o))},children:Object(b.jsx)("input",{placeholder:"\u0e43\u0e2a\u0e48\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19",value:o,onChange:function(e){return s(e.target.value)},autoFocus:!0,style:{padding:10,background:"white",outline:"none",border:"1px solid #0099FF",borderRadius:20}})}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return t()},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})},H=function(e){var t=e.open,n=Object(c.useState)(!1),r=Object(a.a)(n,2),i=r[0],o=r[1],s=new URL(window.location.href).searchParams.get("counter");return Object(c.useEffect)((function(){o(t)}),[t]),Object(c.useEffect)((function(){d.firestore().collection("counter").doc(s).set({qrBill:""},{merge:!0})}),[i]),Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:i?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",height:"300px",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)(g.a,{icon:y.g,size:"2x",style:{alignSelf:"center",cursor:"pointer"}}),Object(b.jsx)("h1",{children:"\u0e23\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32\u0e41\u0e2a\u0e01\u0e19\u0e1c\u0e48\u0e32\u0e19\u0e41\u0e2d\u0e1e"})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:18,color:"white"},onClick:function(){return o(!1)},children:"\u0e1b\u0e34\u0e14"})]})})};var _=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(a.a)(i,2),s=(o[0],o[1],Object(c.useState)([])),u=Object(a.a)(s,2),h=u[0],p=u[1],g=Object(c.useState)(0),y=Object(a.a)(g,2),w=y[0],k=y[1],I=Object(c.useState)([]),D=Object(a.a)(I,2),F=D[0],R=D[1],E=Object(c.useState)(0),_=Object(a.a)(E,2),B=_[0],M=_[1],A=Object(c.useState)(0),$=Object(a.a)(A,2),L=$[0],G=$[1],q=Object(c.useState)(!1),P=Object(a.a)(q,2),U=P[0],V=(P[1],Object(c.useState)(!1)),Y=Object(a.a)(V,2),K=Y[0],Q=Y[1],J=Object(c.useState)(1),X=Object(a.a)(J,2),Z=X[0],ee=X[1],te=Object(c.useState)(""),ce=Object(a.a)(te,2),re=ce[0],ie=ce[1],oe=Object(c.useState)(!1),ae=Object(a.a)(oe,2),se=ae[0],le=ae[1],ue=Object(c.useState)([]),de=Object(a.a)(ue,2),je=(de[0],de[1]),be=Object(c.useState)(null),he=Object(a.a)(be,2),fe=he[0],xe=he[1],pe=Object(c.useState)(!1),Oe=Object(a.a)(pe,2),me=Oe[0],ge=Oe[1],ye=Object(c.useState)(""),ve=Object(a.a)(ye,2),we=ve[0],ke=ve[1],Ce=Object(c.useState)(60),Se=Object(a.a)(Ce,2),Ie=Se[0],De=Se[1],Fe=Object(c.useState)(!1),Re=Object(a.a)(Fe,2),Ee=Re[0],Te=Re[1],Ne=Object(c.useState)(!1),We=Object(a.a)(Ne,2),ze=We[0],He=We[1],_e=Object(c.useState)(""),Be=Object(a.a)(_e,2),Me=Be[0],Ae=Be[1],$e=Object(l.f)(),Le=new j.a,Ge=Le.get("change"),qe=Object(c.useContext)(ne),Pe=(qe.GlobalItem,qe.setGlobalItem);Object(c.useEffect)((function(){(function(){var e=Object(m.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(window.location.href),n=t.searchParams.get("counter"),xe(n),e.next=5,d.firestore().collection("counter").doc(n).set({qrBill:""},{merge:!0});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://asia-south1-daipay.cloudfunctions.net/QRCheck?qr=".concat(Me,"&token=testtoken"));case 2:return t=e.sent,e.next=5,t.json();case 5:if("success"!==e.sent.status){e.next=10;break}return Ue(),e.next=10,d.firestore().collection("counter").doc(fe).set({qrBill:""},{merge:!0});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){ze&&n.length>0&&""!==Me&&e(),De((function(e){return e-1}))}),1e3);return function(){return clearTimeout(t)}}),[Ie,Me]),Object(c.useEffect)((function(){var e="".concat((new Date).getDate()).concat((new Date).getMonth()).concat((new Date).getHours()).concat((new Date).getMinutes()).concat((new Date).getSeconds());Ae(e)}),[]),Object(c.useEffect)((function(){ze&&function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ze){e.next=10;break}return e.next=3,fetch("https://asia-south1-daipay.cloudfunctions.net/QRGen?qr=".concat(Me,"&token=testtoken"));case 3:return t=e.sent,e.next=6,t.json();case 6:if("success"!==e.sent.status){e.next=10;break}return e.next=10,d.firestore().collection("counter").doc(fe).set({qrBill:Me},{merge:!0});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[ze]);var Ue=function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(!0),e.next=3,d.firestore().collection("e-history").doc(Me).set({items:n,time:new Date,status:"normal",price:L,counter:fe}).then((function(){})).catch((function(e){return alert("Add Failed! ".concat(e.code))}));case 3:Pe({type:"qr",item:n,billNumber:Me,price:L,counter:fe}),$e.replace("/merchant/print");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(e){("NumpadDivide"===e.code||"Slash"===e.code||"Space"===e.code)&&document.getElementById("money").focus(),"NumpadMultiply"===e.code&&(ee(""),document.getElementById("multiply").focus()),"NumpadEnter"===e.code&&(k(0),Le.set("change",0)),"NumpadSubtract"!==e.code&&"Minus"!==e.code||ge(!0)};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[]),Object(c.useEffect)((function(){k(Ge)}),[Ge]),Object(c.useEffect)((function(){var e=document.getElementById("items");e.scrollTop=e.scrollHeight}),[n]);var Ve=function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==we){e.next=6;break}r([]),p([]),M(Math.random()),e.next=10;break;case 6:return e.next=8,d.firestore().collection("history").doc(we).update({status:"cancel"},{merge:!0}).then((function(){return console.log("success")}));case 8:return e.next=10,d.firestore().collection("history").doc(we).get().then(function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data().price,e.next=3,d.firestore().collection("counter").doc(re).update({salary:d.firestore.FieldValue.increment(-n)},{merge:!0}).then((function(){return console.log("remove")}));case 3:r([]),p([]),ke("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(m.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=fe){e.next=2;break}return e.abrupt("return",alert("err !"));case 2:if(!Ee){e.next=4;break}return e.abrupt("return");case 4:if(0!==n.length){e.next=6;break}return e.abrupt("return");case 6:if(t="".concat((new Date).getDate()).concat((new Date).getMonth()).concat((new Date).getHours()).concat((new Date).getMinutes()).concat((new Date).getSeconds()),!((c="object"===typeof h?parseInt(h.join("")):h)>=L)){e.next=21;break}return Te(!0),e.next=12,d.firestore().collection("history").doc(t).set({payIn:c,items:n,time:new Date,status:"normal",price:L,counter:fe}).catch((function(e){return alert("Add Failed! ".concat(e.code))}));case 12:if(k(c-L),e.t0=null!==fe,!e.t0){e.next=17;break}return e.next=17,d.firestore().collection("counter").doc(fe).update({change:c-L,salary:d.firestore.FieldValue.increment(L)});case 17:return Pe({item:n,total:c,change:c-L,billNumber:t,price:L,counter:fe}),e.next=20,Le.set("change",c-L);case 20:$e.replace("/merchant/print");case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.auth().onAuthStateChanged((function(e){R(e),e||$e.replace("/")}));case 1:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)((function(){var e=n.reduce((function(e,t){return e+t.price}),0);G(e)}),[n]),Object(c.useEffect)((function(){U&&null!==fe&&0===n.length&&d.firestore().collection("counter").doc(fe).update({change:0},{merge:!0}),!U&&null!==fe&&d.firestore().collection("counter").doc(fe).update({change:0},{merge:!0})}),[U]);var Ke=function(){var e=Object(m.a)(O.a.mark((function e(t){var c,i,o,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=1,null!==Z&&(c=Z),ee(1),e.next=5,d.firestore().collection("stock").doc(t).get();case 5:(i=e.sent).exists?(o=n.find((function(e){return e.name===i.data().name})))?(a=n.filter((function(e){return e.name!==i.data().name})),r((function(){return[].concat(Object(x.a)(a),[Object(f.a)(Object(f.a)({},i.data()),{},{amount:parseInt(o.amount)+parseInt(c),price:i.data().price*(parseInt(o.amount)+parseInt(c)),barId:t})])}))):r((function(e){return[].concat(Object(x.a)(e),[Object(f.a)(Object(f.a)({},i.data()),{},{amount:c,price:i.data().price*c})])})):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e0a\u0e34\u0e49\u0e19\u0e19\u0e35\u0e49");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return F===[]?Object(b.jsx)("div",{id:"items"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W,{show:se,close:function(){return le(!1)},bill:function(e){return r(e.item),ke(e.bill),ie(e.counter)}}),me&&Object(b.jsx)(z,{close:function(){return ge(!1)},setItem:function(e){r((function(t){return[].concat(Object(x.a)(t),[{name:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",price:parseInt(e),amount:1}])})),ge(!1)}}),Object(b.jsx)(N,{counter:fe,show:K,close:function(){return Q(!1)},setGlobalItem:function(e){return Pe(e)},history:$e}),Object(b.jsx)(H,{open:ze}),Object(b.jsx)(C.a,{onScan:!se&&Ke}),Object(b.jsx)(T,{show:w>0,onClick:function(){k(0),Le.set("change",0)},change:w}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"checkout-flex",children:[Object(b.jsxs)("div",{className:"left-panel",children:[Object(b.jsx)("h1",{style:{marginTop:50,color:"counter01@pkw.ac.th"===fe||"counter02@pkw.ac.th"===fe?"black":"red"},children:"counter01@pkw.ac.th"===fe?"\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e35\u0e48  1":"counter02@pkw.ac.th"===fe?"\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e35\u0e48  2":"\u0e40\u0e1b\u0e34\u0e14\u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21\u0e43\u0e2b\u0e21\u0e48 !"}),Object(b.jsxs)("h3",{style:{fontSize:48},children:["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",n.length," \u0e0a\u0e34\u0e49\u0e19"]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"x"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),document.getElementById("multiply").blur()},children:Object(b.jsx)("input",{id:"multiply",style:{fontSize:28,border:"none",width:"100px"},type:"number",value:Z,onChange:function(e){return ee(e.target.value)}})})]}),Object(b.jsx)("div",{style:{overflowY:"scroll",height:500,width:"90%",padding:10},id:"items",children:Object(b.jsx)("div",{className:"all-items",children:n.map((function(e,t){var n=e.name,c=e.amount,i=e.price,o=e.barcode;return Object(b.jsx)(v,{barcode:o,order:t+1,name:n,id:t,amount:c,price:i,del:function(e){var t=e.id,n=e.barcode,c=e.amount;""!==we&&je((function(e){return[].concat(Object(x.a)(e),[{barcode:n,amount:c}])})),r((function(e){return e.filter((function(e,n){return n!==t}))}))}},t)}))})}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:10},children:[Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return Q(!0)},children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return le(!0)},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e1a\u0e34\u0e25"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return ge(!0)},children:"\u0e02\u0e32\u0e22\u0e40\u0e2d\u0e07"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return He(!0)},children:"\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22"})]})]}),Object(b.jsxs)("div",{className:"right-panel",children:[Object(b.jsxs)("div",{style:{marginTop:20,padding:10,maxWidth:"90%"},children:[Object(b.jsx)("h1",{style:{fontSize:24},children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 "}),Object(b.jsxs)("h1",{style:{},className:"BigText",children:[L.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{style:{fontSize:24},children:"\u0e23\u0e31\u0e1a\u0e40\u0e07\u0e34\u0e19\u0e21\u0e32"}),Object(b.jsx)("div",{style:{maxWidth:"100%",height:"120px",maxHeight:"150px",marginBottom:"20%",wordWrap:"break-word"},children:Object(b.jsxs)("h1",{style:{fontSize:"48px"},children:[Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),Ye()},children:Object(b.jsx)("input",{style:{backgroundColor:"white",borderRadius:20,border:"1px solid black",outline:"none",fontSize:18,padding:"10px 16px"},type:"number",value:h,id:"money",onChange:function(e){return p(e.target.value)}})}),"object"===typeof h?h.join("").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):h,h.length>0&&"\u0e1a\u0e32\u0e17"]})}),Object(b.jsx)(S,{onPress:function(e){return p(e)},clear:B})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:10},children:[Object(b.jsx)("div",{className:"payment",onClick:function(){return n.length>0&&Ye()},children:Object(b.jsx)("h2",{children:"\u0e17\u0e2d\u0e19\u0e40\u0e07\u0e34\u0e19"})}),Object(b.jsx)("div",{className:"payment",style:{backgroundColor:"red"},onClick:function(){return Ve()},children:Object(b.jsx)("h2",{children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})})]})]})]})})]})};var B=function(){var e=Object(c.useContext)(ne).GlobalItem,t=e.profit,n=e.total,r=new Date,i=new Date(1e3*e.last_open.seconds),o=Object(l.f)(),a=r.getDate()+r.getMonth()-(i.getDate()+i.getMonth())===0;Object(c.useEffect)((function(){window.print(),setTimeout((function(){o.replace("/merchant/checkout?counter=".concat(e.counter))}),1e3)}),[]);var s=["\u0e21.\u0e04","\u0e01.\u0e1e","\u0e21\u0e35.\u0e04","\u0e40\u0e21.\u0e22","\u0e1e.\u0e04","\u0e21\u0e34.\u0e22","\u0e01.\u0e04","\u0e2a.\u0e04","\u0e01.\u0e22","\u0e15.\u0e04","\u0e1e.\u0e22","\u0e18.\u0e04"];return Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h3",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22"}),a?Object(b.jsx)("h3",{children:"".concat(r.getUTCDate()," ").concat(s[r.getUTCMonth()]," ").concat(r.getFullYear()+543," ")}):Object(b.jsxs)("h3",{children:["".concat(i.getUTCDate()," ").concat(s[i.getUTCMonth()]," ").concat(i.getFullYear()+543," ")," - ","".concat(r.getUTCDate()," ").concat(s[r.getUTCMonth()]," ").concat(r.getFullYear()+543," ")]}),Object(b.jsxs)("h3",{children:["\u0e40\u0e04\u0e32\u0e17\u0e4c\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e17\u0e35\u0e48"," ","counter01@pkw.ac.th"===e.counter?1:"counter02@pkw.ac.th"===e.counter?2:"admin"]}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 "}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e38\u0e17\u0e18\u0e34 "}),Object(b.jsx)("h1",{style:{color:t>0?"#08c318":"red"},children:t>0?"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e01\u0e34\u0e19":"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsxs)("h1",{children:[" ",n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{children:" -5,000 \u0e1a\u0e32\u0e17"}),Object(b.jsxs)("h1",{children:[" ",parseInt(n-5e3).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h1",{style:{color:t>0?"#08c318":"red"},children:[t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ",Object(b.jsx)("span",{style:{color:"black"},children:"\u0e1a\u0e32\u0e17"})]})]})]})]})};var M=function(){var e=Object(c.useState)([{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e41\u0e02\u0e47\u0e07(\u0e40\u0e25\u0e48\u0e21)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e41\u0e02\u0e47\u0e07(\u0e41\u0e1e\u0e04)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e2d\u0e48\u0e2d\u0e19(\u0e40\u0e25\u0e48\u0e21)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e2d\u0e48\u0e2d\u0e19(\u0e41\u0e1e\u0e04)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"},{name:"\u0e41\u0e1f\u0e49\u0e21\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32 (\u0e02\u0e49\u0e2d\u0e2a\u0e31\u0e49\u0e19)"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32 (\u0e02\u0e49\u0e2d\u0e22\u0e32\u0e27)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19 (\u0e16\u0e37\u0e2d)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19 (\u0e40\u0e1b\u0e49)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e2a\u0e30\u0e1e\u0e32\u0e22 (\u0e1c\u0e49\u0e32)"},{name:"\u0e40\u0e2a\u0e37\u0e49\u0e2d\u0e1e\u0e25\u0e30"},{name:"\u0e01\u0e32\u0e07\u0e40\u0e01\u0e07\u0e1e\u0e25\u0e30"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e1c\u0e49\u0e32\u0e1e\u0e31\u0e19\u0e04\u0e2d\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e27\u0e2d\u0e04\u0e40\u0e01\u0e34\u0e25\u0e25\u0e2a./\u0e19\u0e23."},{name:"\u0e2b\u0e21\u0e27\u0e01\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e2d\u0e34\u0e19\u0e18\u0e19\u0e39"},{name:"\u0e40\u0e02\u0e47\u0e21\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e21\u0e27\u0e01"},{name:"\u0e40\u0e02\u0e47\u0e21\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d\u0e15\u0e34\u0e14\u0e40\u0e2a\u0e37\u0e49\u0e2d"},{name:"\u0e1b\u0e49\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d \u0e23.\u0e23"},{name:"\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e2b\u0e19\u0e49\u0e32\u0e01\u0e32\u0e01\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22"},{name:"\u0e01\u0e23\u0e30\u0e14\u0e32\u0e29\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22 (\u0e40\u0e25\u0e47\u0e01)"},{name:"\u0e01\u0e23\u0e30\u0e14\u0e32\u0e29\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22 (\u0e43\u0e2b\u0e0d\u0e48)"},{name:"\u0e42\u0e1a\u0e27\u0e4c"}]),t=Object(a.a)(e,2),n=t[0];return t[1],Object(b.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column",flexWrap:"wrap",height:"100vh"},children:n.map((function(e,t){var n=e.name;return Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(b.jsx)(R.a,{value:"1000000000".concat(t)}),Object(b.jsx)("h3",{children:n})]})}))})};var A=function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("h3",{style:{color:"red"},children:"404 \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e19\u0e35\u0e49"})})};var $=function(){return Object(c.useContext)(ne).payItem,Object(b.jsx)("div",{children:"Pay"})};var L=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],u=o[1],h=Object(c.useState)(""),f=Object(a.a)(h,2),x=f[0],p=f[1],g=Object(c.useState)(!1),y=Object(a.a)(g,2),v=y[0],w=y[1],k=Object(l.f)(),C=new j.a;Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){e&&k.replace("/admin/dashboard")}))}),[]);var S=function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!v&&n.length>0&&s.length>0)){e.next=6;break}return w(!0),e.next=5,d.auth().signInWithEmailAndPassword(n,s).then(Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.set("admin","true");case 2:return e.abrupt("return",k.replace("/admin/dashboard"));case 3:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log(e.code),"auth/user-not-found"===e.code&&p("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e19\u0e35\u0e49"),"auth/wrong-password"===e.code&&p("\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e1c\u0e34\u0e14")}));case 5:w(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container",id:"form",children:Object(b.jsxs)("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",width:"30%",boxShadow:"0px 0px 2px 0.5px rgba(0,0,0,0.5)",borderRadius:20,padding:20},children:[Object(b.jsx)("h2",{children:"\u0e25\u0e47\u0e2d\u0e04\u0e2d\u0e34\u0e19"}),Object(b.jsx)("h3",{style:{display:x.length>0?"block":"none",color:"red"},children:x}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:20,marginBottom:20},children:[Object(b.jsx)("h4",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),Object(b.jsx)("input",{className:"loginBox",type:"email",onChange:function(e){return r(e.target.value)}})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:20},children:[Object(b.jsx)("h4",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),Object(b.jsx)("input",{className:"loginBox",type:"password",onChange:function(e){return u(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",style:{cursor:!v&&n.length>0&&s.length>0?"pointer":"not-allowed",border:"none",background:!v&&n.length>0&&s.length>0?"#0099FF":"lightGrey",outline:"none",padding:"16px 50px",borderRadius:50,color:"white"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]})})},G=n(376),q=n(373),P=n(380);var U=function(){var e=new j.a,t=Object(l.f)(),n=Object(c.useState)([]),r=Object(a.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)({}),u=Object(a.a)(s,2),h=u[0],f=u[1],x=Object(c.useState)([]),p=Object(a.a)(x,2),O=p[0],m=p[1],v=Object(c.useState)([]),w=Object(a.a)(v,2),k=w[0],C=w[1];return e.get("admin"),Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){o(e),e||t.replace("/")}))}),[]),Object(c.useEffect)((function(){d.firestore().collection("admin").doc("salary").onSnapshot((function(e){return f(e.data().amount),m(e.data().chart)})),d.firestore().collection("admin").doc("hits").collection("items").orderBy("amount","desc").limit(3).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),C(t)}))}),[]),i===[]?Object(b.jsx)("div",{}):Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-start",background:"#eee",minHeight:"100vh"},children:Object(b.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:20,padding:"50px 20px",background:"white",width:"50%",flexWrap:"wrap",minHeight:"60vh"},children:[Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(b.jsx)("h1",{children:"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e25\u0e31\u0e07\u0e23\u0e49\u0e32\u0e19\u0e21\u0e32\u0e23\u0e4c\u0e17"}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:20},children:[Object(b.jsxs)("h3",{children:["\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 :"," ",null!==i&&i.email?i.email.replace(/@.+/g,""):"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14"]}),Object(b.jsx)(g.a,{icon:y.h,color:"red",style:{cursor:"pointer"},onClick:function(){return d.auth().signOut()}})]})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",flexWrap:"wrap",gap:40},children:[Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h1",{style:{fontSize:"3rem"},children:[void 0===h.day?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14":"".concat(h.day.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17")," "]})]}),Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h1",{style:{fontSize:"3rem"},children:[void 0===h.month?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14":"".concat(h.month.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17")," "]})]})]})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"50vh",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[Object(b.jsx)("div",{style:{width:"100%",flex:.5,height:300},children:Object(b.jsxs)(G.a,{children:[Object(b.jsx)(q.a,{style:{data:{stroke:"#0099FF"},parent:{border:"1px solid black"}},animate:{duration:2e3,onLoad:{duration:1e3}},interpolation:"linear",data:O,x:"day",y:"amount"}),Object(b.jsx)(P.a,{label:"",style:{axisLabel:{padding:10}}}),Object(b.jsx)(P.a,{label:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19",dependentAxis:!0,style:{axisLabel:{padding:40}}})]})}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",flex:.4,display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column",gap:20},children:[Object(b.jsx)("h3",{style:{marginTop:20},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e02\u0e32\u0e22\u0e14\u0e35\u0e2a\u0e38\u0e14\u0e43\u0e19\u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c\u0e19\u0e35\u0e49"}),k.map((function(e){var t=e.name,n=e.amount;return Object(b.jsxs)("div",{style:{minWidth:"60%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",background:"#f6f6f6",padding:"10px 30px",borderRadius:10,gap:10},children:[Object(b.jsx)("h4",{children:t}),Object(b.jsxs)("h4",{children:[n," \u0e0a\u0e34\u0e49\u0e19"]})]})}))]})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:20,flexWrap:"wrap",marginTop:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",alignItems:"center",gap:20,background:"#bebebe",padding:10,borderRadius:6,color:"white",cursor:"pointer"},onClick:function(){return t.push("/admin/stock")},children:[Object(b.jsx)(g.a,{icon:y.d,size:"1x"}),Object(b.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",alignItems:"center",gap:20,background:"grey",padding:10,borderRadius:6,color:"white",cursor:"pointer"},onClick:function(){return t.push("/admin/report/hub")},children:[Object(b.jsx)(g.a,{icon:y.e,size:"1x"}),Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})]})]})]})})};var V=function(e){var t=e.isShow,n=e.msg,r=Object(c.useState)(!1),i=Object(a.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){s(t),setTimeout((function(){s(!1)}),3e3)}),[t]),Object(b.jsx)("div",{style:{position:"fixed",right:20,top:20,width:"300px",height:"70px",display:"flex",justifyContent:"center",alignItems:"center",color:"black",boxShadow:"0px 0px 2px 0.5px rgba(0,0,0,0.5)",borderRadius:20,background:"white",opacity:o?1:0,transition:"opacity 0.5s"},children:Object(b.jsx)("h3",{children:n})})};function Y(e){var t=e.add,n=e.close,r=e.setItem,i=(e.item,e.err),o=e.setExist,s=Object(c.useState)(!0),l=Object(a.a)(s,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){d(t)}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C.a,{onScan:function(e){return r(e)}}),Object(b.jsx)("div",{style:{position:"fixed",display:u?"flex":"none",justifyContent:"center",alignItems:"center",minWidth:"100vw",minHeight:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"30vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:null===i?"Scan Barcode":"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e19\u0e35\u0e49"}),Object(b.jsx)(g.a,{icon:y.c,size:"4x"}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return n(),o(null)},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})]})}var K=function(e){var t=e.item,n=(e.close,e.add),r=e.from,i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!1),j=Object(a.a)(u,2),h=j[0],f=j[1],x=function(){var e=Object(m.a)(O.a.mark((function e(){var n,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(t).get();case 2:if(n=e.sent,"front"!==r){e.next=13;break}if(!(n.data().stock_amount<s||s<=0)){e.next=8;break}f(!0),e.next=11;break;case 8:return c=parseInt(s),e.next=11,d.firestore().collection("stock").doc(t).update({front_amount:n.data().front_amount+c,stock_amount:n.data().stock_amount-c}).then((function(){return window.location.reload()}));case 11:e.next=20;break;case 13:if(!(s<=0)){e.next=17;break}f(!0),e.next=20;break;case 17:return i=parseInt(s),e.next=20,d.firestore().collection("stock").doc(t).update({stock_amount:n.data().stock_amount+i}).then((function(){return window.location.reload()}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{style:{position:"fixed",display:n?"flex":"none",justifyContent:"center",alignItems:"center",minWidth:"100vw",minHeight:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"40vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"\u0e43\u0e2a\u0e48\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(b.jsx)("p",{style:{color:"red",display:h?"block":"none"},children:"\u0e40\u0e0a\u0e47\u0e04\u0e08\u0e33\u0e19\u0e27\u0e19\u0e02\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07"}),Object(b.jsx)("input",{type:"number",value:s,autoFocus:!0,style:{borderBottom:"4px solid #0099FF",width:"20%",outline:"none",border:"none",background:"none",fontSize:28},onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("button",{style:{background:"green",outline:"none",border:"none",borderRadius:20,padding:"10px 40px",color:"white",fontSize:16,cursor:"pointer"},onClick:x,children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})]})})},Q=function(e){var t=e.add,n=e.close,r=e.stock,i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(null),j=Object(a.a)(u,2),h=j[0],f=j[1];return Object(c.useEffect)((function(){""!==s&&function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(s).get();case 2:e.sent.exists?f(!0):(f(!1),l(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,h]),Object(c.useEffect)((function(){console.log(h)}),[h]),Object(b.jsx)(b.Fragment,{children:s&&h?Object(b.jsx)(K,{item:s,close:n,add:t,from:r?"stock":"front"}):Object(b.jsx)(Y,{add:t,close:n,setItem:function(e){return l(e)},err:h,setExist:function(e){return f(e)}})})},J=function(e){var t=e.item_barcode,n=e.item_name,r=e.item_price,i=e.front_amount,o=e.stock_amount,s=e.removeItem,l=e.front,u=e.addItem,j=e.doc,h=e.success,f=(e.barcodes,Object(c.useState)("")),x=Object(a.a)(f,2),p=x[0],v=x[1],w=Object(c.useState)(""),k=Object(a.a)(w,2),C=k[0],S=k[1],I=Object(c.useState)(""),D=Object(a.a)(I,2),F=D[0],R=D[1],E=Object(c.useState)(""),T=Object(a.a)(E,2),N=T[0],W=T[1],z=Object(c.useState)(!1),H=Object(a.a)(z,2),_=H[0],B=H[1],M=Object(c.useState)(""),A=Object(a.a)(M,2),$=A[0],L=A[1];Object(c.useEffect)((function(){v(t),S(n),R(r),W(l?i:o)}),[l]),Object(c.useEffect)((function(){var e,c=l?i:o;p!==t&&(e=!0),C!==n&&(e=!0),F!==r&&(e=!0),N!==c&&(e=!0),p===t&&C===n&&F===r&&N===c&&(e=!1),!u&&B(e)}),[C,p,F,N]);var G=function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(p).get();case 2:if(e.sent.exists){e.next=8;break}return e.next=6,d.firestore().collection("stock").doc(p).set({barcode:p,name:C,price:parseInt(F),front_amount:0,stock_amount:parseInt(N),createdAt:d.firestore.FieldValue.serverTimestamp()}).then((function(){return h(),d.firestore().collection("stock").doc("count").update({amount:d.firestore.FieldValue.increment(1)}),L("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),setTimeout((function(){s()}),1e3)}));case 6:e.next=9;break;case 8:L("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08");case 9:setTimeout((function(){L("")}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,d.firestore().collection("stock").doc(j).update({barcode:p,name:C,price:parseInt(F),front_amount:parseInt(N)}).then((function(){return B(!1)}));case 3:e.next=7;break;case 5:return e.next=7,d.firestore().collection("stock").doc(j).update({barcode:p,name:C,price:parseInt(F),stock_amount:parseInt(N)}).then((function(){return B(!1)})).catch((function(e){return console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(V,{isShow:""!==$,msg:$}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"white",boxShadow:"0px 0px 6px 0.5px rgba(0,0,0,0.25)",minWidth:"70%",padding:10,minHeight:"50px",borderRadius:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",gap:20},children:[Object(b.jsx)("label",{children:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14 :"}),u?Object(b.jsx)("input",{type:"text",placeholder:"123456789",className:"items-input",value:p,onChange:function(e){return v(e.target.value)}}):Object(b.jsx)("h3",{className:"items-input",children:p}),Object(b.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d :"}),Object(b.jsx)("input",{type:"text",placeholder:"\u0e19\u0e49\u0e33\u0e14\u0e37\u0e48\u0e21\u0e15\u0e23\u0e32 \u0e20\u0e27.",className:"items-input",value:C,onChange:function(e){return S(e.target.value)}}),!l&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:"\u0e23\u0e32\u0e04\u0e32 :"}),Object(b.jsx)("input",{type:"number",placeholder:"5",className:"items-input",style:{width:"5vw"},value:F,onChange:function(e){return R(parseInt(e.target.value))}}),Object(b.jsx)("label",{children:"\u0e1a\u0e32\u0e17"})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:l?"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e43\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19 : ":"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01 :"}),l?Object(b.jsx)("h3",{className:"items-input",style:{width:"2vw",color:N>5?"black":"red"},children:N>0?N.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"\u0e2b\u0e21\u0e14"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{type:"number",value:N,className:"items-input",style:{width:"5vw"},onChange:function(e){return W(e.target.value)}}),Object(b.jsx)("label",{children:"\u0e0a\u0e34\u0e49\u0e19"})]})]}),u?Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:20},children:[Object(b.jsx)(g.a,{icon:y.j,style:{cursor:"pointer"},onClick:function(){return s()}}),Object(b.jsx)("button",{onClick:G,style:{background:"green",color:"white",outline:"none",border:"none",padding:10,borderRadius:10,cursor:"pointer"},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]}):Object(b.jsx)("div",{style:{display:l?"none":"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:function(){s(C),d.firestore().collection("stock").doc(j).delete()},children:Object(b.jsx)(g.a,{icon:y.j})})]}),_&&Object(b.jsx)("button",{onClick:q,style:{marginTop:20,width:"100px",background:"orange ",color:"white",outline:"none",border:"none",padding:10,borderRadius:10,cursor:"pointer",alignSelf:"flex-end"},children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]})]})};var X=function(){new j.a;var e=Object(l.f)(),t=Object(c.useState)([]),n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(!0),s=Object(a.a)(o,2),u=s[0],h=s[1],p=Object(c.useState)(!1),O=Object(a.a)(p,2),m=O[0],v=O[1],w=Object(c.useState)(!1),k=Object(a.a)(w,2),C=k[0],S=k[1],I=Object(c.useState)(null),D=Object(a.a)(I,2),F=D[0],R=D[1],E=Object(c.useState)(!1),T=Object(a.a)(E,2),N=(T[0],T[1],Object(c.useState)(!1)),W=Object(a.a)(N,2),z=W[0],H=W[1],_=Object(c.useState)(!1),B=Object(a.a)(_,2),M=B[0],A=B[1],$=Object(c.useState)(0),L=Object(a.a)($,2),G=L[0],q=L[1],P=Object(c.useState)(0),U=Object(a.a)(P,2),V=(U[0],U[1]),Y=Object(c.useState)(0),K=Object(a.a)(Y,2),X=K[0],Z=K[1],ee=Object(c.useState)([]),te=Object(a.a)(ee,2),ne=te[0],ce=te[1];Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(t){i(t),t||e.replace("/")}))}),[]),Object(c.useEffect)((function(){d.firestore().collection("stock").orderBy("createdAt","asc").limit(5).get().then((function(e){var t,n=[];e.forEach((function(e){"count"!==e.id&&n.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})),V((function(e){return e+1})),t=e.data().createdAt})),ce((function(e){return[].concat(n)})),R(t)})),d.firestore().collection("stock").doc("count").get().then((function(e){return q(e.data().amount)}))}),[X]);var re=function(e){var t=e.currentTarget.window;Math.round(t.innerHeight+t.scrollY)===document.body.offsetHeight&&void 0!==F&&(S(!0),d.firestore().collection("stock").orderBy("createdAt","asc").startAfter(F).limit(5).get().then((function(e){var t,n=[];e.forEach((function(e){"count"===e.id&&ne.some((function(t){return t.name===e.data().name}))||(n.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})),t=e.data().createdAt)})),ce((function(e){return[].concat(Object(x.a)(e),n)})),R(t),S(!1)})).catch((function(e){return console.log(e.code)})))};return Object(c.useEffect)((function(){return window.addEventListener("scroll",re),console.log(ne),function(){return window.removeEventListener("scroll",re)}}),[F]),r===[]?Object(b.jsx)("div",{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Q,{add:z,close:function(){return H(!1)}}),Object(b.jsx)(Q,{add:M,close:function(){return A(!1)},stock:!0}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",background:u?"#0099FF":"white",minHeight:"100vh"},children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"50px 20px",background:u?"white":"#0099FF",width:"90%",flexWrap:"wrap"},children:[Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:20,cursor:"pointer"},onClick:function(){return e.replace("/admin/dashboard")},children:[Object(b.jsx)(g.a,{icon:y.a,size:"1x",color:u?"black":"white"}),Object(b.jsx)("h4",{style:{color:u?"black":"white"},children:"\u0e01\u0e25\u0e31\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"})]}),Object(b.jsx)("div",{style:{display:"flex",borderRadius:50,justifyContent:"center",alignItems:"center",width:"100%",flexWrap:"wrap",gap:100},children:Object(b.jsxs)("div",{style:{marginTop:20,borderBottom:u?"6px solid #0099FF":"6px solid white"},children:[Object(b.jsx)("h2",{style:{color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsxs)("h1",{style:{fontSize:64,color:u?"black":"white"},children:[G.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e0a\u0e34\u0e49\u0e19"]})]})}),Object(b.jsxs)("div",{style:{marginTop:50,height:100,display:"flex",justifyContent:"center",alignItems:"center",gap:100},children:[Object(b.jsx)("div",{onClick:function(){return h(!u)},style:{cursor:"pointer",borderBottom:u?"4px solid #0099FF":"0px solid #0099FF",transition:"border-bottom 100ms"},children:Object(b.jsx)("h3",{style:{fontSize:"1.25em",color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19"})}),Object(b.jsx)("div",{onClick:function(){return h(!u)},style:{cursor:"pointer",borderBottom:u?"0px solid #0099FF":"4px solid white",transition:"border-bottom 100ms"},children:Object(b.jsx)("h3",{style:{fontSize:"1.25em",color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01"})})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:[Object(b.jsxs)("div",{style:{padding:20,borderRadius:20,display:u?"flex":"none",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"black",cursor:"pointer"},onClick:function(){return H(!0)},children:[Object(b.jsx)(g.a,{icon:y.f}),Object(b.jsx)("h4",{children:"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19"})]}),Object(b.jsxs)("div",{style:{width:"100px",padding:20,borderRadius:20,display:u?"none":"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"white",cursor:"pointer"},onClick:function(){return v(!0)},children:[Object(b.jsx)(g.a,{icon:y.f}),Object(b.jsx)("h4",{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]}),Object(b.jsxs)("div",{style:{padding:20,borderRadius:20,display:u?"none":"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"#58EF2E",cursor:"pointer"},onClick:function(){return A(!0)},children:[Object(b.jsx)(g.a,{icon:y.f}),Object(b.jsx)("h4",{children:"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]})]}),m&&!u&&Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)(J,{from:"stock",removeItem:function(){return v(!1)},addItem:!0,success:function(){return Z((function(e){return e+1}))}})})]}),Object(b.jsxs)("div",{style:{marginTop:100,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",gap:20},children:[0===ne.length&&Object(b.jsx)("h3",{children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),ne.sort((function(e,t){return u?t.front_item-e.front_item:t.stock_item-e.stock_item})).map((function(e){var t=e.name,n=(e.barcode,e.price),c=e.front_amount,r=e.stock_amount,i=e.id;return Object(b.jsx)(J,{doc:i,item_barcode:i,item_name:t.toString(),item_price:n,front_amount:c,stock_amount:r,front:u,removeItem:function(e){return ce((function(t){return t.filter((function(t){return t.name!==e}))})),d.firestore().collection("stock").doc("count").update({amount:d.firestore.FieldValue.increment(-1)}),Z((function(e){return e-1}))}},i)})),C&&Object(b.jsx)("h2",{children:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14"})]})]})})]})};var Z=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],i=(new j.a,n.reduce((function(e,t){return e+t.price}),0)),o=Object(c.useState)(0),s=Object(a.a)(o,2),u=s[0],h=s[1],f=Object(c.useState)(""),p=Object(a.a)(f,2),g=p[0],y=p[1];return Object(l.g)().counter,Object(c.useEffect)((function(){(function(){var e=Object(m.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URL(window.location.href),n=t.searchParams.get("counter"),d.firestore().collection("counter").doc(n).onSnapshot((function(e){return r(Object(x.a)(e.data().now)),h(e.data().change,y(e.data().qrBill))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),(new Date).getTime(),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",gap:20},children:[Object(b.jsxs)("div",{style:{overflow:"hidden",marginLeft:20,minWidth:"60%",background:"black",height:"90vh",backgroundColor:"white",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",paddingLeft:"50px",borderRadius:"40px",position:"relative"},children:[Object(b.jsxs)("h3",{style:{marginTop:50,fontSize:48},children:["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",n.length," \u0e0a\u0e34\u0e49\u0e19"]}),Object(b.jsx)("div",{style:{overflowY:"scroll",maxHeight:650,width:"90%",padding:10},id:"items",children:Object(b.jsx)("div",{className:"all-items",children:n.map((function(e,t){var n=e.name,c=e.amount,r=e.price;return Object(b.jsx)(v,{order:t+1,name:n,id:t,amount:c,price:r,customer:!0},t)}))})})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"90vh",marginRight:20,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("div",{style:{width:"95%",minHeight:"60%",backgroundColor:"white",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",paddingLeft:"50px",borderRadius:"20px",padding:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:20},children:""===g?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("iframe",{src:"https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2FPKWSchoolOfficial%2Fposts%2F927637251140980&show_text=true&width=500",width:"350",height:"574",style:{border:"none",overflow:"hidden"},scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22\u0e15\u0e23\u0e07\u0e19\u0e35\u0e49\u0e40\u0e25\u0e22 !"}),Object(b.jsx)("div",{style:{background:"white",boxShadow:"0px 6px 1.5px 1px rgba(0,0,0,0.25)",padding:20,borderRadius:20},children:Object(b.jsx)(D.a,{bgColor:"transparent",value:"660966353408".concat(i,"B102").concat(g),size:300})}),Object(b.jsxs)("h3",{children:["\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22\u0e43\u0e19\u0e41\u0e2d\u0e1e"," ",Object(b.jsx)("span",{style:{color:"#0099FF"},children:"\u0e44\u0e14\u0e49\u0e40\u0e1e\u0e22\u0e4c"})]})]})}),Object(b.jsxs)("div",{style:{background:"white",width:"100%",height:"30%",borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-end",flexDirection:"column"},children:[Object(b.jsx)("h3",{style:{fontSize:"3rem"},children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h3",{style:{fontSize:"3rem"},children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"})]}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{color:"#0099FF",fontSize:"3rem",marginRight:10},children:n.reduce((function(e,t){return e+t.price}),0)}),Object(b.jsx)("span",{style:{fontSize:"3rem",fontWeight:"bold"},children:"\u0e1a\u0e32\u0e17"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{color:"#0099FF",fontSize:"3rem",marginRight:10},children:u})," ",Object(b.jsx)("span",{style:{fontSize:"3rem",fontWeight:"bold"},children:"\u0e1a\u0e32\u0e17"})]})]})]})]})]})})};var ee=function(){return Object(b.jsx)("div",{children:"Report"})};var te=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),r=Object(a.a)(n,2);return r[0],r[1],Object(c.useEffect)((function(){d.firestore().collection("history").orderBy("time","desc").limit(84).get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data()),console.log(new Date(1e3*e.data().time.seconds).getDate())}));var n=0;t.filter((function(e){return"cancel"!==e.status})).forEach((function(e){var t=e.price;return n+=t})),console.log(t.filter((function(e){return"cancel"!==e.status})).length),console.log(n)}))}),[]),Object(b.jsx)("div",{})},ne=Object(c.createContext)();var ce=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),r=Object(a.a)(n,2),i=r[0],o=r[1];return Object(b.jsx)(ne.Provider,{value:{GlobalItem:i,setGlobalItem:o},children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",exact:!0,component:h}),Object(b.jsx)(l.a,{path:"/test",exact:!0,component:te}),Object(b.jsx)(l.a,{path:"/merchant/checkout",exact:!0,component:_}),Object(b.jsx)(l.a,{path:"/merchant/print",exact:!0,component:E}),Object(b.jsx)(l.a,{path:"/merchant/end",exact:!0,component:B}),Object(b.jsx)(l.a,{path:"/merchant/customer",exact:!0,component:Z}),Object(b.jsx)(l.a,{path:"/merchant/barcode",exact:!0,component:M}),Object(b.jsx)(l.a,{path:"/pay",exact:!0,component:$}),Object(b.jsx)(l.a,{path:"/404",exact:!0,component:A}),Object(b.jsx)(l.a,{path:"/admin",exact:!0,component:L}),Object(b.jsx)(l.a,{path:"/admin/dashboard",exact:!0,component:U}),Object(b.jsx)(l.a,{path:"/admin/stock",exact:!0,component:X}),Object(b.jsx)(l.a,{path:"/admin/report/hub",exact:!0,component:ee})]})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(ce,{})}),document.getElementById("root")),re()},42:function(e,t,n){}},[[365,1,2]]]);
//# sourceMappingURL=main.72f3265c.chunk.js.map