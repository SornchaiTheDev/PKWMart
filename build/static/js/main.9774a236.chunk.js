(this.webpackJsonpmart=this.webpackJsonpmart||[]).push([[0],{364:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(185),o=n.n(i),a=n(7),s=n(47),l=n(18),u=(n(44),n(128));n(366),n(208);u.a.initializeApp({apiKey:"AIzaSyAHVu0llKTeO9kxjqpR9o0a99mLhgQKCQk",authDomain:"mart-fdeb3.firebaseapp.com",projectId:"mart-fdeb3",storageBucket:"mart-fdeb3.appspot.com",messagingSenderId:"390862191046",appId:"1:390862191046:web:c92bd906fa40ffda701ac7",measurementId:"G-E7FGTMGT9F"});var d=u.a,j=n(54),b=n(1);var h=function(){var e=Object(l.f)();return new j.a,Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(t){t&&e.replace("merchant/checkout")}))}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"loginBox",children:Object(b.jsx)("h3",{style:{color:"red",fontSize:22},children:"\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15 \u0e2b\u0e32\u0e01\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19"})})})},f=n(15),x=n(21),p=n(11),m=n.n(p),O=n(17),g=n(19),y=n(20);var v=function(e){var t=e.order,n=e.name,c=e.amount,r=e.price,i=e.del,o=e.id,a=e.customer,s=e.barcode;return Object(b.jsxs)("div",{style:w,children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("h3",{children:n}),Object(b.jsxs)("h3",{children:[c," \u0e0a\u0e34\u0e49\u0e19 "]}),Object(b.jsxs)("h3",{children:[r," \u0e1a\u0e32\u0e17"]}),!a&&Object(b.jsx)("span",{style:{border:"none",outline:"none",background:"none",cursor:"pointer"},onClick:function(){return i({id:o,barcode:s,amount:c})},children:Object(b.jsx)(g.a,{icon:y.h})})]})},w={display:"flex",justifyContent:"space-around",alignItems:"center",backgroundColor:"white",boxShadow:"0px 0px 2px 2px rgba(0,0,0,0.25)",borderRadius:"20px",width:"70%",height:"100px"},k=function(e){var t=e.show,n=e.onClick,c=e.change;e.msg;return Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",height:"300px",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h1",{style:{},children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"}),Object(b.jsxs)("h1",{className:"MediumText",children:[Object(b.jsx)("span",{style:{color:"#0099FF"},children:c})," \u0e1a\u0e32\u0e17"]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 100px",borderRadius:20,fontSize:28,color:"white"},onClick:function(){return n()},children:"\u0e1b\u0e34\u0e14"})]})})},C=function(e){var t=e.counter,n=e.show,r=e.close,i=e.setGlobalItem,o=e.history,s=Object(c.useState)({thousand:"",fivehund:"",hundred:"",fifty:"",twenty:"",ten:"",five:"",two:"",one:""}),l=Object(a.a)(s,2),u=l[0],j=l[1],h=Object(c.useState)(1),x=Object(a.a)(h,2),p=x[0],v=x[1],w=Object(c.useState)(0),k=Object(a.a)(w,2),C=k[0],S=k[1],I=Object(c.useState)(0),D=Object(a.a)(I,2),F=D[0],R=D[1],E=Object(c.useState)(null),T=Object(a.a)(E,2),N=T[0],W=T[1],z=Object(c.useState)(""),H=Object(a.a)(z,2),_=H[0],B=H[1];Object(c.useEffect)((function(){var e=u.thousand,t=u.fivehund,n=u.hundred,c=u.fifty,r=u.twenty,i=u.ten,o=u.five,a=u.two,s=u.one;S(1e3*e+500*t+100*n+50*c+20*r+10*i+5*o+2*a+1*s)}),[u]);var M=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({conclusion:!0,total:F+5e3,change:5e3,profit:N,counter:t,last_open:_}),e.next=3,d.firestore().collection("counter").doc(t).update({salary:0,last_open:d.firestore.FieldValue.serverTimestamp()});case 3:o.replace("/merchant/end");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 1===p?Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:n?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsx)("h1",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h2",{children:[C," \u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("label",{children:"1,000"}),Object(b.jsx)("label",{children:"500"}),Object(b.jsx)("label",{children:"100"}),Object(b.jsx)("label",{children:"50"}),Object(b.jsx)("label",{children:"20"}),Object(b.jsx)("label",{children:"10"}),Object(b.jsx)("label",{children:"5"}),Object(b.jsx)("label",{children:"2"}),Object(b.jsx)("label",{children:"1"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("input",{type:"number",value:u.thousand,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{thousand:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.fivehund,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{fivehund:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.hundred,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{hundred:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.fifty,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{fifty:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.twenty,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{twenty:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.ten,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{ten:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.five,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{five:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.two,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{two:e.target.value})}))}}),Object(b.jsx)("input",{type:"number",value:u.one,onChange:function(e){return j((function(t){return Object(f.a)(Object(f.a)({},t),{},{one:e.target.value})}))}})]})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",gap:20},children:[Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:function(){d.firestore().collection("counter").doc(t).get().then((function(e){var t=e.data().salary;B(e.data().last_open),W(C-5e3-t),R(t),v(2)}))},children:"\u0e15\u0e01\u0e25\u0e07"}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"red",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:r,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})]})}):2===p?Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:n?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:20},children:[Object(b.jsx)(g.a,{icon:y.a,size:"2x",onClick:function(){return v(1)},style:{alignSelf:"flex-start",cursor:"pointer"}}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 "}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e38\u0e17\u0e18\u0e34 "}),Object(b.jsx)("h1",{style:{color:N>0?"#08c318":"red"},children:N>0?"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e01\u0e34\u0e19":"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsxs)("h1",{children:[" ",C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{children:" 5,000 \u0e1a\u0e32\u0e17"}),Object(b.jsxs)("h1",{children:[" ",(C-5e3).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h1",{style:{color:N>0?"#08c318":"red"},children:[N.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ",Object(b.jsx)("span",{style:{color:"black"},children:"\u0e1a\u0e32\u0e17"})]})]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:M,children:"\u0e1b\u0e23\u0e34\u0e49\u0e19\u0e17\u0e4c"})]})}):void 0},S=n(105),I=n.n(S);var D=function(e){var t=e.onPress,n=e.money,r=Object(c.useState)([]),i=Object(a.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){t(o.join(""))}),[o]),Object(c.useEffect)((function(){s(n.length>0&&n.split("")),0===n.length&&s([])}),[n]),Object(b.jsxs)("div",{className:"change-form",children:[Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[1])}))},children:"1"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[2])}))},children:"2"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[3])}))},children:"3"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[4])}))},children:"4"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[5])}))},children:"5"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[6])}))},children:"6"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[7])}))},children:"7"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[8])}))},children:"8"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[9])}))},children:"9"}),Object(b.jsx)("div",{className:"payIn",style:{gridColumnStart:0,gridColumnEnd:3},onClick:function(){return s((function(e){return[].concat(Object(x.a)(e),[0])}))},children:"0"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){s((function(e){return e.slice(0,-1)}))},children:Object(b.jsx)(g.a,{icon:y.b})})]})},F=function(e){var t=e.show,n=e.close,r=e.bill,i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"30vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"\u0e01\u0e23\u0e2d\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e34\u0e25"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),d.firestore().collection("history").doc(s).get().then((function(e){"normal"===e.data().status?(r({item:Object(x.a)(e.data().items),bill:s,counter:e.data().counter}),n()):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1a\u0e34\u0e25\u0e19\u0e35\u0e49")})).catch((function(e){return alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1a\u0e34\u0e25\u0e19\u0e35\u0e49")}))},children:Object(b.jsx)("input",{style:{borderRadius:10,outline:"none",border:"1px solid black",padding:10},type:"number",value:s,onChange:function(e){return l(e.target.value)}})}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return n()},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})})})},R=function(e){e.open;var t=e.close,n=e.setItem,r=Object(c.useState)(""),i=Object(a.a)(r,2),o=i[0],s=i[1];return Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"white",width:"20%",minHeight:100,padding:20,borderRadius:10,gap:20},children:[Object(b.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),/\+/g.test(o)){var t=o.split("+");t.shift();var c=t.map((function(e){return parseInt(e)})).reduce((function(e,t){return t+e}),0);n(Math.abs(c))}else n(Math.abs(parseInt(o)))},children:Object(b.jsx)("input",{placeholder:"\u0e43\u0e2a\u0e48\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19",value:o,onChange:function(e){return s(e.target.value)},autoFocus:!0,style:{padding:10,background:"white",outline:"none",border:"1px solid #0099FF",borderRadius:20}})}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return t()},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})},E=function(e){var t=e.open,n=Object(c.useState)(!1),r=Object(a.a)(n,2),i=r[0],o=r[1],s=new URL(window.location.href).searchParams.get("counter");return Object(c.useEffect)((function(){o(t)}),[t]),Object(c.useEffect)((function(){d.firestore().collection("counter").doc(s).set({qrBill:""},{merge:!0})}),[i]),Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:i?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",height:"300px",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)(g.a,{icon:y.f,size:"2x",style:{alignSelf:"center",cursor:"pointer"}}),Object(b.jsx)("h1",{children:"\u0e23\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32\u0e41\u0e2a\u0e01\u0e19\u0e1c\u0e48\u0e32\u0e19\u0e41\u0e2d\u0e1e"})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:18,color:"white"},onClick:function(){return o(!1)},children:"\u0e1b\u0e34\u0e14"})]})})};var T=function(){var e=new j.a,t=Object(c.useState)([]),n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(1),s=Object(a.a)(o,2),u=s[0],h=s[1],p=Object(c.useState)(""),g=Object(a.a)(p,2),y=g[0],w=g[1],S=Object(c.useState)(null),T=Object(a.a)(S,2),N=T[0],W=T[1],z=Object(c.useState)(""),H=Object(a.a)(z,2),_=H[0],B=H[1],M=Object(c.useState)([]),A=Object(a.a)(M,2),$=A[0],L=A[1],G=Object(c.useState)(""),U=Object(a.a)(G,2),q=U[0],P=U[1],V=Object(c.useState)(0),Y=Object(a.a)(V,2),K=Y[0],Q=Y[1],J=Object(c.useState)(e.get("change")),Z=Object(a.a)(J,2),ee=Z[0],te=Z[1],ne=Object(c.useState)(!1),ce=Object(a.a)(ne,2),re=ce[0],ie=ce[1],oe=Object(c.useState)(!1),ae=Object(a.a)(oe,2),se=ae[0],le=ae[1],ue=Object(c.useState)(!1),de=Object(a.a)(ue,2),je=de[0],be=de[1],he=Object(c.useState)(!1),fe=Object(a.a)(he,2),xe=fe[0],pe=fe[1],me=Object(c.useState)(!1),Oe=Object(a.a)(me,2),ge=Oe[0],ye=Oe[1],ve=Object(c.useState)(60),we=Object(a.a)(ve,2),ke=we[0],Ce=we[1],Se=Object(c.useState)(""),Ie=Object(a.a)(Se,2),De=Ie[0],Fe=Ie[1],Re=Object(l.f)(),Ee=Object(c.useContext)(X).setGlobalItem;Object(c.useEffect)((function(){var e=new URL(window.location.href).searchParams.get("counter");W(e)}),[]);var Te=function(){var t=Object(O.a)(m.a.mark((function t(){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=N){t.next=2;break}return t.abrupt("return",alert("err !"));case 2:if(!re){t.next=4;break}return t.abrupt("return");case 4:if(0!==$.length){t.next=6;break}return t.abrupt("return");case 6:if(n="".concat((new Date).getDate()).concat((new Date).getMonth()).concat((new Date).getHours()).concat((new Date).getMinutes()).concat((new Date).getSeconds()),!((c="object"===typeof q?parseInt(q.join("")):q)>=K)){t.next=21;break}return ie(!0),t.next=12,d.firestore().collection("history").doc(n).set({payIn:c,items:$,time:new Date,status:"normal",price:K,counter:N}).catch((function(e){return alert("Add Failed! ".concat(e.code))}));case 12:if(te(c-K),t.t0=null!==N,!t.t0){t.next=17;break}return t.next=17,d.firestore().collection("counter").doc(N).update({change:c-K,salary:d.firestore.FieldValue.increment(K)});case 17:return Ee({item:$,total:c,change:c-K,billNumber:n,price:K,counter:N}),t.next=20,e.set("change",c-K);case 20:Re.replace("/merchant/print");case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===_){e.next=5;break}return e.next=3,d.firestore().collection("history").doc(_).update({status:"cancel"},{merge:!0}).then((function(){return console.log("success")}));case 3:return e.next=5,d.firestore().collection("history").doc(_).get().then(function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data().price,e.next=3,d.firestore().collection("counter").doc(y).update({salary:d.firestore.FieldValue.increment(-n)},{merge:!0}).then((function(){return console.log("remove")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:L([]),P(""),B("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){se&&function(){var e=Object(O.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat((new Date).getDate()).concat((new Date).getMonth()).concat((new Date).getHours()).concat((new Date).getMinutes()).concat((new Date).getSeconds()),Fe(t),!se){e.next=12;break}return e.next=5,fetch("https://asia-south1-daipay.cloudfunctions.net/QRGen?qr=".concat(t,"&token=testtoken"));case 5:return n=e.sent,e.next=8,n.json();case 8:if("success"!==e.sent.status){e.next=12;break}return e.next=12,d.firestore().collection("counter").doc(N).set({qrBill:t},{merge:!0});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[se]),Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://asia-south1-daipay.cloudfunctions.net/QRCheck?qr=".concat(De,"&token=testtoken"));case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,c=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.next=3,d.firestore().collection("e-history").doc(De).set({items:$,time:new Date,status:"normal",price:K,counter:N}).then((function(){})).catch((function(e){return alert("Add Failed! ".concat(e.code))}));case 3:Ee({type:"qr",item:$,billNumber:De,price:K,counter:N}),Re.replace("/merchant/print");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),"success"!==n.status){e.next=11;break}return c(),e.next=11,d.firestore().collection("counter").doc(N).set({qrBill:""},{merge:!0});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){""!==De&&e(),Ce((function(e){return e-1}))}),1e3);return function(){return clearTimeout(t)}}),[ke,De]),Object(c.useEffect)((function(){var t=function(t){("NumpadDivide"===t.code||"Slash"===t.code||"Space"===t.code)&&document.getElementById("money").focus(),"NumpadMultiply"===t.code&&(h(""),document.getElementById("multiply").focus()),"NumpadEnter"===t.code&&(te(0),e.set("change",0)),"NumpadSubtract"!==t.code&&"Minus"!==t.code&&"NumpadAdd"!==t.code||be(!0)};return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[]),Object(c.useEffect)((function(){var e=document.getElementById("items");e.scrollTop=e.scrollHeight}),[$]),Object(c.useEffect)(Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.auth().onAuthStateChanged((function(e){i(e),e||Re.replace("/")}));case 1:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)((function(){var e=$.reduce((function(e,t){return e+t.price}),0);Q(e)}),[$]),Object(c.useEffect)((function(){null!==N&&d.firestore().collection("counter").doc(N).update({now:$},{merge:!0})}),[$,N]),Object(c.useEffect)((function(){null!==N&&0===$.length&&d.firestore().collection("counter").doc(N).update({change:0},{merge:!0})}),[ee]);var We=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,c,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=1,null!==u&&(n=u),h(1),e.next=5,d.firestore().collection("stock").doc(t).get();case 5:(c=e.sent).exists?(r=$.find((function(e){return e.name===c.data().name})))?(i=$.filter((function(e){return e.name!==c.data().name})),L((function(){return[].concat(Object(x.a)(i),[Object(f.a)(Object(f.a)({},c.data()),{},{amount:parseInt(r.amount)+parseInt(n),price:c.data().price*(parseInt(r.amount)+parseInt(n)),barId:t})])}))):L((function(e){return[].concat(Object(x.a)(e),[Object(f.a)(Object(f.a)({},c.data()),{},{amount:n,price:c.data().price*n})])})):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e0a\u0e34\u0e49\u0e19\u0e19\u0e35\u0e49");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r===[]?Object(b.jsx)("div",{id:"items"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F,{show:ge,close:function(){return ye(!1)},bill:function(e){return L(e.item),B(e.bill),w(e.counter)}}),je&&Object(b.jsx)(R,{close:function(){return be(!1)},setItem:function(e){L((function(t){return[].concat(Object(x.a)(t),[{name:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",price:parseInt(e),amount:1}])})),be(!1)}}),Object(b.jsx)(C,{counter:N,show:xe,close:function(){return pe(!1)},setGlobalItem:function(e){return Ee(e)},history:Re}),Object(b.jsx)(E,{open:se}),Object(b.jsx)(I.a,{onScan:!ge&&We}),Object(b.jsx)(k,{show:ee>0,onClick:function(){te(0),e.set("change",0)},change:ee}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"checkout-flex",children:[Object(b.jsxs)("div",{className:"left-panel",children:[Object(b.jsx)("h1",{style:{marginTop:50,color:"counter01@pkw.ac.th"===N||"counter02@pkw.ac.th"===N?"black":"red"},children:"counter01@pkw.ac.th"===N?"\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e35\u0e48  1":"counter02@pkw.ac.th"===N?"\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e35\u0e48  2":"\u0e40\u0e1b\u0e34\u0e14\u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21\u0e43\u0e2b\u0e21\u0e48 !"}),Object(b.jsxs)("h3",{style:{fontSize:48},children:["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",$.length," \u0e0a\u0e34\u0e49\u0e19"]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"x"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),document.getElementById("multiply").blur()},children:Object(b.jsx)("input",{id:"multiply",style:{fontSize:28,border:"none",width:"100px"},type:"number",value:u,onChange:function(e){return h(e.target.value)}})})]}),Object(b.jsx)("div",{style:{overflowY:"scroll",height:500,width:"90%",padding:10},id:"items",children:Object(b.jsx)("div",{className:"all-items",children:$.map((function(e,t){var n=e.name,c=e.amount,r=e.price,i=e.barcode;return Object(b.jsx)(v,{barcode:i,order:t+1,name:n,id:t,amount:c,price:r,del:function(e){var t=e.id;e.barcode,e.amount;L((function(e){return e.filter((function(e,n){return n!==t}))}))}},t)}))})}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:10},children:[Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return pe(!0)},children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return ye(!0)},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e1a\u0e34\u0e25"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return be(!0)},children:"\u0e02\u0e32\u0e22\u0e40\u0e2d\u0e07"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return le(!0)},children:"\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22"})]})]}),Object(b.jsxs)("div",{className:"right-panel",children:[Object(b.jsxs)("div",{style:{marginTop:20,padding:10,maxWidth:"90%"},children:[Object(b.jsx)("h1",{style:{fontSize:24},children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 "}),Object(b.jsxs)("h1",{style:{},className:"BigText",children:[K.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{style:{fontSize:24},children:"\u0e23\u0e31\u0e1a\u0e40\u0e07\u0e34\u0e19\u0e21\u0e32"}),Object(b.jsx)("div",{style:{maxWidth:"100%",height:"120px",maxHeight:"150px",marginBottom:"20%",wordWrap:"break-word"},children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),Te()},children:Object(b.jsxs)("div",{style:{position:"relative"},children:[Object(b.jsx)("input",{style:{backgroundColor:"white",borderRadius:20,border:"1px solid black",outline:"none",fontSize:18,padding:"10px 16px"},type:"text",value:q.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),id:"money",onChange:function(e){return P(e.target.value.replace(/,/g,""))}}),Object(b.jsx)("div",{style:{position:"absolute",right:10,top:5},children:Object(b.jsx)("h2",{style:{},children:"\u0e3f"})})]})})}),Object(b.jsx)(D,{onPress:function(e){return P(e)},money:q})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:10},children:[Object(b.jsx)("div",{className:"payment",onClick:function(){return $.length>0&&Te()},children:Object(b.jsx)("h2",{children:"\u0e17\u0e2d\u0e19\u0e40\u0e07\u0e34\u0e19"})}),Object(b.jsx)("div",{className:"payment",style:{backgroundColor:"red"},onClick:function(){return Ne()},children:Object(b.jsx)("h2",{children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})})]})]})]})})]})};var N=function(){var e=Object(c.useContext)(X).GlobalItem,t=Object(l.f)();return Object(c.useEffect)((function(){window.print(),setTimeout((function(){t.replace("/merchant/checkout?counter=".concat(e.counter))}),1e3),console.log(e.counter)}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",background:"white",gap:10},children:[Object(b.jsx)("h4",{style:{alignSelf:"center",fontWeight:"lighter"},children:"\u0e21\u0e34\u0e19\u0e34\u0e21\u0e32\u0e23\u0e4c\u0e17 \u0e42\u0e23\u0e07\u0e40\u0e23\u0e35\u0e22\u0e19\u0e20\u0e39\u0e40\u0e01\u0e47\u0e15\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22"}),"qr"===e.type&&Object(b.jsx)("h4",{style:{alignSelf:"center",fontWeight:"bold"},children:"\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22\u0e1c\u0e48\u0e32\u0e19\u0e41\u0e2d\u0e1e \u0e44\u0e14\u0e49\u0e40\u0e1e\u0e22\u0e4c"}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["".concat((new Date).getUTCDate()," ").concat(["\u0e21.\u0e04","\u0e01.\u0e1e","\u0e21\u0e35.\u0e04","\u0e40\u0e21.\u0e22","\u0e1e.\u0e04","\u0e21\u0e34.\u0e22","\u0e01.\u0e04","\u0e2a.\u0e04","\u0e01.\u0e22","\u0e15.\u0e04","\u0e1e.\u0e22","\u0e18.\u0e04"][(new Date).getUTCMonth()]," ").concat((new Date).getFullYear()+543," ")," ","".concat((new Date).getHours()<=9?"0".concat((new Date).getHours()):(new Date).getHours()," :").concat((new Date).getMinutes()<=9?"0".concat((new Date).getMinutes()):(new Date).getMinutes()," \u0e19. ")]}),Object(b.jsxs)("div",{style:{margin:0,display:"flex",justifyContent:"center",alignItems:"center",width:"400px",flexDirection:"column"},children:[Object(b.jsx)("h4",{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e34\u0e25"}),Object(b.jsx)("h3",{children:e.billNumber})]}),Object(b.jsx)("div",{style:{margin:0,display:"flex",justifyContent:"center",alignItems:"center",width:"400px",flexDirection:"column"},children:Object(b.jsxs)("h4",{children:["\u0e1a\u0e34\u0e25\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e35\u0e48"," ","counter01@pkw.ac.th"===e.counter?1:"counter02@pkw.ac.th"===e.counter?2:"admin"]})}),Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:"==============================="}),e.item.map((function(e){var t=e.name,n=e.amount,c=e.price;return Object(b.jsxs)("div",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(b.jsx)("div",{style:{width:"50%",overflow:"hidden"},children:Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:t})}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["x ",n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:[c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]})]},t)}))]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:20},children:[Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e2a\u0e38\u0e17\u0e18\u0e34"," ",e.price.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),"qr"!==e.type&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e23\u0e31\u0e1a\u0e40\u0e07\u0e34\u0e19\u0e21\u0e32"," ",e.total.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"," ",e.change.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]})]})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:20,marginTop:20},children:Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:"\u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e17\u0e35\u0e48\u0e21\u0e32\u0e2d\u0e38\u0e14\u0e2b\u0e19\u0e38\u0e19"})})]})};var W=function(){var e=Object(c.useContext)(X).GlobalItem,t=e.profit,n=e.total,r=new Date,i=new Date(1e3*e.last_open.seconds),o=Object(l.f)(),a=r.getDate()+r.getMonth()-(i.getDate()+i.getMonth())===0;Object(c.useEffect)((function(){window.print(),setTimeout((function(){o.replace("/merchant/checkout?counter=".concat(e.counter))}),1e3)}),[]);var s=["\u0e21.\u0e04","\u0e01.\u0e1e","\u0e21\u0e35.\u0e04","\u0e40\u0e21.\u0e22","\u0e1e.\u0e04","\u0e21\u0e34.\u0e22","\u0e01.\u0e04","\u0e2a.\u0e04","\u0e01.\u0e22","\u0e15.\u0e04","\u0e1e.\u0e22","\u0e18.\u0e04"];return Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h3",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22"}),a?Object(b.jsx)("h3",{children:"".concat(r.getUTCDate()," ").concat(s[r.getUTCMonth()]," ").concat(r.getFullYear()+543," ")}):Object(b.jsxs)("h3",{children:["".concat(i.getUTCDate()," ").concat(s[i.getUTCMonth()]," ").concat(i.getFullYear()+543," ")," - ","".concat(r.getUTCDate()," ").concat(s[r.getUTCMonth()]," ").concat(r.getFullYear()+543," ")]}),Object(b.jsxs)("h3",{children:["\u0e40\u0e04\u0e32\u0e17\u0e4c\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e17\u0e35\u0e48"," ","counter01@pkw.ac.th"===e.counter?1:"counter02@pkw.ac.th"===e.counter?2:"admin"]}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 "}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e38\u0e17\u0e18\u0e34 "}),Object(b.jsx)("h1",{style:{color:t>0?"#08c318":"red"},children:t>0?"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e01\u0e34\u0e19":"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsxs)("h1",{children:[" ",n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{children:" -5,000 \u0e1a\u0e32\u0e17"}),Object(b.jsxs)("h1",{children:[" ",parseInt(n-5e3).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h1",{style:{color:t>0?"#08c318":"red"},children:[t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ",Object(b.jsx)("span",{style:{color:"black"},children:"\u0e1a\u0e32\u0e17"})]})]})]})]})},z=n(188),H=n.n(z);var _=function(){var e=Object(c.useState)([{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e41\u0e02\u0e47\u0e07(\u0e40\u0e25\u0e48\u0e21)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e41\u0e02\u0e47\u0e07(\u0e41\u0e1e\u0e04)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e2d\u0e48\u0e2d\u0e19(\u0e40\u0e25\u0e48\u0e21)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e2d\u0e48\u0e2d\u0e19(\u0e41\u0e1e\u0e04)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"},{name:"\u0e41\u0e1f\u0e49\u0e21\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32 (\u0e02\u0e49\u0e2d\u0e2a\u0e31\u0e49\u0e19)"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32 (\u0e02\u0e49\u0e2d\u0e22\u0e32\u0e27)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19 (\u0e16\u0e37\u0e2d)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19 (\u0e40\u0e1b\u0e49)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e2a\u0e30\u0e1e\u0e32\u0e22 (\u0e1c\u0e49\u0e32)"},{name:"\u0e40\u0e2a\u0e37\u0e49\u0e2d\u0e1e\u0e25\u0e30"},{name:"\u0e01\u0e32\u0e07\u0e40\u0e01\u0e07\u0e1e\u0e25\u0e30"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e1c\u0e49\u0e32\u0e1e\u0e31\u0e19\u0e04\u0e2d\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e27\u0e2d\u0e04\u0e40\u0e01\u0e34\u0e25\u0e25\u0e2a./\u0e19\u0e23."},{name:"\u0e2b\u0e21\u0e27\u0e01\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e2d\u0e34\u0e19\u0e18\u0e19\u0e39"},{name:"\u0e40\u0e02\u0e47\u0e21\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e21\u0e27\u0e01"},{name:"\u0e40\u0e02\u0e47\u0e21\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d\u0e15\u0e34\u0e14\u0e40\u0e2a\u0e37\u0e49\u0e2d"},{name:"\u0e1b\u0e49\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d \u0e23.\u0e23"},{name:"\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e2b\u0e19\u0e49\u0e32\u0e01\u0e32\u0e01\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22"},{name:"\u0e01\u0e23\u0e30\u0e14\u0e32\u0e29\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22 (\u0e40\u0e25\u0e47\u0e01)"},{name:"\u0e01\u0e23\u0e30\u0e14\u0e32\u0e29\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22 (\u0e43\u0e2b\u0e0d\u0e48)"},{name:"\u0e42\u0e1a\u0e27\u0e4c"}]),t=Object(a.a)(e,2),n=t[0];return t[1],Object(b.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column",flexWrap:"wrap",height:"100vh"},children:n.map((function(e,t){var n=e.name;return Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(b.jsx)(H.a,{value:"1000000000".concat(t)}),Object(b.jsx)("h3",{children:n})]})}))})};var B=function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("h3",{style:{color:"red"},children:"404 \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e19\u0e35\u0e49"})})};var M=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],u=o[1],h=Object(c.useState)(""),f=Object(a.a)(h,2),x=f[0],p=f[1],g=Object(c.useState)(!1),y=Object(a.a)(g,2),v=y[0],w=y[1],k=Object(l.f)(),C=new j.a;Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){e&&k.replace("/admin/dashboard")}))}),[]);var S=function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!v&&n.length>0&&s.length>0)){e.next=6;break}return w(!0),e.next=5,d.auth().signInWithEmailAndPassword(n,s).then(Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.set("admin","true");case 2:return e.abrupt("return",k.replace("/admin/dashboard"));case 3:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log(e.code),"auth/user-not-found"===e.code&&p("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e19\u0e35\u0e49"),"auth/wrong-password"===e.code&&p("\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e1c\u0e34\u0e14")}));case 5:w(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container",id:"form",children:Object(b.jsxs)("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",width:"30%",boxShadow:"0px 0px 2px 0.5px rgba(0,0,0,0.5)",borderRadius:20,padding:20},children:[Object(b.jsx)("h2",{children:"\u0e25\u0e47\u0e2d\u0e04\u0e2d\u0e34\u0e19"}),Object(b.jsx)("h3",{style:{display:x.length>0?"block":"none",color:"red"},children:x}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:20,marginBottom:20},children:[Object(b.jsx)("h4",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),Object(b.jsx)("input",{className:"loginBox",type:"email",onChange:function(e){return r(e.target.value)}})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:20},children:[Object(b.jsx)("h4",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),Object(b.jsx)("input",{className:"loginBox",type:"password",onChange:function(e){return u(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",style:{cursor:!v&&n.length>0&&s.length>0?"pointer":"not-allowed",border:"none",background:!v&&n.length>0&&s.length>0?"#0099FF":"lightGrey",outline:"none",padding:"16px 50px",borderRadius:50,color:"white"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]})})},A=n(375),$=n(372),L=n(379);var G=function(){var e=new j.a,t=Object(l.f)(),n=Object(c.useState)([]),r=Object(a.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)({}),u=Object(a.a)(s,2),h=u[0],f=u[1],x=Object(c.useState)([]),p=Object(a.a)(x,2),m=p[0],O=p[1],v=Object(c.useState)([]),w=Object(a.a)(v,2),k=w[0],C=w[1];return e.get("admin"),Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){o(e),e||t.replace("/")}))}),[]),Object(c.useEffect)((function(){d.firestore().collection("admin").doc("salary").onSnapshot((function(e){return f(e.data().amount),O(e.data().chart)})),d.firestore().collection("admin").doc("hits").collection("items").orderBy("amount","desc").limit(3).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),C(t)}))}),[]),i===[]?Object(b.jsx)("div",{}):Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-start",background:"#eee",minHeight:"100vh"},children:Object(b.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:20,padding:"50px 20px",background:"white",width:"50%",flexWrap:"wrap",minHeight:"60vh"},children:[Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(b.jsx)("h1",{children:"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e25\u0e31\u0e07\u0e23\u0e49\u0e32\u0e19\u0e21\u0e32\u0e23\u0e4c\u0e17"}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:20},children:[Object(b.jsxs)("h3",{children:["\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 :"," ",null!==i&&i.email?i.email.replace(/@.+/g,""):"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14"]}),Object(b.jsx)(g.a,{icon:y.g,color:"red",style:{cursor:"pointer"},onClick:function(){return d.auth().signOut()}})]})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",flexWrap:"wrap",gap:40},children:[Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h1",{style:{fontSize:"3rem"},children:[void 0===h.day?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14":"".concat(h.day.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17")," "]})]}),Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h1",{style:{fontSize:"3rem"},children:[void 0===h.month?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14":"".concat(h.month.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17")," "]})]})]})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"50vh",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[Object(b.jsx)("div",{style:{width:"100%",flex:.5,height:300},children:Object(b.jsxs)(A.a,{children:[Object(b.jsx)($.a,{style:{data:{stroke:"#0099FF"},parent:{border:"1px solid black"}},animate:{duration:2e3,onLoad:{duration:1e3}},interpolation:"linear",data:m,x:"day",y:"amount"}),Object(b.jsx)(L.a,{label:"",style:{axisLabel:{padding:10}}}),Object(b.jsx)(L.a,{label:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19",dependentAxis:!0,style:{axisLabel:{padding:40}}})]})}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",flex:.4,display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column",gap:20},children:[Object(b.jsx)("h3",{style:{marginTop:20},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e02\u0e32\u0e22\u0e14\u0e35\u0e2a\u0e38\u0e14\u0e43\u0e19\u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c\u0e19\u0e35\u0e49"}),k.map((function(e){var t=e.name,n=e.amount;return Object(b.jsxs)("div",{style:{minWidth:"60%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",background:"#f6f6f6",padding:"10px 30px",borderRadius:10,gap:10},children:[Object(b.jsx)("h4",{children:t}),Object(b.jsxs)("h4",{children:[n," \u0e0a\u0e34\u0e49\u0e19"]})]})}))]})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:20,flexWrap:"wrap",marginTop:20},children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",alignItems:"center",gap:20,background:"#bebebe",padding:10,borderRadius:6,color:"white",cursor:"pointer"},onClick:function(){return t.push("/admin/stock")},children:[Object(b.jsx)(g.a,{icon:y.d,size:"1x"}),Object(b.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]})})]})})};function U(e){var t=e.add,n=e.close,r=e.setItem,i=(e.item,e.err),o=e.setExist,s=Object(c.useState)(!0),l=Object(a.a)(s,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){d(t)}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I.a,{onScan:function(e){return r(e)}}),Object(b.jsx)("div",{style:{position:"fixed",display:u?"flex":"none",justifyContent:"center",alignItems:"center",minWidth:"100vw",minHeight:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"30vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:null===i?"Scan Barcode":"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e19\u0e35\u0e49"}),Object(b.jsx)(g.a,{icon:y.c,size:"4x"}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return n(),o(null)},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})]})}var q=function(e){var t=e.item,n=(e.close,e.add),r=e.from,i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!1),j=Object(a.a)(u,2),h=j[0],f=j[1],x=function(){var e=Object(O.a)(m.a.mark((function e(){var n,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(t).get();case 2:if(n=e.sent,"front"!==r){e.next=13;break}if(!(n.data().stock_amount<s||s<=0)){e.next=8;break}f(!0),e.next=11;break;case 8:return c=parseInt(s),e.next=11,d.firestore().collection("stock").doc(t).update({front_amount:n.data().front_amount+c,stock_amount:n.data().stock_amount-c}).then((function(){return window.location.reload()}));case 11:e.next=20;break;case 13:if(!(s<=0)){e.next=17;break}f(!0),e.next=20;break;case 17:return i=parseInt(s),e.next=20,d.firestore().collection("stock").doc(t).update({stock_amount:n.data().stock_amount+i}).then((function(){return window.location.reload()}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{style:{position:"fixed",display:n?"flex":"none",justifyContent:"center",alignItems:"center",minWidth:"100vw",minHeight:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"40vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"\u0e43\u0e2a\u0e48\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(b.jsx)("p",{style:{color:"red",display:h?"block":"none"},children:"\u0e40\u0e0a\u0e47\u0e04\u0e08\u0e33\u0e19\u0e27\u0e19\u0e02\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07"}),Object(b.jsx)("input",{type:"number",value:s,autoFocus:!0,style:{borderBottom:"4px solid #0099FF",width:"20%",outline:"none",border:"none",background:"none",fontSize:28},onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("button",{style:{background:"green",outline:"none",border:"none",borderRadius:20,padding:"10px 40px",color:"white",fontSize:16,cursor:"pointer"},onClick:x,children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})]})})},P=function(e){var t=e.add,n=e.close,r=e.stock,i=Object(c.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(null),j=Object(a.a)(u,2),h=j[0],f=j[1];return Object(c.useEffect)((function(){""!==s&&function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(s).get();case 2:e.sent.exists?f(!0):(f(!1),l(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,h]),Object(c.useEffect)((function(){console.log(h)}),[h]),Object(b.jsx)(b.Fragment,{children:s&&h?Object(b.jsx)(q,{item:s,close:n,add:t,from:r?"stock":"front"}):Object(b.jsx)(U,{add:t,close:n,setItem:function(e){return l(e)},err:h,setExist:function(e){return f(e)}})})},V=function(e){var t=e.item_barcode,n=e.item_name,r=e.item_price,i=e.front_amount,o=e.stock_amount,s=e.removeItem,l=e.front,u=e.addItem,j=e.doc,h=e.success,f=Object(c.useState)(""),x=Object(a.a)(f,2),p=x[0],v=x[1],w=Object(c.useState)(""),C=Object(a.a)(w,2),S=C[0],I=C[1],D=Object(c.useState)(""),F=Object(a.a)(D,2),R=F[0],E=F[1],T=Object(c.useState)(""),N=Object(a.a)(T,2),W=N[0],z=N[1],H=Object(c.useState)(!1),_=Object(a.a)(H,2),B=_[0],M=_[1],A=Object(c.useState)(""),$=Object(a.a)(A,2),L=$[0],G=$[1];Object(c.useEffect)((function(){v(t),I(n),E(r),z(l?i:o)}),[l]),Object(c.useEffect)((function(){var e,c=l?i:o;p!==t&&(e=!0),S!==n&&(e=!0),R!==r&&(e=!0),W!==c&&(e=!0),p===t&&S===n&&R===r&&W===c&&(e=!1),!u&&M(e)}),[S,p,R,W]);var U=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(p).get();case 2:if(e.sent.exists){e.next=8;break}return e.next=6,d.firestore().collection("stock").doc(p).set({barcode:p,name:S,price:parseInt(R),front_amount:0,stock_amount:parseInt(W),createdAt:d.firestore.FieldValue.serverTimestamp()}).then((function(){return h(),d.firestore().collection("stock").doc("count").update({amount:d.firestore.FieldValue.increment(1)}),G("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),setTimeout((function(){s()}),1e3)}));case 6:e.next=9;break;case 8:G("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08");case 9:setTimeout((function(){G("")}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,d.firestore().collection("stock").doc(j).update({barcode:p,name:S,price:parseInt(R),front_amount:parseInt(W)}).then((function(){return M(!1)}));case 3:e.next=7;break;case 5:return e.next=7,d.firestore().collection("stock").doc(j).update({barcode:p,name:S,price:parseInt(R),stock_amount:parseInt(W)}).then((function(){return M(!1)})).catch((function(e){return console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(k,{isShow:""!==L,msg:L}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"white",boxShadow:"0px 0px 6px 0.5px rgba(0,0,0,0.25)",minWidth:"70%",padding:10,minHeight:"50px",borderRadius:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",gap:20},children:[Object(b.jsx)("label",{children:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14 :"}),u?Object(b.jsx)("input",{type:"text",placeholder:"123456789",className:"items-input",value:p,onChange:function(e){return v(e.target.value)}}):Object(b.jsx)("h3",{className:"items-input",children:p}),Object(b.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d :"}),Object(b.jsx)("input",{type:"text",placeholder:"\u0e19\u0e49\u0e33\u0e14\u0e37\u0e48\u0e21\u0e15\u0e23\u0e32 \u0e20\u0e27.",className:"items-input",value:S,onChange:function(e){return I(e.target.value)}}),!l&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:"\u0e23\u0e32\u0e04\u0e32 :"}),Object(b.jsx)("input",{type:"number",placeholder:"5",className:"items-input",style:{width:"5vw"},value:R,onChange:function(e){return E(parseInt(e.target.value))}}),Object(b.jsx)("label",{children:"\u0e1a\u0e32\u0e17"})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:l?"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e43\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19 : ":"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01 :"}),l?Object(b.jsx)("h3",{className:"items-input",style:{width:"2vw",color:W>5?"black":"red"},children:W>0?W.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"\u0e2b\u0e21\u0e14"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{type:"number",value:W,className:"items-input",style:{width:"5vw"},onChange:function(e){return z(e.target.value)}}),Object(b.jsx)("label",{children:"\u0e0a\u0e34\u0e49\u0e19"})]})]}),u?Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:20},children:[Object(b.jsx)(g.a,{icon:y.i,style:{cursor:"pointer"},onClick:function(){return s()}}),Object(b.jsx)("button",{onClick:U,style:{background:"green",color:"white",outline:"none",border:"none",padding:10,borderRadius:10,cursor:"pointer"},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]}):Object(b.jsx)("div",{style:{display:l?"none":"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:function(){s(S),d.firestore().collection("stock").doc(j).delete()},children:Object(b.jsx)(g.a,{icon:y.i})})]}),B&&Object(b.jsx)("button",{onClick:q,style:{marginTop:20,width:"100px",background:"orange ",color:"white",outline:"none",border:"none",padding:10,borderRadius:10,cursor:"pointer",alignSelf:"flex-end"},children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]})]})};var Y=function(){var e=Object(l.f)(),t=Object(c.useState)([]),n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(!0),s=Object(a.a)(o,2),u=s[0],j=s[1],h=Object(c.useState)(!1),p=Object(a.a)(h,2),m=p[0],O=p[1],v=Object(c.useState)(!1),w=Object(a.a)(v,2),k=w[0],C=w[1],S=Object(c.useState)(null),I=Object(a.a)(S,2),D=I[0],F=I[1],R=Object(c.useState)(!1),E=Object(a.a)(R,2),T=E[0],N=E[1],W=Object(c.useState)(!1),z=Object(a.a)(W,2),H=z[0],_=z[1],B=Object(c.useState)(0),M=Object(a.a)(B,2),A=M[0],$=M[1],L=Object(c.useState)(0),G=Object(a.a)(L,2),U=G[0],q=G[1],Y=Object(c.useState)([]),K=Object(a.a)(Y,2),Q=K[0],J=K[1];Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(t){i(t),t||e.replace("/")}))}),[]),Object(c.useEffect)((function(){d.firestore().collection("stock").orderBy("createdAt","asc").limit(5).get().then((function(e){var t,n=[];e.forEach((function(e){"count"!==e.id&&n.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})),t=e.data().createdAt})),J((function(){return[].concat(n)})),F(t)})),d.firestore().collection("stock").doc("count").get().then((function(e){return $(e.data().amount)}))}),[U]);var X=function(e){var t=e.currentTarget.window;Math.round(t.innerHeight+t.scrollY)===document.body.offsetHeight&&void 0!==D&&(C(!0),d.firestore().collection("stock").orderBy("createdAt","asc").startAfter(D).limit(5).get().then((function(e){var t,n=[];e.forEach((function(e){"count"===e.id&&Q.some((function(t){return t.name===e.data().name}))||(n.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})),t=e.data().createdAt)})),J((function(e){return[].concat(Object(x.a)(e),n)})),F(t),C(!1)})).catch((function(e){return console.log(e.code)})))};return Object(c.useEffect)((function(){return window.addEventListener("scroll",X),console.log(Q),function(){return window.removeEventListener("scroll",X)}}),[D]),r===[]?Object(b.jsx)("div",{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P,{add:T,close:function(){return N(!1)}}),Object(b.jsx)(P,{add:H,close:function(){return _(!1)},stock:!0}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",background:u?"#0099FF":"white",minHeight:"100vh"},children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"50px 20px",background:u?"white":"#0099FF",width:"90%",flexWrap:"wrap"},children:[Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:20,cursor:"pointer"},onClick:function(){return e.replace("/admin/dashboard")},children:[Object(b.jsx)(g.a,{icon:y.a,size:"1x",color:u?"black":"white"}),Object(b.jsx)("h4",{style:{color:u?"black":"white"},children:"\u0e01\u0e25\u0e31\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"})]}),Object(b.jsx)("div",{style:{display:"flex",borderRadius:50,justifyContent:"center",alignItems:"center",width:"100%",flexWrap:"wrap",gap:100},children:Object(b.jsxs)("div",{style:{marginTop:20,borderBottom:u?"6px solid #0099FF":"6px solid white"},children:[Object(b.jsx)("h2",{style:{color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsxs)("h1",{style:{fontSize:64,color:u?"black":"white"},children:[A.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e0a\u0e34\u0e49\u0e19"]})]})}),Object(b.jsxs)("div",{style:{marginTop:50,height:100,display:"flex",justifyContent:"center",alignItems:"center",gap:100},children:[Object(b.jsx)("div",{onClick:function(){return j(!u)},style:{cursor:"pointer",borderBottom:u?"4px solid #0099FF":"0px solid #0099FF",transition:"border-bottom 100ms"},children:Object(b.jsx)("h3",{style:{fontSize:"1.25em",color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19"})}),Object(b.jsx)("div",{onClick:function(){return j(!u)},style:{cursor:"pointer",borderBottom:u?"0px solid #0099FF":"4px solid white",transition:"border-bottom 100ms"},children:Object(b.jsx)("h3",{style:{fontSize:"1.25em",color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01"})})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:[Object(b.jsxs)("div",{style:{padding:20,borderRadius:20,display:u?"flex":"none",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"black",cursor:"pointer"},onClick:function(){return N(!0)},children:[Object(b.jsx)(g.a,{icon:y.e}),Object(b.jsx)("h4",{children:"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19"})]}),Object(b.jsxs)("div",{style:{width:"100px",padding:20,borderRadius:20,display:u?"none":"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"white",cursor:"pointer"},onClick:function(){return O(!0)},children:[Object(b.jsx)(g.a,{icon:y.e}),Object(b.jsx)("h4",{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]}),Object(b.jsxs)("div",{style:{padding:20,borderRadius:20,display:u?"none":"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"#58EF2E",cursor:"pointer"},onClick:function(){return _(!0)},children:[Object(b.jsx)(g.a,{icon:y.e}),Object(b.jsx)("h4",{children:"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]})]}),m&&!u&&Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)(V,{from:"stock",removeItem:function(){return O(!1)},addItem:!0,success:function(){return q((function(e){return e+1}))}})})]}),Object(b.jsxs)("div",{style:{marginTop:100,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",gap:20},children:[0===Q.length&&Object(b.jsx)("h3",{children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Q.sort((function(e,t){return u?t.front_item-e.front_item:t.stock_item-e.stock_item})).map((function(e){var t=e.name,n=e.price,c=e.front_amount,r=e.stock_amount,i=e.id;return Object(b.jsx)(V,{doc:i,item_barcode:i,item_name:t.toString(),item_price:n,front_amount:c,stock_amount:r,front:u,removeItem:function(e){return J((function(t){return t.filter((function(t){return t.name!==e}))})),d.firestore().collection("stock").doc("count").update({amount:d.firestore.FieldValue.increment(-1)}),q((function(e){return e-1}))}},i)})),k&&Object(b.jsx)("h2",{children:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14"})]})]})})]})},K=n(201),Q=n.n(K);var J=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),o=Object(a.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(""),j=Object(a.a)(u,2),h=j[0],f=j[1],p=n.reduce((function(e,t){return e+t.price}),0);return Object(c.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URL(window.location.href),n=t.searchParams.get("counter"),d.firestore().collection("counter").doc(n).onSnapshot((function(e){return r(Object(x.a)(e.data().now)),l(e.data().change,f(e.data().qrBill))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",gap:20},children:[Object(b.jsxs)("div",{style:{overflow:"hidden",marginLeft:20,minWidth:"60%",background:"black",height:"90vh",backgroundColor:"white",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",paddingLeft:"50px",borderRadius:"40px",position:"relative"},children:[Object(b.jsxs)("h3",{style:{marginTop:50,fontSize:48},children:["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",n.length," \u0e0a\u0e34\u0e49\u0e19"]}),Object(b.jsx)("div",{style:{overflowY:"scroll",maxHeight:650,width:"90%",padding:10},id:"items",children:Object(b.jsx)("div",{className:"all-items",children:n.map((function(e,t){var n=e.name,c=e.amount,r=e.price;return Object(b.jsx)(v,{order:t+1,name:n,id:t,amount:c,price:r,customer:!0},t)}))})})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"90vh",marginRight:20,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("div",{style:{width:"95%",minHeight:"60%",backgroundColor:"white",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",paddingLeft:"50px",borderRadius:"20px",padding:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:20},children:""===h?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("iframe",{src:"https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2FPKWSchoolOfficial%2Fposts%2F927637251140980&show_text=true&width=500",width:"350",height:"574",style:{border:"none",overflow:"hidden"},scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22\u0e15\u0e23\u0e07\u0e19\u0e35\u0e49\u0e40\u0e25\u0e22 !"}),Object(b.jsx)("div",{style:{background:"white",boxShadow:"0px 6px 1.5px 1px rgba(0,0,0,0.25)",padding:20,borderRadius:20},children:Object(b.jsx)(Q.a,{bgColor:"transparent",value:"660966353408".concat(p,"B102").concat(h),size:300})}),Object(b.jsxs)("h3",{children:["\u0e41\u0e2a\u0e01\u0e19\u0e08\u0e48\u0e32\u0e22\u0e43\u0e19\u0e41\u0e2d\u0e1e"," ",Object(b.jsx)("span",{style:{color:"#0099FF"},children:"\u0e44\u0e14\u0e49\u0e40\u0e1e\u0e22\u0e4c"})]})]})}),Object(b.jsxs)("div",{style:{background:"white",width:"100%",height:"30%",borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-end",flexDirection:"column"},children:[Object(b.jsx)("h3",{style:{fontSize:"3rem"},children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h3",{style:{fontSize:"3rem"},children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"})]}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{color:"#0099FF",fontSize:"3rem",marginRight:10},children:n.reduce((function(e,t){return e+t.price}),0)}),Object(b.jsx)("span",{style:{fontSize:"3rem",fontWeight:"bold"},children:"\u0e1a\u0e32\u0e17"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{color:"#0099FF",fontSize:"3rem",marginRight:10},children:s})," ",Object(b.jsx)("span",{style:{fontSize:"3rem",fontWeight:"bold"},children:"\u0e1a\u0e32\u0e17"})]})]})]})]})]})})},X=Object(c.createContext)();var Z=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(b.jsx)(X.Provider,{value:{GlobalItem:n,setGlobalItem:r},children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",exact:!0,component:h}),Object(b.jsx)(l.a,{path:"/merchant/checkout",exact:!0,component:T}),Object(b.jsx)(l.a,{path:"/merchant/print",exact:!0,component:N}),Object(b.jsx)(l.a,{path:"/merchant/end",exact:!0,component:W}),Object(b.jsx)(l.a,{path:"/merchant/customer",exact:!0,component:J}),Object(b.jsx)(l.a,{path:"/merchant/barcode",exact:!0,component:_}),Object(b.jsx)(l.a,{path:"/404",exact:!0,component:B}),Object(b.jsx)(l.a,{path:"/admin",exact:!0,component:M}),Object(b.jsx)(l.a,{path:"/admin/dashboard",exact:!0,component:G}),Object(b.jsx)(l.a,{path:"/admin/stock",exact:!0,component:Y})]})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,381)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};n(364);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Z,{})}),document.getElementById("appInitial")),ee()},44:function(e,t,n){}},[[365,1,2]]]);
//# sourceMappingURL=main.9774a236.chunk.js.map