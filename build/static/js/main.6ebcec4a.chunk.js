(this.webpackJsonpmart=this.webpackJsonpmart||[]).push([[0],{209:function(e,t,n){},366:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(187),a=n.n(i),o=(n(209),n(6)),s=n(38),l=n(19),u=(n(42),n(129));n(367),n(210);u.a.initializeApp({apiKey:"AIzaSyAHVu0llKTeO9kxjqpR9o0a99mLhgQKCQk",authDomain:"mart-fdeb3.firebaseapp.com",projectId:"mart-fdeb3",storageBucket:"mart-fdeb3.appspot.com",messagingSenderId:"390862191046",appId:"1:390862191046:web:c92bd906fa40ffda701ac7",measurementId:"G-E7FGTMGT9F"});var d=u.a,j=n(31),b=n(2);var h=function(){var e=Object(l.f)();return new j.a,Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(t){t&&e.replace("merchant/checkout")}))}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"loginBox",children:Object(b.jsx)("h3",{style:{color:"red",fontSize:22},children:"\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15 \u0e2b\u0e32\u0e01\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19"})})})},f=n(45),x=n(190),p=n(18),O=n(13),m=n.n(O),g=n(21),y=n(16),v=n(17);var w=function(e){var t=e.order,n=e.name,c=e.amount,r=e.price,i=e.del,a=e.id,o=e.customer,s=e.barcode;return Object(b.jsxs)("div",{style:k,children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("h3",{children:n}),Object(b.jsxs)("h3",{children:[c," \u0e0a\u0e34\u0e49\u0e19 "]}),Object(b.jsxs)("h3",{children:[r," \u0e1a\u0e32\u0e17"]}),!o&&Object(b.jsx)("span",{style:{border:"none",outline:"none",background:"none",cursor:"pointer"},onClick:function(){return i({id:a,barcode:s,amount:c})},children:Object(b.jsx)(y.a,{icon:v.h})})]})},k={display:"flex",justifyContent:"space-around",alignItems:"center",backgroundColor:"white",boxShadow:"0px 0px 2px 2px rgba(0,0,0,0.25)",borderRadius:"20px",width:"70%",height:"100px"},C=n(105),S=n.n(C);var I=function(e){var t=e.onPress,n=e.clear,r=Object(c.useState)([]),i=Object(o.a)(r,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){t(a)}),[a]),Object(c.useEffect)((function(){s([])}),[n]),Object(b.jsxs)("div",{className:"change-form",children:[Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[1])}))},children:"1"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[2])}))},children:"2"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[3])}))},children:"3"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[4])}))},children:"4"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[5])}))},children:"5"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[6])}))},children:"6"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[7])}))},children:"7"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[8])}))},children:"8"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[9])}))},children:"9"}),Object(b.jsx)("div",{className:"payIn",style:{gridColumnStart:0,gridColumnEnd:3},onClick:function(){return s((function(e){return[].concat(Object(p.a)(e),[0])}))},children:"0"}),Object(b.jsx)("div",{className:"payIn",onClick:function(){return s((function(e){var t=Object(p.a)(e);return t.pop(),Object(p.a)(t)}))},children:Object(b.jsx)(y.a,{icon:v.b})})]})};var F=function(e){var t=e.counterId,n=e.open,r=Object(c.useState)([]),i=Object(o.a)(r,2),a=i[0],s=i[1],l=Object(c.useState)(!0),u=Object(o.a)(l,2),j=u[0],h=u[1],f=Object(c.useState)(null),x=Object(o.a)(f,2),p=x[0],O=x[1];return Object(c.useEffect)((function(){h(n)}),[n]),Object(c.useEffect)((function(){var e=new Date;setTimeout((function(){O(e)}),1e3)}),[p]),Object(b.jsx)("div",{style:{position:"fixed",width:"100vw",height:"100vh",display:j?"flex":"none",justifyContent:"center",alignItems:"center",background:"rgba(0,0,0,0.5)"},children:Object(b.jsxs)("div",{style:{background:"white",minWidth:"50%",minHeight:"70%",padding:20,borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",position:"relative"},children:[Object(b.jsx)(y.a,{icon:v.h,size:"2x",style:{position:"absolute",top:40,right:40,cursor:"pointer"},onClick:function(){return h(!1)}}),Object(b.jsx)("h1",{children:"\u0e01\u0e23\u0e2d\u0e01\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"}),Object(b.jsx)("div",{style:{height:"50px"},children:Object(b.jsx)("h1",{children:a.join("").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")})}),Object(b.jsx)(I,{onPress:function(e){return s(e)},clear:!1===j}),Object(b.jsx)("button",{style:{background:"#08c318",border:"none",padding:"20px 20%",borderRadius:50,color:"white",cursor:"pointer",boxShadow:"0px 0px 10px 2px rgba(0, 0, 0, 0.25)",outline:"none"},onClick:function(){h(!1),s([]),d.firestore().collection("counter").doc(t).set({change:parseInt(a.join(""))},{merge:!0})},children:Object(b.jsx)("h2",{children:"\u0e15\u0e01\u0e25\u0e07"})})]})})},D=(n(139),n(128)),E=n.n(D);var R=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=(t[0],t[1],Object(c.useContext)(ee).GlobalItem),r=Object(l.f)();return Object(c.useEffect)((function(){window.print(),r.replace("/merchant/checkout")}),[]),Object(c.useEffect)((function(){console.log(n[0])}),[n]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:10},children:[Object(b.jsx)("h4",{style:{alignSelf:"center",fontWeight:"lighter"},children:"\u0e21\u0e34\u0e19\u0e34\u0e21\u0e32\u0e23\u0e4c\u0e17 \u0e42\u0e23\u0e07\u0e40\u0e23\u0e35\u0e22\u0e19\u0e20\u0e39\u0e40\u0e01\u0e47\u0e15\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22"}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["".concat((new Date).getUTCDate()," ").concat(["\u0e21.\u0e04","\u0e01.\u0e1e","\u0e21\u0e35.\u0e04","\u0e40\u0e21.\u0e22","\u0e1e.\u0e04","\u0e21\u0e34.\u0e22","\u0e01.\u0e04","\u0e2a.\u0e04","\u0e01.\u0e22","\u0e15.\u0e04","\u0e1e.\u0e22","\u0e18.\u0e04"][(new Date).getUTCMonth()]," ").concat((new Date).getFullYear()+543," ")," ","".concat((new Date).getHours()<=9?"0".concat((new Date).getHours()):(new Date).getHours()," :").concat((new Date).getMinutes()<=9?"0".concat((new Date).getMinutes()):(new Date).getMinutes()," \u0e19. ")]}),Object(b.jsxs)("div",{style:{margin:0,display:"flex",justifyContent:"center",alignItems:"center",width:"400px",flexDirection:"column"},children:[Object(b.jsx)("h4",{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e34\u0e25"}),Object(b.jsx)("h3",{children:n[0].billNumber})]}),Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:"==============================="}),n[0].item.map((function(e){var t=e.name,n=e.amount,c=e.price;return Object(b.jsxs)("div",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(b.jsx)("div",{style:{width:"50%",overflow:"hidden"},children:Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:t})}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["x ",n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:[c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]})]})}))]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:20},children:[Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e2a\u0e38\u0e17\u0e18\u0e34 ",n[0].price.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e23\u0e31\u0e1a\u0e40\u0e07\u0e34\u0e19\u0e21\u0e32 ",n[0].total.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h4",{style:{fontWeight:"lighter"},children:["\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 ",n[0].change.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:20,marginTop:20},children:Object(b.jsx)("h4",{style:{fontWeight:"lighter"},children:"\u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e17\u0e35\u0e48\u0e21\u0e32\u0e2d\u0e38\u0e14\u0e2b\u0e19\u0e38\u0e19"})})]})},N=function(e){var t=e.show,n=e.onClick,c=e.change;e.msg;return Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",height:"300px",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h1",{style:{},children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19"}),Object(b.jsxs)("h1",{className:"MediumText",children:[Object(b.jsx)("span",{style:{color:"#0099FF"},children:c})," \u0e1a\u0e32\u0e17"]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 100px",borderRadius:20,fontSize:28,color:"white"},onClick:function(){return n()},children:"\u0e1b\u0e34\u0e14"})]})})},T=function(e){var t=e.counter,n=e.show,r=e.setGlobalItem,i=e.history,a=Object(c.useState)(""),s=Object(o.a)(a,2),l=s[0],u=s[1],j=Object(c.useState)(""),h=Object(o.a)(j,2),f=h[0],x=h[1],p=Object(c.useState)(""),O=Object(o.a)(p,2),w=O[0],k=O[1],C=Object(c.useState)(""),S=Object(o.a)(C,2),I=S[0],F=S[1],D=Object(c.useState)(""),E=Object(o.a)(D,2),R=E[0],N=E[1],T=Object(c.useState)(""),W=Object(o.a)(T,2),H=W[0],_=W[1],z=Object(c.useState)(""),B=Object(o.a)(z,2),A=B[0],$=B[1],L=Object(c.useState)(""),V=Object(o.a)(L,2),G=V[0],M=V[1],P=Object(c.useState)(""),U=Object(o.a)(P,2),K=U[0],Y=U[1],J=Object(c.useState)(1),Q=Object(o.a)(J,2),q=Q[0],X=Q[1],Z=Object(c.useState)(0),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(0),re=Object(o.a)(ce,2),ie=re[0],ae=re[1],oe=Object(c.useState)(null),se=Object(o.a)(oe,2),le=se[0],ue=se[1];Object(c.useEffect)((function(){ne(1e3*l+500*f+100*w+50*I+20*R+10*H+5*A+2*G+1*K)}),[l,f,w,I,R,H,A,G,K]);var de=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r([{conclusion:!0,total:ie+5e3,change:5e3,profit:le}]),e.next=3,d.firestore().collection("counter").doc(t).update({salary:0});case 3:i.replace("/merchant/end");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 2===q?Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:n?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:20},children:[Object(b.jsx)(y.a,{icon:v.a,size:"2x",onClick:function(){return X(1)},style:{alignSelf:"flex-start",cursor:"pointer"}}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 "}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e38\u0e17\u0e18\u0e34 "}),Object(b.jsx)("h1",{style:{color:le>0?"#08c318":"red"},children:le>0?"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e01\u0e34\u0e19":"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsxs)("h1",{children:[" ",te.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{children:" 5,000 \u0e1a\u0e32\u0e17"}),Object(b.jsxs)("h1",{children:[" ",(te-5e3).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h1",{style:{color:le>0?"#08c318":"red"},children:[le.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ",Object(b.jsx)("span",{style:{color:"black"},children:"\u0e1a\u0e32\u0e17"})]})]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:de,children:"\u0e1b\u0e23\u0e34\u0e49\u0e19\u0e17\u0e4c"})]})}):1===q?Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:n?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsx)("h1",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h2",{children:[te," \u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gap:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("label",{children:"\u0e41\u0e1a\u0e07\u0e04\u0e4c\u0e1e\u0e31\u0e19"}),Object(b.jsx)("label",{children:"\u0e41\u0e1a\u0e07\u0e04\u0e4c\u0e2b\u0e49\u0e32\u0e23\u0e49\u0e2d\u0e22"}),Object(b.jsx)("label",{children:"\u0e41\u0e1a\u0e07\u0e04\u0e4c\u0e23\u0e49\u0e2d\u0e22"}),Object(b.jsx)("label",{children:"\u0e41\u0e1a\u0e07\u0e04\u0e4c\u0e2b\u0e49\u0e32\u0e2a\u0e34\u0e1a"}),Object(b.jsx)("label",{children:"\u0e41\u0e1a\u0e07\u0e04\u0e4c\u0e22\u0e35\u0e48\u0e2a\u0e34\u0e1a"}),Object(b.jsx)("label",{children:"\u0e40\u0e2b\u0e23\u0e35\u0e22\u0e0d\u0e2a\u0e34\u0e1a"}),Object(b.jsx)("label",{children:"\u0e40\u0e2b\u0e23\u0e35\u0e22\u0e0d\u0e2b\u0e49\u0e32"}),Object(b.jsx)("label",{children:"\u0e40\u0e2b\u0e23\u0e35\u0e22\u0e0d\u0e2a\u0e2d\u0e07\u0e1a\u0e32\u0e17"}),Object(b.jsx)("label",{children:"\u0e40\u0e2b\u0e23\u0e35\u0e22\u0e0d\u0e1a\u0e32\u0e17"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("input",{type:"number",value:l,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:f,onChange:function(e){return x(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:w,onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:I,onChange:function(e){return F(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:R,onChange:function(e){return N(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:H,onChange:function(e){return _(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:A,onChange:function(e){return $(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:G,onChange:function(e){return M(e.target.value)}}),Object(b.jsx)("input",{type:"number",value:K,onChange:function(e){return Y(e.target.value)}})]})]}),Object(b.jsx)("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"#0099FF",padding:"10px 50px",borderRadius:20,fontSize:22,color:"white"},onClick:function(){d.firestore().collection("counter").doc(t).get().then((function(e){var t=e.data().salary;console.log(e.data()),ue(te-5e3-t),ae(t),X(2)}))},children:"\u0e15\u0e01\u0e25\u0e07"})]})}):void 0},W=function(e){var t=e.show,n=e.close,r=e.bill,i=Object(c.useState)(""),a=Object(o.a)(i,2),s=a[0],l=a[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{position:"fixed",backgroundColor:"rgba(0,0,0,0.5)",minWidth:"100vw",minHeight:"100vh",display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"30vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"\u0e01\u0e23\u0e2d\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e34\u0e25"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),d.firestore().collection("history").doc(s).get().then((function(e){"normal"===e.data().status?(r({item:Object(p.a)(e.data().items),bill:s}),n()):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1a\u0e34\u0e25\u0e19\u0e35\u0e49")})).catch((function(e){return alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1a\u0e34\u0e25\u0e19\u0e35\u0e49")}))},children:Object(b.jsx)("input",{style:{borderRadius:10,outline:"none",border:"1px solid black",padding:10},type:"number",value:s,onChange:function(e){return l(e.target.value)}})}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return n()},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})})})};var H=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(o.a)(i,2),s=(a[0],a[1]),u=Object(c.useState)([]),h=Object(o.a)(u,2),O=h[0],y=h[1],v=Object(c.useState)(0),k=Object(o.a)(v,2),C=k[0],I=k[1],D=Object(c.useState)([]),E=Object(o.a)(D,2),R=E[0],H=E[1],_=Object(c.useState)(0),z=Object(o.a)(_,2),B=(z[0],z[1]),A=Object(c.useState)(0),$=Object(o.a)(A,2),L=$[0],V=$[1],G=Object(c.useState)(!1),M=Object(o.a)(G,2),P=M[0],U=(M[1],Object(c.useState)(!1)),K=Object(o.a)(U,2),Y=K[0],J=K[1],Q=Object(c.useState)(1),q=Object(o.a)(Q,2),X=q[0],Z=q[1],te=Object(c.useState)(!1),ne=Object(o.a)(te,2),ce=ne[0],re=ne[1],ie=Object(c.useState)([]),ae=Object(o.a)(ie,2),oe=ae[0],se=ae[1],le=Object(c.useState)(null),ue=Object(o.a)(le,2),de=ue[0],je=ue[1],be=Object(c.useState)(""),he=Object(o.a)(be,2),fe=he[0],xe=he[1],pe=Object(l.f)(),Oe=new j.a,me=Oe.get("change"),ge=Object(c.useContext)(ee),ye=(ge.GlobalItem,ge.setGlobalItem);Object(c.useEffect)((function(){(function(){var e=Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.get("counter");case 2:t=e.sent,je(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){console.log(de)}),[de]),Object(c.useEffect)((function(){window.addEventListener("keyup",(function(e){"NumpadDivide"===e.code&&document.getElementById("money").focus(),"NumpadMultiply"===e.code&&(Z(""),document.getElementById("multiply").focus()),"NumpadEnter"===e.code&&(I(0),Oe.set("change",0))}));var e=Oe.get("show");s(e)}),[]),Object(c.useEffect)((function(){null!==d.auth().currentUser&&Oe.set("counter",d.auth().currentUser.email)})),Object(c.useEffect)((function(){I(me)}),[me]),Object(c.useEffect)((function(){var e=document.getElementById("items");e.scrollTop=e.scrollHeight}),[n]);var ve=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==fe){e.next=6;break}r([]),y([]),B(Math.random()),e.next=10;break;case 6:return e.next=8,d.firestore().collection("history").doc(fe).update({status:"cancel"},{merge:!0}).then((function(){return console.log("success")}));case 8:return e.next=10,d.firestore().collection("history").doc(fe).get().then(function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data().price,e.next=3,d.firestore().collection("counter").doc(de).update({salary:d.firestore.FieldValue.increment(-n)},{merge:!0}).then((function(){return console.log("remove")}));case 3:r([]),y([]),xe("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(g.a)(m.a.mark((function e(){var t,c,r,i,a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat((new Date).getDate()).concat((new Date).getMonth()).concat((new Date).getHours()).concat((new Date).getMinutes()).concat((new Date).getSeconds()),c=O,""!==fe){e.next=17;break}if(!(c>=L)){e.next=15;break}return e.next=6,d.firestore().collection("history").doc(t).set({payIn:c,items:n,time:new Date,status:"normal",price:L}).then((function(){})).catch((function(e){return alert("Add Failed! ".concat(e.code))}));case 6:if(I(c-L),e.t0=null!==de,!e.t0){e.next=11;break}return e.next=11,d.firestore().collection("counter").doc(de).update({change:c-L,salary:d.firestore.FieldValue.increment(L)});case 11:return ye([{item:n,total:c,change:c-L,billNumber:t,price:L}]),e.next=14,Oe.set("change",c-L);case 14:pe.replace("/merchant/print");case 15:e.next=46;break;case 17:return e.next=19,d.firestore().collection("history").doc(fe).delete();case 19:return e.next=21,d.firestore().collection("history").doc(fe).set({payIn:c,items:n,time:new Date,status:"normal",price:L}).then((function(){})).catch((function(e){return alert("Add Failed! ".concat(e.code))}));case 21:r=0,i=Object(x.a)(oe),e.prev=23,i.s();case 25:if((a=i.n()).done){e.next=31;break}return o=a.value,e.next=29,d.firestore().collection("stock").doc(o.barcode).get().then((function(e){return r+=e.data().price}));case 29:e.next=25;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(23),i.e(e.t1);case 36:return e.prev=36,i.f(),e.finish(36);case 39:return console.log(r),e.next=42,d.firestore().collection("counter").doc(de).update({salary:d.firestore.FieldValue.increment(-r)},{merge:!0}).then((function(){return console.log("remove")}));case 42:return e.next=44,d.firestore().collection("counter").doc(de).update({salary:d.firestore.FieldValue.increment(L)},{merge:!0}).then((function(){return console.log("add")}));case 44:ye([{item:n,billNumber:fe,billVoid:!0,total:c,price:L,change:c-L}]),pe.replace("/merchant/print");case 46:case"end":return e.stop()}}),e,null,[[23,33,36,39]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.auth().onAuthStateChanged((function(e){H(e),e||pe.replace("/")})),e.next=3,d.firestore().collection("admin").doc("salary").get().then((function(e){new Date(1e3*e.data().last_update.seconds).getDate()!==(new Date).getDate()&&d.firestore().collection("admin").doc("salary").update({amount:{day:0,month:e.data().amount.month},last_update:d.firestore.FieldValue.serverTimestamp()})}));case 3:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)((function(){var e=n.reduce((function(e,t){return e+t.price}),0);V(e)}),[n]),Object(c.useEffect)((function(){0===n.length&&0!==L&&(d.firestore().collection("admin").doc("salary").set({amount:{day:d.firestore.FieldValue.increment(L),month:d.firestore.FieldValue.increment(L)},last_update:d.firestore.FieldValue.serverTimestamp()},{merge:!0}),V(0))}),[n]),Object(c.useEffect)((function(){null!==de&&!P&&d.firestore().collection("counter").doc(de).update({now:n},{merge:!0})}),[n,de]),Object(c.useEffect)((function(){P&&null!==de&&0===n.length&&d.firestore().collection("counter").doc(de).update({change:0},{merge:!0}),!P&&null!==de&&d.firestore().collection("counter").doc(de).update({change:0},{merge:!0})}),[de,n,P]);var ke=function(){var e=Object(g.a)(m.a.mark((function e(t){var c,i,a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=1,null!==X&&(c=X),Z(1),e.next=5,d.firestore().collection("stock").doc(t).get();case 5:(i=e.sent).exists?(a=n.find((function(e){return e.name===i.data().name})))?(o=n.filter((function(e){return e.name!==i.data().name})),r((function(){return[].concat(Object(p.a)(o),[Object(f.a)(Object(f.a)({},i.data()),{},{amount:parseInt(a.amount)+parseInt(c),price:i.data().price*(parseInt(a.amount)+parseInt(c)),barId:t})])}))):r((function(e){return[].concat(Object(p.a)(e),[Object(f.a)(Object(f.a)({},i.data()),{},{amount:c,price:i.data().price*c})])})):alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e0a\u0e34\u0e49\u0e19\u0e19\u0e35\u0e49");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return R===[]?Object(b.jsx)("div",{id:"items"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W,{show:ce,close:function(){return re(!1)},bill:function(e){return r(e.item),xe(e.bill)}}),Object(b.jsx)(T,{counter:de,show:Y,setGlobalItem:function(e){return ye(e)},history:pe}),Object(b.jsx)(F,{counterId:"test1",open:P}),Object(b.jsx)(S.a,{onScan:!ce&&ke}),Object(b.jsx)(N,{show:C>0,onClick:function(){I(0),Oe.set("change",0)},change:C}),Object(b.jsx)("div",{className:"container",style:{background:"#0099FF"},children:Object(b.jsxs)("div",{className:"checkout-flex",children:[Object(b.jsxs)("div",{className:"left-panel",children:[Object(b.jsxs)("h3",{style:{marginTop:50,fontSize:48},children:["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",n.length," \u0e0a\u0e34\u0e49\u0e19"]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"x"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),document.getElementById("multiply").blur()},children:Object(b.jsx)("input",{id:"multiply",style:{fontSize:28,border:"none",width:"100px"},type:"number",value:X,onChange:function(e){return Z(e.target.value)}})})]}),Object(b.jsx)("div",{style:{overflowY:"scroll",height:500,width:"90%",padding:10},id:"items",children:Object(b.jsx)("div",{className:"all-items",children:n.map((function(e,t){var n=e.name,c=e.amount,i=e.price,a=e.barcode;return Object(b.jsx)(w,{barcode:a,order:t+1,name:n,id:t,amount:c,price:i,del:function(e){var t=e.id,n=e.barcode,c=e.amount;""!==fe&&se((function(e){return[].concat(Object(p.a)(e),[{barcode:n,amount:c}])})),r((function(e){return e.filter((function(e,n){return n!==t}))}))}},t)}))})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return J(!0)},children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19"}),Object(b.jsx)("button",{style:{marginTop:20,border:"none",background:"#0099FF",color:"white",padding:"20px 40px",borderRadius:20,cursor:"pointer",outline:"none"},onClick:function(){return re(!0)},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e1a\u0e34\u0e25"})]})]}),Object(b.jsxs)("div",{className:"right-panel",children:[Object(b.jsxs)("div",{style:{marginTop:20,padding:10,maxWidth:"90%"},children:[Object(b.jsx)("h1",{style:{fontSize:24},children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 "}),Object(b.jsxs)("h1",{style:{},className:"BigText",children:[L.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{style:{fontSize:24},children:"\u0e23\u0e31\u0e1a\u0e40\u0e07\u0e34\u0e19\u0e21\u0e32"}),Object(b.jsx)("div",{style:{maxWidth:"100%",height:"120px",maxHeight:"150px",marginBottom:"20%",wordWrap:"break-word"},children:Object(b.jsx)("h1",{style:{fontSize:"48px"},children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),we()},children:Object(b.jsx)("input",{style:{backgroundColor:"white",borderRadius:20,border:"1px solid black",outline:"none",fontSize:18,padding:"10px 16px"},type:"number",value:O,id:"money",onChange:function(e){return y(e.target.value)}})})})})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:10},children:[Object(b.jsx)("div",{className:"payment",onClick:function(){return n.length>0&&we()},children:Object(b.jsx)("h2",{children:"\u0e17\u0e2d\u0e19\u0e40\u0e07\u0e34\u0e19"})}),Object(b.jsx)("div",{className:"payment",style:{backgroundColor:"red"},onClick:function(){return ve()},children:Object(b.jsx)("h2",{children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})})]})]})]})})]})};var _=function(){var e=Object(c.useContext)(ee).GlobalItem,t=e[0],n=t.profit,r=t.total,i=Object(l.f)();return console.log(e),Object(c.useEffect)((function(){window.print(),i.replace("/merchant/checkout")}),[]),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h3",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:50,width:"500px",minHeight:"300px",gap:20,padding:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19 "}),Object(b.jsx)("h1",{children:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e38\u0e17\u0e18\u0e34 "}),Object(b.jsx)("h1",{style:{color:n>0?"#08c318":"red"},children:n>0?"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e01\u0e34\u0e19":"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},children:[Object(b.jsxs)("h1",{children:[" ",r.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17"]}),Object(b.jsx)("h1",{children:" -5,000 \u0e1a\u0e32\u0e17"}),Object(b.jsxs)("h1",{children:[" ",parseInt(r-5e3).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h1",{style:{color:n>0?"#08c318":"red"},children:[n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ",Object(b.jsx)("span",{style:{color:"black"},children:"\u0e1a\u0e32\u0e17"})]})]})]})]})};var z=function(){var e=Object(c.useState)([{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e41\u0e02\u0e47\u0e07(\u0e40\u0e25\u0e48\u0e21)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e41\u0e02\u0e47\u0e07(\u0e41\u0e1e\u0e04)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e2d\u0e48\u0e2d\u0e19(\u0e40\u0e25\u0e48\u0e21)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e01\u0e2d\u0e48\u0e2d\u0e19(\u0e41\u0e1e\u0e04)"},{name:"\u0e2a\u0e21\u0e38\u0e14\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"},{name:"\u0e41\u0e1f\u0e49\u0e21\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32 (\u0e02\u0e49\u0e2d\u0e2a\u0e31\u0e49\u0e19)"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32 (\u0e02\u0e49\u0e2d\u0e22\u0e32\u0e27)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19 (\u0e16\u0e37\u0e2d)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19 (\u0e40\u0e1b\u0e49)"},{name:"\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e2a\u0e30\u0e1e\u0e32\u0e22 (\u0e1c\u0e49\u0e32)"},{name:"\u0e40\u0e2a\u0e37\u0e49\u0e2d\u0e1e\u0e25\u0e30"},{name:"\u0e01\u0e32\u0e07\u0e40\u0e01\u0e07\u0e1e\u0e25\u0e30"},{name:"\u0e16\u0e38\u0e07\u0e40\u0e17\u0e49\u0e32\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e1c\u0e49\u0e32\u0e1e\u0e31\u0e19\u0e04\u0e2d\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e27\u0e2d\u0e04\u0e40\u0e01\u0e34\u0e25\u0e25\u0e2a./\u0e19\u0e23."},{name:"\u0e2b\u0e21\u0e27\u0e01\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e2d\u0e34\u0e19\u0e18\u0e19\u0e39"},{name:"\u0e40\u0e02\u0e47\u0e21\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e21\u0e27\u0e01"},{name:"\u0e40\u0e02\u0e47\u0e21\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d\u0e15\u0e34\u0e14\u0e40\u0e2a\u0e37\u0e49\u0e2d"},{name:"\u0e1b\u0e49\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d \u0e23.\u0e23"},{name:"\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e25\u0e39\u0e01\u0e40\u0e2a\u0e37\u0e2d"},{name:"\u0e2b\u0e19\u0e49\u0e32\u0e01\u0e32\u0e01\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22"},{name:"\u0e01\u0e23\u0e30\u0e14\u0e32\u0e29\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22 (\u0e40\u0e25\u0e47\u0e01)"},{name:"\u0e01\u0e23\u0e30\u0e14\u0e32\u0e29\u0e2d\u0e19\u0e32\u0e21\u0e31\u0e22 (\u0e43\u0e2b\u0e0d\u0e48)"},{name:"\u0e42\u0e1a\u0e27\u0e4c"}]),t=Object(o.a)(e,2),n=t[0];return t[1],Object(b.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column",flexWrap:"wrap",height:"100vh"},children:n.map((function(e,t){var n=e.name;return Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(b.jsx)(E.a,{value:"1000000000".concat(t)}),Object(b.jsx)("h3",{children:n})]})}))})};var B=function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("h3",{style:{color:"red"},children:"404 \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e19\u0e35\u0e49"})})};var A=function(){return Object(c.useContext)(ee).payItem,Object(b.jsx)("div",{children:"Pay"})};var $=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),a=Object(o.a)(i,2),s=a[0],u=a[1],h=Object(c.useState)(""),f=Object(o.a)(h,2),x=f[0],p=f[1],O=Object(c.useState)(!1),y=Object(o.a)(O,2),v=y[0],w=y[1],k=Object(l.f)(),C=new j.a;Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){e&&k.replace("/admin/dashboard")}))}),[]);var S=function(){var e=Object(g.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!v&&n.length>0&&s.length>0)){e.next=6;break}return w(!0),e.next=5,d.auth().signInWithEmailAndPassword(n,s).then(Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.set("admin","true");case 2:return e.abrupt("return",k.replace("/admin/dashboard"));case 3:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log(e.code),"auth/user-not-found"===e.code&&p("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e19\u0e35\u0e49"),"auth/wrong-password"===e.code&&p("\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e1c\u0e34\u0e14")}));case 5:w(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container",id:"form",children:Object(b.jsxs)("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",width:"30%",boxShadow:"0px 0px 2px 0.5px rgba(0,0,0,0.5)",borderRadius:20,padding:20},children:[Object(b.jsx)("h2",{children:"\u0e25\u0e47\u0e2d\u0e04\u0e2d\u0e34\u0e19"}),Object(b.jsx)("h3",{style:{display:x.length>0?"block":"none",color:"red"},children:x}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:20,marginBottom:20},children:[Object(b.jsx)("h4",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),Object(b.jsx)("input",{className:"loginBox",type:"email",onChange:function(e){return r(e.target.value)}})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:20},children:[Object(b.jsx)("h4",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),Object(b.jsx)("input",{className:"loginBox",type:"password",onChange:function(e){return u(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",style:{cursor:!v&&n.length>0&&s.length>0?"pointer":"not-allowed",border:"none",background:!v&&n.length>0&&s.length>0?"#0099FF":"lightGrey",outline:"none",padding:"16px 50px",borderRadius:50,color:"white"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]})})},L=n(377),V=n(374),G=n(381);var M=function(){var e=new j.a,t=Object(l.f)(),n=Object(c.useState)([]),r=Object(o.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)({}),u=Object(o.a)(s,2),h=u[0],f=u[1],x=Object(c.useState)([]),p=Object(o.a)(x,2),O=p[0],m=p[1],g=Object(c.useState)([]),w=Object(o.a)(g,2),k=w[0],C=w[1];return e.get("admin"),Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){a(e),e||t.replace("/")}))}),[]),Object(c.useEffect)((function(){d.firestore().collection("admin").doc("salary").onSnapshot((function(e){return f(e.data().amount),m(e.data().chart)})),d.firestore().collection("admin").doc("hits").collection("items").orderBy("amount","desc").limit(3).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),C(t)}))}),[]),i===[]?Object(b.jsx)("div",{}):Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-start",background:"#eee",minHeight:"100vh"},children:Object(b.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:20,padding:"50px 20px",background:"white",width:"50%",flexWrap:"wrap",minHeight:"60vh"},children:[Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(b.jsx)("h1",{children:"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e25\u0e31\u0e07\u0e23\u0e49\u0e32\u0e19\u0e21\u0e32\u0e23\u0e4c\u0e17"}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:20},children:[Object(b.jsxs)("h3",{children:["\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 :"," ",null!==i&&i.email?i.email.replace(/@.+/g,""):"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14"]}),Object(b.jsx)(y.a,{icon:v.g,color:"red",style:{cursor:"pointer"},onClick:function(){return d.auth().signOut()}})]})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",flexWrap:"wrap",gap:40},children:[Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h1",{style:{fontSize:"3rem"},children:[void 0===h.day?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14":"".concat(h.day.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17")," "]})]}),Object(b.jsxs)("div",{style:{marginTop:20},children:[Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e19\u0e35\u0e49"}),Object(b.jsxs)("h1",{style:{fontSize:"3rem"},children:[void 0===h.month?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14":"".concat(h.month.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," \u0e1a\u0e32\u0e17")," "]})]})]})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"50vh",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[Object(b.jsx)("div",{style:{width:"100%",flex:.5,height:300},children:Object(b.jsxs)(L.a,{children:[Object(b.jsx)(V.a,{style:{data:{stroke:"#0099FF"},parent:{border:"1px solid black"}},animate:{duration:2e3,onLoad:{duration:1e3}},interpolation:"linear",data:O,x:"day",y:"amount"}),Object(b.jsx)(G.a,{label:"",style:{axisLabel:{padding:10}}}),Object(b.jsx)(G.a,{label:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19",dependentAxis:!0,style:{axisLabel:{padding:40}}})]})}),Object(b.jsxs)("div",{style:{width:"100%",height:"100%",flex:.4,display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column",gap:20},children:[Object(b.jsx)("h3",{style:{marginTop:20},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e02\u0e32\u0e22\u0e14\u0e35\u0e2a\u0e38\u0e14\u0e43\u0e19\u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c\u0e19\u0e35\u0e49"}),k.map((function(e){var t=e.name,n=e.amount;return Object(b.jsxs)("div",{style:{minWidth:"60%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",background:"#f6f6f6",padding:"10px 30px",borderRadius:10,gap:10},children:[Object(b.jsx)("h4",{children:t}),Object(b.jsxs)("h4",{children:[n," \u0e0a\u0e34\u0e49\u0e19"]})]})}))]})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:20,flexWrap:"wrap",marginTop:20},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",alignItems:"center",gap:20,background:"#bebebe",padding:10,borderRadius:6,color:"white",cursor:"pointer"},onClick:function(){return t.push("/admin/stock")},children:[Object(b.jsx)(y.a,{icon:v.d,size:"1x"}),Object(b.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",alignItems:"center",gap:20,background:"grey",padding:10,borderRadius:6,color:"white",cursor:"pointer"},onClick:function(){return t.push("/admin/report/hub")},children:[Object(b.jsx)(y.a,{icon:v.e,size:"1x"}),Object(b.jsx)("h3",{children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})]})]})]})})};var P=function(e){var t=e.isShow,n=e.msg,r=Object(c.useState)(!1),i=Object(o.a)(r,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){s(t),setTimeout((function(){s(!1)}),3e3)}),[t]),Object(b.jsx)("div",{style:{position:"fixed",right:20,top:20,width:"300px",height:"70px",display:"flex",justifyContent:"center",alignItems:"center",color:"black",boxShadow:"0px 0px 2px 0.5px rgba(0,0,0,0.5)",borderRadius:20,background:"white",opacity:a?1:0,transition:"opacity 0.5s"},children:Object(b.jsx)("h3",{children:n})})};function U(e){var t=e.add,n=e.close,r=e.setItem,i=(e.item,e.err),a=e.setExist,s=Object(c.useState)(!0),l=Object(o.a)(s,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){d(t)}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S.a,{onScan:function(e){return r(e)}}),Object(b.jsx)("div",{style:{position:"fixed",display:u?"flex":"none",justifyContent:"center",alignItems:"center",minWidth:"100vw",minHeight:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"30vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:null===i?"Scan Barcode":"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e19\u0e35\u0e49"}),Object(b.jsx)(y.a,{icon:v.c,size:"4x"}),Object(b.jsx)("button",{style:{cursor:"pointer",outline:"none",background:"red",border:"none",borderRadius:20,padding:"10px 40px",color:"white"},onClick:function(){return n(),a(null)},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})})]})}var K=function(e){var t=e.item,n=(e.close,e.add),r=e.from,i=Object(c.useState)(""),a=Object(o.a)(i,2),s=a[0],l=a[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),h=j[0],f=j[1],x=function(){var e=Object(g.a)(m.a.mark((function e(){var n,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(t).get();case 2:if(n=e.sent,"front"!==r){e.next=13;break}if(!(n.data().stock_amount<s||s<=0)){e.next=8;break}f(!0),e.next=11;break;case 8:return c=parseInt(s),e.next=11,d.firestore().collection("stock").doc(t).update({front_amount:n.data().front_amount+c,stock_amount:n.data().stock_amount-c}).then((function(){return window.location.reload()}));case 11:e.next=20;break;case 13:if(!(s<=0)){e.next=17;break}f(!0),e.next=20;break;case 17:return i=parseInt(s),e.next=20,d.firestore().collection("stock").doc(t).update({stock_amount:n.data().stock_amount+i}).then((function(){return window.location.reload()}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{style:{position:"fixed",display:n?"flex":"none",justifyContent:"center",alignItems:"center",minWidth:"100vw",minHeight:"100vh",background:"rgba(0,0,0,0.25)"},children:Object(b.jsxs)("div",{style:{width:"25vw",minHeight:"40vh",background:"white",borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("h1",{children:"\u0e43\u0e2a\u0e48\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(b.jsx)("p",{style:{color:"red",display:h?"block":"none"},children:"\u0e40\u0e0a\u0e47\u0e04\u0e08\u0e33\u0e19\u0e27\u0e19\u0e02\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07"}),Object(b.jsx)("input",{type:"number",value:s,autoFocus:!0,style:{borderBottom:"4px solid #0099FF",width:"20%",outline:"none",border:"none",background:"none",fontSize:28},onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("button",{style:{background:"green",outline:"none",border:"none",borderRadius:20,padding:"10px 40px",color:"white",fontSize:16,cursor:"pointer"},onClick:x,children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})]})})},Y=function(e){var t=e.add,n=e.close,r=e.stock,i=Object(c.useState)(""),a=Object(o.a)(i,2),s=a[0],l=a[1],u=Object(c.useState)(null),j=Object(o.a)(u,2),h=j[0],f=j[1];return Object(c.useEffect)((function(){""!==s&&function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(s).get();case 2:e.sent.exists?f(!0):(f(!1),l(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,h]),Object(c.useEffect)((function(){console.log(h)}),[h]),Object(b.jsx)(b.Fragment,{children:s&&h?Object(b.jsx)(K,{item:s,close:n,add:t,from:r?"stock":"front"}):Object(b.jsx)(U,{add:t,close:n,setItem:function(e){return l(e)},err:h,setExist:function(e){return f(e)}})})},J=function(e){var t=e.item_barcode,n=e.item_name,r=e.item_price,i=e.front_amount,a=e.stock_amount,s=e.removeItem,l=e.front,u=e.addItem,j=e.doc,h=e.success,f=(e.barcodes,Object(c.useState)("")),x=Object(o.a)(f,2),p=x[0],O=x[1],w=Object(c.useState)(""),k=Object(o.a)(w,2),C=k[0],S=k[1],I=Object(c.useState)(""),F=Object(o.a)(I,2),D=F[0],E=F[1],R=Object(c.useState)(""),N=Object(o.a)(R,2),T=N[0],W=N[1],H=Object(c.useState)(!1),_=Object(o.a)(H,2),z=_[0],B=_[1],A=Object(c.useState)(""),$=Object(o.a)(A,2),L=$[0],V=$[1];Object(c.useEffect)((function(){O(t),S(n),E(r),W(l?i:a)}),[l]),Object(c.useEffect)((function(){var e,c=l?i:a;p!==t&&(e=!0),C!==n&&(e=!0),D!==r&&(e=!0),T!==c&&(e=!0),p===t&&C===n&&D===r&&T===c&&(e=!1),!u&&B(e)}),[C,p,D,T]);var G=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.firestore().collection("stock").doc(p).get();case 2:if(e.sent.exists){e.next=8;break}return e.next=6,d.firestore().collection("stock").doc(p).set({barcode:p,name:C,price:parseInt(D),front_amount:0,stock_amount:parseInt(T),createdAt:d.firestore.FieldValue.serverTimestamp()}).then((function(){return h(),d.firestore().collection("stock").doc("count").update({amount:d.firestore.FieldValue.increment(1)}),V("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),setTimeout((function(){s()}),1e3)}));case 6:e.next=9;break;case 8:V("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08");case 9:setTimeout((function(){V("")}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,d.firestore().collection("stock").doc(j).update({barcode:p,name:C,price:parseInt(D),front_amount:parseInt(T)}).then((function(){return B(!1)}));case 3:e.next=7;break;case 5:return e.next=7,d.firestore().collection("stock").doc(j).update({barcode:p,name:C,price:parseInt(D),stock_amount:parseInt(T)}).then((function(){return B(!1)})).catch((function(e){return console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P,{isShow:""!==L,msg:L}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"white",boxShadow:"0px 0px 6px 0.5px rgba(0,0,0,0.25)",minWidth:"70%",padding:10,minHeight:"50px",borderRadius:10},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",gap:20},children:[Object(b.jsx)("label",{children:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14 :"}),u?Object(b.jsx)("input",{type:"text",placeholder:"123456789",className:"items-input",value:p,onChange:function(e){return O(e.target.value)}}):Object(b.jsx)("h3",{className:"items-input",children:p}),Object(b.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d :"}),Object(b.jsx)("input",{type:"text",placeholder:"\u0e19\u0e49\u0e33\u0e14\u0e37\u0e48\u0e21\u0e15\u0e23\u0e32 \u0e20\u0e27.",className:"items-input",value:C,onChange:function(e){return S(e.target.value)}}),!l&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:"\u0e23\u0e32\u0e04\u0e32 :"}),Object(b.jsx)("input",{type:"number",placeholder:"5",className:"items-input",style:{width:"5vw"},value:D,onChange:function(e){return E(parseInt(e.target.value))}}),Object(b.jsx)("label",{children:"\u0e1a\u0e32\u0e17"})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:l?"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e43\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19 : ":"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01 :"}),l?Object(b.jsx)("h3",{className:"items-input",style:{width:"2vw",color:T>5?"black":"red"},children:T>0?T.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"\u0e2b\u0e21\u0e14"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{type:"number",value:T,className:"items-input",style:{width:"5vw"},onChange:function(e){return W(e.target.value)}}),Object(b.jsx)("label",{children:"\u0e0a\u0e34\u0e49\u0e19"})]})]}),u?Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:20},children:[Object(b.jsx)(y.a,{icon:v.i,style:{cursor:"pointer"},onClick:function(){return s()}}),Object(b.jsx)("button",{onClick:G,style:{background:"green",color:"white",outline:"none",border:"none",padding:10,borderRadius:10,cursor:"pointer"},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]}):Object(b.jsx)("div",{style:{display:l?"none":"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:function(){s(C),d.firestore().collection("stock").doc(j).delete()},children:Object(b.jsx)(y.a,{icon:v.i})})]}),z&&Object(b.jsx)("button",{onClick:M,style:{marginTop:20,width:"100px",background:"orange ",color:"white",outline:"none",border:"none",padding:10,borderRadius:10,cursor:"pointer",alignSelf:"flex-end"},children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]})]})};var Q=function(){new j.a;var e=Object(l.f)(),t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(!0),s=Object(o.a)(a,2),u=s[0],h=s[1],x=Object(c.useState)(!1),O=Object(o.a)(x,2),m=O[0],g=O[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),C=k[0],S=k[1],I=Object(c.useState)(null),F=Object(o.a)(I,2),D=F[0],E=F[1],R=Object(c.useState)(!1),N=Object(o.a)(R,2),T=(N[0],N[1],Object(c.useState)(!1)),W=Object(o.a)(T,2),H=W[0],_=W[1],z=Object(c.useState)(!1),B=Object(o.a)(z,2),A=B[0],$=B[1],L=Object(c.useState)(0),V=Object(o.a)(L,2),G=V[0],M=V[1],P=Object(c.useState)(0),U=Object(o.a)(P,2),K=(U[0],U[1]),Q=Object(c.useState)(0),q=Object(o.a)(Q,2),X=q[0],Z=q[1],ee=Object(c.useState)([]),te=Object(o.a)(ee,2),ne=te[0],ce=te[1];Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(t){i(t),t||e.replace("/")}))}),[]),Object(c.useEffect)((function(){d.firestore().collection("stock").orderBy("createdAt","asc").limit(5).get().then((function(e){var t,n=[];e.forEach((function(e){"count"!==e.id&&n.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})),K((function(e){return e+1})),t=e.data().createdAt})),ce((function(e){return[].concat(n)})),E(t)})),d.firestore().collection("stock").doc("count").get().then((function(e){return M(e.data().amount)}))}),[X]);var re=function(e){var t=e.currentTarget.window;Math.round(t.innerHeight+t.scrollY)===document.body.offsetHeight&&void 0!==D&&(S(!0),d.firestore().collection("stock").orderBy("createdAt","asc").startAfter(D).limit(5).get().then((function(e){var t,n=[];e.forEach((function(e){"count"===e.id&&ne.some((function(t){return t.name===e.data().name}))||(n.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})),t=e.data().createdAt)})),ce((function(e){return[].concat(Object(p.a)(e),n)})),E(t),S(!1)})).catch((function(e){return console.log(e.code)})))};return Object(c.useEffect)((function(){return window.addEventListener("scroll",re),console.log(ne),function(){return window.removeEventListener("scroll",re)}}),[D]),r===[]?Object(b.jsx)("div",{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Y,{add:H,close:function(){return _(!1)}}),Object(b.jsx)(Y,{add:A,close:function(){return $(!1)},stock:!0}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",background:u?"#0099FF":"white",minHeight:"100vh"},children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"50px 20px",background:u?"white":"#0099FF",width:"90%",flexWrap:"wrap"},children:[Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:20,cursor:"pointer"},onClick:function(){return e.replace("/admin/dashboard")},children:[Object(b.jsx)(y.a,{icon:v.a,size:"1x",color:u?"black":"white"}),Object(b.jsx)("h4",{style:{color:u?"black":"white"},children:"\u0e01\u0e25\u0e31\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"})]}),Object(b.jsx)("div",{style:{display:"flex",borderRadius:50,justifyContent:"center",alignItems:"center",width:"100%",flexWrap:"wrap",gap:100},children:Object(b.jsxs)("div",{style:{marginTop:20,borderBottom:u?"6px solid #0099FF":"6px solid white"},children:[Object(b.jsx)("h2",{style:{color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),Object(b.jsxs)("h1",{style:{fontSize:64,color:u?"black":"white"},children:[G.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u0e0a\u0e34\u0e49\u0e19"]})]})}),Object(b.jsxs)("div",{style:{marginTop:50,height:100,display:"flex",justifyContent:"center",alignItems:"center",gap:100},children:[Object(b.jsx)("div",{onClick:function(){return h(!u)},style:{cursor:"pointer",borderBottom:u?"4px solid #0099FF":"0px solid #0099FF",transition:"border-bottom 100ms"},children:Object(b.jsx)("h3",{style:{fontSize:"1.25em",color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19"})}),Object(b.jsx)("div",{onClick:function(){return h(!u)},style:{cursor:"pointer",borderBottom:u?"0px solid #0099FF":"4px solid white",transition:"border-bottom 100ms"},children:Object(b.jsx)("h3",{style:{fontSize:"1.25em",color:u?"black":"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01"})})]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:[Object(b.jsxs)("div",{style:{padding:20,borderRadius:20,display:u?"flex":"none",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"black",cursor:"pointer"},onClick:function(){return _(!0)},children:[Object(b.jsx)(y.a,{icon:v.f}),Object(b.jsx)("h4",{children:"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19"})]}),Object(b.jsxs)("div",{style:{width:"100px",padding:20,borderRadius:20,display:u?"none":"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"white",cursor:"pointer"},onClick:function(){return g(!0)},children:[Object(b.jsx)(y.a,{icon:v.f}),Object(b.jsx)("h4",{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]}),Object(b.jsxs)("div",{style:{padding:20,borderRadius:20,display:u?"none":"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,color:"#58EF2E",cursor:"pointer"},onClick:function(){return $(!0)},children:[Object(b.jsx)(y.a,{icon:v.f}),Object(b.jsx)("h4",{children:"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e47\u0e2d\u0e01"})]})]}),m&&!u&&Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)(J,{from:"stock",removeItem:function(){return g(!1)},addItem:!0,success:function(){return Z((function(e){return e+1}))}})})]}),Object(b.jsxs)("div",{style:{marginTop:100,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",gap:20},children:[0===ne.length&&Object(b.jsx)("h3",{children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),ne.sort((function(e,t){return u?t.front_item-e.front_item:t.stock_item-e.stock_item})).map((function(e){var t=e.name,n=(e.barcode,e.price),c=e.front_amount,r=e.stock_amount,i=e.id;return Object(b.jsx)(J,{doc:i,item_barcode:i,item_name:t.toString(),item_price:n,front_amount:c,stock_amount:r,front:u,removeItem:function(e){return ce((function(t){return t.filter((function(t){return t.name!==e}))})),d.firestore().collection("stock").doc("count").update({amount:d.firestore.FieldValue.increment(-1)}),Z((function(e){return e-1}))}},i)})),C&&Object(b.jsx)("h2",{children:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14"})]})]})})]})};var q=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=(new j.a,n.reduce((function(e,t){return e+t.price}),0),Object(c.useState)(0)),a=Object(o.a)(i,2),s=a[0],u=a[1];return Object(l.g)().counter,Object(c.useEffect)((function(){(function(){var e=Object(g.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URL(window.location.href),n=t.searchParams.get("counter"),d.firestore().collection("counter").doc(n).onSnapshot((function(e){return r(Object(p.a)(e.data().now)),u(e.data().change)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",minHeight:"100vh",background:"#0099FF"},children:[Object(b.jsxs)("div",{style:{overflow:"hidden",marginLeft:20,minWidth:"60%",background:"black",height:"90vh",backgroundColor:"white",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",paddingLeft:"50px",borderRadius:"40px",position:"relative"},children:[Object(b.jsxs)("h3",{style:{marginTop:50,fontSize:48},children:["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"," ",n.length,"\u0e0a\u0e34\u0e49\u0e19"]}),Object(b.jsx)("div",{style:{overflowY:"scroll",maxHeight:650,width:"90%",padding:10},id:"items",children:Object(b.jsx)("div",{className:"all-items",children:n.map((function(e,t){var n=e.name,c=e.amount,r=e.price;return Object(b.jsx)(w,{order:t+1,name:n,id:t,amount:c,price:r,customer:!0},t)}))})})]}),Object(b.jsxs)("div",{style:{width:"100%",height:"90vh",marginRight:20,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[Object(b.jsx)("div",{style:{minWidth:"80%",minHeight:"60%",backgroundColor:"white",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.2)",paddingLeft:"50px",borderRadius:"40px",padding:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:20},children:Object(b.jsx)("iframe",{src:"https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2FPKWSchoolOfficial%2Fposts%2F902029460368426&width=300&show_text=true&height=574&appId",width:"350",height:"574",style:{border:"none",overflow:"hidden"},scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}),Object(b.jsxs)("div",{style:{background:"white",minWidth:"90%",minHeight:"20%",borderRadius:20,display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"column"},children:[Object(b.jsxs)("h3",{style:{fontSize:"3rem"},children:["\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"," ",Object(b.jsx)("span",{style:{color:"#0099FF"},children:n.reduce((function(e,t){return e+t.price}),0)})," ","\u0e1a\u0e32\u0e17"]}),Object(b.jsxs)("h3",{style:{fontSize:"3rem"},children:["\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19",Object(b.jsx)("span",{style:{color:"#0099FF"},children:s})," \u0e1a\u0e32\u0e17"]})]})]})]})})};var X=function(){return Object(b.jsx)("div",{children:"Report"})};var Z=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),r=Object(o.a)(n,2);return r[0],r[1],Object(c.useEffect)((function(){d.firestore().collection("history").orderBy("time","desc").limit(91).get().then((function(e){var t=0;e.forEach((function(e){return t+=parseInt(e.data().payIn)})),console.log(t)}))}),[]),Object(b.jsx)("div",{})},ee=Object(c.createContext)();var te=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),r=Object(o.a)(n,2),i=r[0],a=r[1];return Object(b.jsx)(ee.Provider,{value:{GlobalItem:i,setGlobalItem:a},children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",exact:!0,component:h}),Object(b.jsx)(l.a,{path:"/test",exact:!0,component:Z}),Object(b.jsx)(l.a,{path:"/merchant/checkout",exact:!0,component:H}),Object(b.jsx)(l.a,{path:"/merchant/print",exact:!0,component:R}),Object(b.jsx)(l.a,{path:"/merchant/end",exact:!0,component:_}),Object(b.jsx)(l.a,{path:"/merchant/customer",exact:!0,component:q}),Object(b.jsx)(l.a,{path:"/merchant/barcode",exact:!0,component:z}),Object(b.jsx)(l.a,{path:"/pay",exact:!0,component:A}),Object(b.jsx)(l.a,{path:"/404",exact:!0,component:B}),Object(b.jsx)(l.a,{path:"/admin",exact:!0,component:$}),Object(b.jsx)(l.a,{path:"/admin/dashboard",exact:!0,component:M}),Object(b.jsx)(l.a,{path:"/admin/stock",exact:!0,component:Q}),Object(b.jsx)(l.a,{path:"/admin/report/hub",exact:!0,component:X})]})})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,383)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(te,{})}),document.getElementById("root")),ne()},42:function(e,t,n){}},[[366,1,2]]]);
//# sourceMappingURL=main.6ebcec4a.chunk.js.map